(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Aw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kc={exports:{}},Ss={},Ic={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Lw(){if(Im)return le;Im=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,b={};function A(x,D,oe){this.props=x,this.context=D,this.refs=b,this.updater=oe||R}A.prototype.isReactComponent={},A.prototype.setState=function(x,D){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,D,"setState")},A.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function z(){}z.prototype=A.prototype;function $(x,D,oe){this.props=x,this.context=D,this.refs=b,this.updater=oe||R}var B=$.prototype=new z;B.constructor=$,O(B,A.prototype),B.isPureReactComponent=!0;var ie=Array.isArray,he=Object.prototype.hasOwnProperty,P={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function H(x,D,oe){var ce,me={},ge=null,ke=null;if(D!=null)for(ce in D.ref!==void 0&&(ke=D.ref),D.key!==void 0&&(ge=""+D.key),D)he.call(D,ce)&&!J.hasOwnProperty(ce)&&(me[ce]=D[ce]);var we=arguments.length-2;if(we===1)me.children=oe;else if(1<we){for(var be=Array(we),St=0;St<we;St++)be[St]=arguments[St+2];me.children=be}if(x&&x.defaultProps)for(ce in we=x.defaultProps,we)me[ce]===void 0&&(me[ce]=we[ce]);return{$$typeof:r,type:x,key:ge,ref:ke,props:me,_owner:P.current}}function X(x,D){return{$$typeof:r,type:x.type,key:D,ref:x.ref,props:x.props,_owner:x._owner}}function pe(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function Qt(x){var D={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return D[oe]})}var Jt=/\/+/g;function Ct(x,D){return typeof x=="object"&&x!==null&&x.key!=null?Qt(""+x.key):D.toString(36)}function jt(x,D,oe,ce,me){var ge=typeof x;(ge==="undefined"||ge==="boolean")&&(x=null);var ke=!1;if(x===null)ke=!0;else switch(ge){case"string":case"number":ke=!0;break;case"object":switch(x.$$typeof){case r:case e:ke=!0}}if(ke)return ke=x,me=me(ke),x=ce===""?"."+Ct(ke,0):ce,ie(me)?(oe="",x!=null&&(oe=x.replace(Jt,"$&/")+"/"),jt(me,D,oe,"",function(St){return St})):me!=null&&(pe(me)&&(me=X(me,oe+(!me.key||ke&&ke.key===me.key?"":(""+me.key).replace(Jt,"$&/")+"/")+x)),D.push(me)),1;if(ke=0,ce=ce===""?".":ce+":",ie(x))for(var we=0;we<x.length;we++){ge=x[we];var be=ce+Ct(ge,we);ke+=jt(ge,D,oe,be,me)}else if(be=E(x),typeof be=="function")for(x=be.call(x),we=0;!(ge=x.next()).done;)ge=ge.value,be=ce+Ct(ge,we++),ke+=jt(ge,D,oe,be,me);else if(ge==="object")throw D=String(x),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ke}function Xt(x,D,oe){if(x==null)return x;var ce=[],me=0;return jt(x,ce,"","",function(ge){return D.call(oe,ge,me++)}),ce}function pt(x){if(x._status===-1){var D=x._result;D=D(),D.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=D)}if(x._status===1)return x._result.default;throw x._result}var Me={current:null},W={transition:null},te={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:W,ReactCurrentOwner:P};function K(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Xt,forEach:function(x,D,oe){Xt(x,function(){D.apply(this,arguments)},oe)},count:function(x){var D=0;return Xt(x,function(){D++}),D},toArray:function(x){return Xt(x,function(D){return D})||[]},only:function(x){if(!pe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},le.Component=A,le.Fragment=t,le.Profiler=o,le.PureComponent=$,le.StrictMode=s,le.Suspense=p,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,le.act=K,le.cloneElement=function(x,D,oe){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ce=O({},x.props),me=x.key,ge=x.ref,ke=x._owner;if(D!=null){if(D.ref!==void 0&&(ge=D.ref,ke=P.current),D.key!==void 0&&(me=""+D.key),x.type&&x.type.defaultProps)var we=x.type.defaultProps;for(be in D)he.call(D,be)&&!J.hasOwnProperty(be)&&(ce[be]=D[be]===void 0&&we!==void 0?we[be]:D[be])}var be=arguments.length-2;if(be===1)ce.children=oe;else if(1<be){we=Array(be);for(var St=0;St<be;St++)we[St]=arguments[St+2];ce.children=we}return{$$typeof:r,type:x.type,key:me,ref:ge,props:ce,_owner:ke}},le.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:a,_context:x},x.Consumer=x},le.createElement=H,le.createFactory=function(x){var D=H.bind(null,x);return D.type=x,D},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:h,render:x}},le.isValidElement=pe,le.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:pt}},le.memo=function(x,D){return{$$typeof:m,type:x,compare:D===void 0?null:D}},le.startTransition=function(x){var D=W.transition;W.transition={};try{x()}finally{W.transition=D}},le.unstable_act=K,le.useCallback=function(x,D){return Me.current.useCallback(x,D)},le.useContext=function(x){return Me.current.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x){return Me.current.useDeferredValue(x)},le.useEffect=function(x,D){return Me.current.useEffect(x,D)},le.useId=function(){return Me.current.useId()},le.useImperativeHandle=function(x,D,oe){return Me.current.useImperativeHandle(x,D,oe)},le.useInsertionEffect=function(x,D){return Me.current.useInsertionEffect(x,D)},le.useLayoutEffect=function(x,D){return Me.current.useLayoutEffect(x,D)},le.useMemo=function(x,D){return Me.current.useMemo(x,D)},le.useReducer=function(x,D,oe){return Me.current.useReducer(x,D,oe)},le.useRef=function(x){return Me.current.useRef(x)},le.useState=function(x){return Me.current.useState(x)},le.useSyncExternalStore=function(x,D,oe){return Me.current.useSyncExternalStore(x,D,oe)},le.useTransition=function(){return Me.current.useTransition()},le.version="18.3.1",le}var Tm;function xd(){return Tm||(Tm=1,Ic.exports=Lw()),Ic.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Dw(){if(Nm)return Ss;Nm=1;var r=xd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var v,y={},E=null,R=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(R=p.ref);for(v in p)s.call(p,v)&&!a.hasOwnProperty(v)&&(y[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:e,type:h,key:E,ref:R,props:y,_owner:o.current}}return Ss.Fragment=t,Ss.jsx=c,Ss.jsxs=c,Ss}var Rm;function Mw(){return Rm||(Rm=1,kc.exports=Dw()),kc.exports}var _=Mw(),Il={},Tc={exports:{}},wt={},Nc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function jw(){return Pm||(Pm=1,(function(r){function e(W,te){var K=W.length;W.push(te);e:for(;0<K;){var x=K-1>>>1,D=W[x];if(0<o(D,te))W[x]=te,W[K]=D,K=x;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var te=W[0],K=W.pop();if(K!==te){W[0]=K;e:for(var x=0,D=W.length,oe=D>>>1;x<oe;){var ce=2*(x+1)-1,me=W[ce],ge=ce+1,ke=W[ge];if(0>o(me,K))ge<D&&0>o(ke,me)?(W[x]=ke,W[ge]=K,x=ge):(W[x]=me,W[ce]=K,x=ce);else if(ge<D&&0>o(ke,K))W[x]=ke,W[ge]=K,x=ge;else break e}}return te}function o(W,te){var K=W.sortIndex-te.sortIndex;return K!==0?K:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],m=[],v=1,y=null,E=3,R=!1,O=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(W){for(var te=t(m);te!==null;){if(te.callback===null)s(m);else if(te.startTime<=W)s(m),te.sortIndex=te.expirationTime,e(p,te);else break;te=t(m)}}function ie(W){if(b=!1,B(W),!O)if(t(p)!==null)O=!0,pt(he);else{var te=t(m);te!==null&&Me(ie,te.startTime-W)}}function he(W,te){O=!1,b&&(b=!1,z(H),H=-1),R=!0;var K=E;try{for(B(te),y=t(p);y!==null&&(!(y.expirationTime>te)||W&&!Qt());){var x=y.callback;if(typeof x=="function"){y.callback=null,E=y.priorityLevel;var D=x(y.expirationTime<=te);te=r.unstable_now(),typeof D=="function"?y.callback=D:y===t(p)&&s(p),B(te)}else s(p);y=t(p)}if(y!==null)var oe=!0;else{var ce=t(m);ce!==null&&Me(ie,ce.startTime-te),oe=!1}return oe}finally{y=null,E=K,R=!1}}var P=!1,J=null,H=-1,X=5,pe=-1;function Qt(){return!(r.unstable_now()-pe<X)}function Jt(){if(J!==null){var W=r.unstable_now();pe=W;var te=!0;try{te=J(!0,W)}finally{te?Ct():(P=!1,J=null)}}else P=!1}var Ct;if(typeof $=="function")Ct=function(){$(Jt)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Xt=jt.port2;jt.port1.onmessage=Jt,Ct=function(){Xt.postMessage(null)}}else Ct=function(){A(Jt,0)};function pt(W){J=W,P||(P=!0,Ct())}function Me(W,te){H=A(function(){W(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){O||R||(O=!0,pt(he))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(W){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var K=E;E=te;try{return W()}finally{E=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var K=E;E=W;try{return te()}finally{E=K}},r.unstable_scheduleCallback=function(W,te,K){var x=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?x+K:x):K=x,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,W={id:v++,callback:te,priorityLevel:W,startTime:K,expirationTime:D,sortIndex:-1},K>x?(W.sortIndex=K,e(m,W),t(p)===null&&W===t(m)&&(b?(z(H),H=-1):b=!0,Me(ie,K-x))):(W.sortIndex=D,e(p,W),O||R||(O=!0,pt(he))),W},r.unstable_shouldYield=Qt,r.unstable_wrapCallback=function(W){var te=E;return function(){var K=E;E=te;try{return W.apply(this,arguments)}finally{E=K}}}})(Rc)),Rc}var bm;function Fw(){return bm||(bm=1,Nc.exports=jw()),Nc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Uw(){if(Om)return wt;Om=1;var r=xd(),e=Fw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function E(n){return p.call(y,n)?!0:p.call(v,n)?!1:m.test(n)?y[n]=!0:(v[n]=!0,!1)}function R(n,i,l,u){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,i,l,u){if(i===null||typeof i>"u"||R(n,i,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(n,i,l,u,d,f,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=f,this.removeEmptyString=g}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){A[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];A[i]=new b(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){A[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){A[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){A[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){A[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){A[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){A[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){A[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function $(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(z,$);A[i]=new b(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(z,$);A[i]=new b(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(z,$);A[i]=new b(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){A[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),A.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){A[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function B(n,i,l,u){var d=A.hasOwnProperty(i)?A[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,l,d,u)&&(l=null),u||d===null?E(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):d.mustUseProperty?n[d.propertyName]=l===null?d.type===3?!1:"":l:(i=d.attributeName,u=d.attributeNamespace,l===null?n.removeAttribute(i):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,u?n.setAttributeNS(u,i,l):n.setAttribute(i,l))))}var ie=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),P=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Qt=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),Xt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),W=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,x;function D(n){if(x===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||""}return`
`+x+n}var oe=!1;function ce(n,i){if(!n||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var u=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){u=N}n.call(i.prototype)}else{try{throw Error()}catch(N){u=N}n()}}catch(N){if(N&&u&&typeof N.stack=="string"){for(var d=N.stack.split(`
`),f=u.stack.split(`
`),g=d.length-1,w=f.length-1;1<=g&&0<=w&&d[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==f[w]){var C=`
`+d[g].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=g&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?D(n):""}function me(n){switch(n.tag){case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return n=ce(n.type,!1),n;case 11:return n=ce(n.type.render,!1),n;case 1:return n=ce(n.type,!0),n;default:return""}}function ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case J:return"Fragment";case P:return"Portal";case X:return"Profiler";case H:return"StrictMode";case Ct:return"Suspense";case jt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Qt:return(n.displayName||"Context")+".Consumer";case pe:return(n._context.displayName||"Context")+".Provider";case Jt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xt:return i=n.displayName||null,i!==null?i:ge(n.type)||"Memo";case pt:i=n._payload,n=n._init;try{return ge(n(i))}catch{}}return null}function ke(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(i);case 8:return i===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function St(n){var i=be(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){u=""+g,f.call(this,g)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(g){u=""+g},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function go(n){n._valueTracker||(n._valueTracker=St(n))}function bh(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return n&&(u=be(n)?n.checked?"true":"false":n.value),n=u,n!==l?(i.setValue(n),!0):!1}function _o(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Oa(n,i){var l=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Oh(n,i){var l=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;l=we(i.value!=null?i.value:l),n._wrapperState={initialChecked:u,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ah(n,i){i=i.checked,i!=null&&B(n,"checked",i,!1)}function Aa(n,i){Ah(n,i);var l=we(i.value),u=i.type;if(l!=null)u==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?La(n,i.type,l):i.hasOwnProperty("defaultValue")&&La(n,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Lh(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function La(n,i,l){(i!=="number"||_o(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Fi=Array.isArray;function Wr(n,i,l,u){if(n=n.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=i.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&u&&(n[l].defaultSelected=!0)}else{for(l=""+we(l),i=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Da(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Dh(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Fi(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:we(l)}}function Mh(n,i){var l=we(i.value),u=we(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),u!=null&&(n.defaultValue=""+u)}function jh(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Fh(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Fh(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vo,Uh=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,u,d){MSApp.execUnsafeLocalFunction(function(){return n(i,l,u,d)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=vo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ui(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jy=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(n){jy.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),zi[i]=zi[n]})});function zh(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||zi.hasOwnProperty(n)&&zi[n]?(""+i).trim():i+"px"}function Bh(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var u=l.indexOf("--")===0,d=zh(l,i[l],u);l==="float"&&(l="cssFloat"),u?n.setProperty(l,d):n[l]=d}}var Fy=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(n,i){if(i){if(Fy[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Fa(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function za(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ba=null,Hr=null,Vr=null;function Wh(n){if(n=as(n)){if(typeof Ba!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Bo(i),Ba(n.stateNode,n.type,i))}}function Hh(n){Hr?Vr?Vr.push(n):Vr=[n]:Hr=n}function Vh(){if(Hr){var n=Hr,i=Vr;if(Vr=Hr=null,Wh(n),i)for(n=0;n<i.length;n++)Wh(i[n])}}function $h(n,i){return n(i)}function Gh(){}var Wa=!1;function Kh(n,i,l){if(Wa)return n(i,l);Wa=!0;try{return $h(n,i,l)}finally{Wa=!1,(Hr!==null||Vr!==null)&&(Gh(),Vh())}}function Bi(n,i){var l=n.stateNode;if(l===null)return null;var u=Bo(l);if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Ha=!1;if(h)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Ha=!1}function Uy(n,i,l,u,d,f,g,w,C){var N=Array.prototype.slice.call(arguments,3);try{i.apply(l,N)}catch(M){this.onError(M)}}var Hi=!1,yo=null,wo=!1,Va=null,zy={onError:function(n){Hi=!0,yo=n}};function By(n,i,l,u,d,f,g,w,C){Hi=!1,yo=null,Uy.apply(zy,arguments)}function Wy(n,i,l,u,d,f,g,w,C){if(By.apply(this,arguments),Hi){if(Hi){var N=yo;Hi=!1,yo=null}else throw Error(t(198));wo||(wo=!0,Va=N)}}function pr(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function qh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Yh(n){if(pr(n)!==n)throw Error(t(188))}function Hy(n){var i=n.alternate;if(!i){if(i=pr(n),i===null)throw Error(t(188));return i!==n?null:n}for(var l=n,u=i;;){var d=l.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===l)return Yh(d),n;if(f===u)return Yh(d),i;f=f.sibling}throw Error(t(188))}if(l.return!==u.return)l=d,u=f;else{for(var g=!1,w=d.child;w;){if(w===l){g=!0,l=d,u=f;break}if(w===u){g=!0,u=d,l=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===l){g=!0,l=f,u=d;break}if(w===u){g=!0,u=f,l=d;break}w=w.sibling}if(!g)throw Error(t(189))}}if(l.alternate!==u)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:i}function Qh(n){return n=Hy(n),n!==null?Jh(n):null}function Jh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Jh(n);if(i!==null)return i;n=n.sibling}return null}var Xh=e.unstable_scheduleCallback,Zh=e.unstable_cancelCallback,Vy=e.unstable_shouldYield,$y=e.unstable_requestPaint,ze=e.unstable_now,Gy=e.unstable_getCurrentPriorityLevel,$a=e.unstable_ImmediatePriority,ef=e.unstable_UserBlockingPriority,Eo=e.unstable_NormalPriority,Ky=e.unstable_LowPriority,tf=e.unstable_IdlePriority,Co=null,Zt=null;function qy(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Co,n,void 0,(n.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Jy,Yy=Math.log,Qy=Math.LN2;function Jy(n){return n>>>=0,n===0?32:31-(Yy(n)/Qy|0)|0}var So=64,xo=4194304;function Vi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ko(n,i){var l=n.pendingLanes;if(l===0)return 0;var u=0,d=n.suspendedLanes,f=n.pingedLanes,g=l&268435455;if(g!==0){var w=g&~d;w!==0?u=Vi(w):(f&=g,f!==0&&(u=Vi(f)))}else g=l&~d,g!==0?u=Vi(g):f!==0&&(u=Vi(f));if(u===0)return 0;if(i!==0&&i!==u&&(i&d)===0&&(d=u&-u,f=i&-i,d>=f||d===16&&(f&4194240)!==0))return i;if((u&4)!==0&&(u|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=u;0<i;)l=31-Ft(i),d=1<<l,u|=n[l],i&=~d;return u}function Xy(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zy(n,i){for(var l=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var g=31-Ft(f),w=1<<g,C=d[g];C===-1?((w&l)===0||(w&u)!==0)&&(d[g]=Xy(w,i)):C<=i&&(n.expiredLanes|=w),f&=~w}}function Ga(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function nf(){var n=So;return So<<=1,(So&4194240)===0&&(So=64),n}function Ka(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function $i(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Ft(i),n[i]=l}function e0(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<l;){var d=31-Ft(l),f=1<<d;i[d]=0,u[d]=-1,n[d]=-1,l&=~f}}function qa(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var u=31-Ft(l),d=1<<u;d&i|n[u]&i&&(n[u]|=i),l&=~d}}var Ee=0;function rf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var sf,Ya,of,lf,af,Qa=!1,Io=[],bn=null,On=null,An=null,Gi=new Map,Ki=new Map,Ln=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(n,i){switch(n){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Gi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(i.pointerId)}}function qi(n,i,l,u,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},i!==null&&(i=as(i),i!==null&&Ya(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function n0(n,i,l,u,d){switch(i){case"focusin":return bn=qi(bn,n,i,l,u,d),!0;case"dragenter":return On=qi(On,n,i,l,u,d),!0;case"mouseover":return An=qi(An,n,i,l,u,d),!0;case"pointerover":var f=d.pointerId;return Gi.set(f,qi(Gi.get(f)||null,n,i,l,u,d)),!0;case"gotpointercapture":return f=d.pointerId,Ki.set(f,qi(Ki.get(f)||null,n,i,l,u,d)),!0}return!1}function cf(n){var i=mr(n.target);if(i!==null){var l=pr(i);if(l!==null){if(i=l.tag,i===13){if(i=qh(l),i!==null){n.blockedOn=i,af(n.priority,function(){of(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function To(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Xa(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Ua=u,l.target.dispatchEvent(u),Ua=null}else return i=as(l),i!==null&&Ya(i),n.blockedOn=l,!1;i.shift()}return!0}function df(n,i,l){To(n)&&l.delete(i)}function r0(){Qa=!1,bn!==null&&To(bn)&&(bn=null),On!==null&&To(On)&&(On=null),An!==null&&To(An)&&(An=null),Gi.forEach(df),Ki.forEach(df)}function Yi(n,i){n.blockedOn===i&&(n.blockedOn=null,Qa||(Qa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,r0)))}function Qi(n){function i(d){return Yi(d,n)}if(0<Io.length){Yi(Io[0],n);for(var l=1;l<Io.length;l++){var u=Io[l];u.blockedOn===n&&(u.blockedOn=null)}}for(bn!==null&&Yi(bn,n),On!==null&&Yi(On,n),An!==null&&Yi(An,n),Gi.forEach(i),Ki.forEach(i),l=0;l<Ln.length;l++)u=Ln[l],u.blockedOn===n&&(u.blockedOn=null);for(;0<Ln.length&&(l=Ln[0],l.blockedOn===null);)cf(l),l.blockedOn===null&&Ln.shift()}var $r=ie.ReactCurrentBatchConfig,No=!0;function i0(n,i,l,u){var d=Ee,f=$r.transition;$r.transition=null;try{Ee=1,Ja(n,i,l,u)}finally{Ee=d,$r.transition=f}}function s0(n,i,l,u){var d=Ee,f=$r.transition;$r.transition=null;try{Ee=4,Ja(n,i,l,u)}finally{Ee=d,$r.transition=f}}function Ja(n,i,l,u){if(No){var d=Xa(n,i,l,u);if(d===null)mu(n,i,u,Ro,l),uf(n,u);else if(n0(d,n,i,l,u))u.stopPropagation();else if(uf(n,u),i&4&&-1<t0.indexOf(n)){for(;d!==null;){var f=as(d);if(f!==null&&sf(f),f=Xa(n,i,l,u),f===null&&mu(n,i,u,Ro,l),f===d)break;d=f}d!==null&&u.stopPropagation()}else mu(n,i,u,null,l)}}var Ro=null;function Xa(n,i,l,u){if(Ro=null,n=za(u),n=mr(n),n!==null)if(i=pr(n),i===null)n=null;else if(l=i.tag,l===13){if(n=qh(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ro=n,null}function hf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gy()){case $a:return 1;case ef:return 4;case Eo:case Ky:return 16;case tf:return 536870912;default:return 16}default:return 16}}var Dn=null,Za=null,Po=null;function ff(){if(Po)return Po;var n,i=Za,l=i.length,u,d="value"in Dn?Dn.value:Dn.textContent,f=d.length;for(n=0;n<l&&i[n]===d[n];n++);var g=l-n;for(u=1;u<=g&&i[l-u]===d[f-u];u++);return Po=d.slice(n,1<u?1-u:void 0)}function bo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Oo(){return!0}function pf(){return!1}function xt(n){function i(l,u,d,f,g){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(l=n[w],this[w]=l?l(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oo:pf,this.isPropagationStopped=pf,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),i}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=xt(Gr),Ji=K({},Gr,{view:0,detail:0}),o0=xt(Ji),tu,nu,Xi,Ao=K({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xi&&(Xi&&n.type==="mousemove"?(tu=n.screenX-Xi.screenX,nu=n.screenY-Xi.screenY):nu=tu=0,Xi=n),tu)},movementY:function(n){return"movementY"in n?n.movementY:nu}}),mf=xt(Ao),l0=K({},Ao,{dataTransfer:0}),a0=xt(l0),u0=K({},Ji,{relatedTarget:0}),ru=xt(u0),c0=K({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),d0=xt(c0),h0=K({},Gr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),f0=xt(h0),p0=K({},Gr,{data:0}),gf=xt(p0),m0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v0(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=_0[n])?!!i[n]:!1}function iu(){return v0}var y0=K({},Ji,{key:function(n){if(n.key){var i=m0[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=bo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?g0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(n){return n.type==="keypress"?bo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),w0=xt(y0),E0=K({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=xt(E0),C0=K({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),S0=xt(C0),x0=K({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k0=xt(x0),I0=K({},Ao,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=xt(I0),N0=[9,13,27,32],su=h&&"CompositionEvent"in window,Zi=null;h&&"documentMode"in document&&(Zi=document.documentMode);var R0=h&&"TextEvent"in window&&!Zi,vf=h&&(!su||Zi&&8<Zi&&11>=Zi),yf=" ",wf=!1;function Ef(n,i){switch(n){case"keyup":return N0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kr=!1;function P0(n,i){switch(n){case"compositionend":return Cf(i);case"keypress":return i.which!==32?null:(wf=!0,yf);case"textInput":return n=i.data,n===yf&&wf?null:n;default:return null}}function b0(n,i){if(Kr)return n==="compositionend"||!su&&Ef(n,i)?(n=ff(),Po=Za=Dn=null,Kr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vf&&i.locale!=="ko"?null:i.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!O0[n.type]:i==="textarea"}function xf(n,i,l,u){Hh(u),i=Fo(i,"onChange"),0<i.length&&(l=new eu("onChange","change",null,l,u),n.push({event:l,listeners:i}))}var es=null,ts=null;function A0(n){Wf(n,0)}function Lo(n){var i=Xr(n);if(bh(i))return n}function L0(n,i){if(n==="change")return i}var kf=!1;if(h){var ou;if(h){var lu="oninput"in document;if(!lu){var If=document.createElement("div");If.setAttribute("oninput","return;"),lu=typeof If.oninput=="function"}ou=lu}else ou=!1;kf=ou&&(!document.documentMode||9<document.documentMode)}function Tf(){es&&(es.detachEvent("onpropertychange",Nf),ts=es=null)}function Nf(n){if(n.propertyName==="value"&&Lo(ts)){var i=[];xf(i,ts,n,za(n)),Kh(A0,i)}}function D0(n,i,l){n==="focusin"?(Tf(),es=i,ts=l,es.attachEvent("onpropertychange",Nf)):n==="focusout"&&Tf()}function M0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Lo(ts)}function j0(n,i){if(n==="click")return Lo(i)}function F0(n,i){if(n==="input"||n==="change")return Lo(i)}function U0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Ut=typeof Object.is=="function"?Object.is:U0;function ns(n,i){if(Ut(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!p.call(i,d)||!Ut(n[d],i[d]))return!1}return!0}function Rf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pf(n,i){var l=Rf(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=i&&u>=i)return{node:l,offset:i-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rf(l)}}function bf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?bf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Of(){for(var n=window,i=_o();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=_o(n.document)}return i}function au(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function z0(n){var i=Of(),l=n.focusedElem,u=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&bf(l.ownerDocument.documentElement,l)){if(u!==null&&au(l)){if(i=u.start,n=u.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=l.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!n.extend&&f>u&&(d=u,u=f,f=d),d=Pf(l,f);var g=Pf(l,u);d&&g&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==g.node||n.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),f>u?(n.addRange(i),n.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var B0=h&&"documentMode"in document&&11>=document.documentMode,qr=null,uu=null,rs=null,cu=!1;function Af(n,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cu||qr==null||qr!==_o(u)||(u=qr,"selectionStart"in u&&au(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rs&&ns(rs,u)||(rs=u,u=Fo(uu,"onSelect"),0<u.length&&(i=new eu("onSelect","select",null,i,l),n.push({event:i,listeners:u}),i.target=qr)))}function Do(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Yr={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},du={},Lf={};h&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Mo(n){if(du[n])return du[n];if(!Yr[n])return n;var i=Yr[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Lf)return du[n]=i[l];return n}var Df=Mo("animationend"),Mf=Mo("animationiteration"),jf=Mo("animationstart"),Ff=Mo("transitionend"),Uf=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(n,i){Uf.set(n,i),a(i,[n])}for(var hu=0;hu<zf.length;hu++){var fu=zf[hu],W0=fu.toLowerCase(),H0=fu[0].toUpperCase()+fu.slice(1);Mn(W0,"on"+H0)}Mn(Df,"onAnimationEnd"),Mn(Mf,"onAnimationIteration"),Mn(jf,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Ff,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function Bf(n,i,l){var u=n.type||"unknown-event";n.currentTarget=l,Wy(u,i,void 0,n),n.currentTarget=null}function Wf(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],d=u.event;u=u.listeners;e:{var f=void 0;if(i)for(var g=u.length-1;0<=g;g--){var w=u[g],C=w.instance,N=w.currentTarget;if(w=w.listener,C!==f&&d.isPropagationStopped())break e;Bf(d,w,N),f=C}else for(g=0;g<u.length;g++){if(w=u[g],C=w.instance,N=w.currentTarget,w=w.listener,C!==f&&d.isPropagationStopped())break e;Bf(d,w,N),f=C}}}if(wo)throw n=Va,wo=!1,Va=null,n}function Re(n,i){var l=i[Eu];l===void 0&&(l=i[Eu]=new Set);var u=n+"__bubble";l.has(u)||(Hf(i,n,2,!1),l.add(u))}function pu(n,i,l){var u=0;i&&(u|=4),Hf(l,n,u,i)}var jo="_reactListening"+Math.random().toString(36).slice(2);function ss(n){if(!n[jo]){n[jo]=!0,s.forEach(function(l){l!=="selectionchange"&&(V0.has(l)||pu(l,!1,n),pu(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[jo]||(i[jo]=!0,pu("selectionchange",!1,i))}}function Hf(n,i,l,u){switch(hf(i)){case 1:var d=i0;break;case 4:d=s0;break;default:d=Ja}l=d.bind(null,i,l,n),d=void 0,!Ha||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(i,l,{capture:!0,passive:d}):n.addEventListener(i,l,!0):d!==void 0?n.addEventListener(i,l,{passive:d}):n.addEventListener(i,l,!1)}function mu(n,i,l,u,d){var f=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var g=u.tag;if(g===3||g===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=u.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;g=g.return}for(;w!==null;){if(g=mr(w),g===null)return;if(C=g.tag,C===5||C===6){u=f=g;continue e}w=w.parentNode}}u=u.return}Kh(function(){var N=f,M=za(l),j=[];e:{var L=Uf.get(n);if(L!==void 0){var V=eu,q=n;switch(n){case"keypress":if(bo(l)===0)break e;case"keydown":case"keyup":V=w0;break;case"focusin":q="focus",V=ru;break;case"focusout":q="blur",V=ru;break;case"beforeblur":case"afterblur":V=ru;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=a0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=S0;break;case Df:case Mf:case jf:V=d0;break;case Ff:V=k0;break;case"scroll":V=o0;break;case"wheel":V=T0;break;case"copy":case"cut":case"paste":V=f0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=_f}var Y=(i&4)!==0,Be=!Y&&n==="scroll",k=Y?L!==null?L+"Capture":null:L;Y=[];for(var S=N,I;S!==null;){I=S;var F=I.stateNode;if(I.tag===5&&F!==null&&(I=F,k!==null&&(F=Bi(S,k),F!=null&&Y.push(os(S,F,I)))),Be)break;S=S.return}0<Y.length&&(L=new V(L,q,null,l,M),j.push({event:L,listeners:Y}))}}if((i&7)===0){e:{if(L=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",L&&l!==Ua&&(q=l.relatedTarget||l.fromElement)&&(mr(q)||q[cn]))break e;if((V||L)&&(L=M.window===M?M:(L=M.ownerDocument)?L.defaultView||L.parentWindow:window,V?(q=l.relatedTarget||l.toElement,V=N,q=q?mr(q):null,q!==null&&(Be=pr(q),q!==Be||q.tag!==5&&q.tag!==6)&&(q=null)):(V=null,q=N),V!==q)){if(Y=mf,F="onMouseLeave",k="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(Y=_f,F="onPointerLeave",k="onPointerEnter",S="pointer"),Be=V==null?L:Xr(V),I=q==null?L:Xr(q),L=new Y(F,S+"leave",V,l,M),L.target=Be,L.relatedTarget=I,F=null,mr(M)===N&&(Y=new Y(k,S+"enter",q,l,M),Y.target=I,Y.relatedTarget=Be,F=Y),Be=F,V&&q)t:{for(Y=V,k=q,S=0,I=Y;I;I=Qr(I))S++;for(I=0,F=k;F;F=Qr(F))I++;for(;0<S-I;)Y=Qr(Y),S--;for(;0<I-S;)k=Qr(k),I--;for(;S--;){if(Y===k||k!==null&&Y===k.alternate)break t;Y=Qr(Y),k=Qr(k)}Y=null}else Y=null;V!==null&&Vf(j,L,V,Y,!1),q!==null&&Be!==null&&Vf(j,Be,q,Y,!0)}}e:{if(L=N?Xr(N):window,V=L.nodeName&&L.nodeName.toLowerCase(),V==="select"||V==="input"&&L.type==="file")var Q=L0;else if(Sf(L))if(kf)Q=F0;else{Q=M0;var Z=D0}else(V=L.nodeName)&&V.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(Q=j0);if(Q&&(Q=Q(n,N))){xf(j,Q,l,M);break e}Z&&Z(n,L,N),n==="focusout"&&(Z=L._wrapperState)&&Z.controlled&&L.type==="number"&&La(L,"number",L.value)}switch(Z=N?Xr(N):window,n){case"focusin":(Sf(Z)||Z.contentEditable==="true")&&(qr=Z,uu=N,rs=null);break;case"focusout":rs=uu=qr=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Af(j,l,M);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Af(j,l,M)}var ee;if(su)e:{switch(n){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Kr?Ef(n,l)&&(se="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(se="onCompositionStart");se&&(vf&&l.locale!=="ko"&&(Kr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Kr&&(ee=ff()):(Dn=M,Za="value"in Dn?Dn.value:Dn.textContent,Kr=!0)),Z=Fo(N,se),0<Z.length&&(se=new gf(se,n,null,l,M),j.push({event:se,listeners:Z}),ee?se.data=ee:(ee=Cf(l),ee!==null&&(se.data=ee)))),(ee=R0?P0(n,l):b0(n,l))&&(N=Fo(N,"onBeforeInput"),0<N.length&&(M=new gf("onBeforeInput","beforeinput",null,l,M),j.push({event:M,listeners:N}),M.data=ee))}Wf(j,i)})}function os(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Fo(n,i){for(var l=i+"Capture",u=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Bi(n,l),f!=null&&u.unshift(os(n,f,d)),f=Bi(n,i),f!=null&&u.push(os(n,f,d))),n=n.return}return u}function Qr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Vf(n,i,l,u,d){for(var f=i._reactName,g=[];l!==null&&l!==u;){var w=l,C=w.alternate,N=w.stateNode;if(C!==null&&C===u)break;w.tag===5&&N!==null&&(w=N,d?(C=Bi(l,f),C!=null&&g.unshift(os(l,C,w))):d||(C=Bi(l,f),C!=null&&g.push(os(l,C,w)))),l=l.return}g.length!==0&&n.push({event:i,listeners:g})}var $0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function $f(n){return(typeof n=="string"?n:""+n).replace($0,`
`).replace(G0,"")}function Uo(n,i,l){if(i=$f(i),$f(n)!==i&&l)throw Error(t(425))}function zo(){}var gu=null,_u=null;function vu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(n){return Gf.resolve(null).then(n).catch(Y0)}:yu;function Y0(n){setTimeout(function(){throw n})}function wu(n,i){var l=i,u=0;do{var d=l.nextSibling;if(n.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(u===0){n.removeChild(d),Qi(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=d}while(l);Qi(i)}function jn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Kf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),en="__reactFiber$"+Jr,ls="__reactProps$"+Jr,cn="__reactContainer$"+Jr,Eu="__reactEvents$"+Jr,Q0="__reactListeners$"+Jr,J0="__reactHandles$"+Jr;function mr(n){var i=n[en];if(i)return i;for(var l=n.parentNode;l;){if(i=l[cn]||l[en]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Kf(n);n!==null;){if(l=n[en])return l;n=Kf(n)}return i}n=l,l=n.parentNode}return null}function as(n){return n=n[en]||n[cn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Bo(n){return n[ls]||null}var Cu=[],Zr=-1;function Fn(n){return{current:n}}function Pe(n){0>Zr||(n.current=Cu[Zr],Cu[Zr]=null,Zr--)}function Ie(n,i){Zr++,Cu[Zr]=n.current,n.current=i}var Un={},nt=Fn(Un),mt=Fn(!1),gr=Un;function ei(n,i){var l=n.type.contextTypes;if(!l)return Un;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in l)d[f]=i[f];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function gt(n){return n=n.childContextTypes,n!=null}function Wo(){Pe(mt),Pe(nt)}function qf(n,i,l){if(nt.current!==Un)throw Error(t(168));Ie(nt,i),Ie(mt,l)}function Yf(n,i,l){var u=n.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(t(108,ke(n)||"Unknown",d));return K({},l,u)}function Ho(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Un,gr=nt.current,Ie(nt,n),Ie(mt,mt.current),!0}function Qf(n,i,l){var u=n.stateNode;if(!u)throw Error(t(169));l?(n=Yf(n,i,gr),u.__reactInternalMemoizedMergedChildContext=n,Pe(mt),Pe(nt),Ie(nt,n)):Pe(mt),Ie(mt,l)}var dn=null,Vo=!1,Su=!1;function Jf(n){dn===null?dn=[n]:dn.push(n)}function X0(n){Vo=!0,Jf(n)}function zn(){if(!Su&&dn!==null){Su=!0;var n=0,i=Ee;try{var l=dn;for(Ee=1;n<l.length;n++){var u=l[n];do u=u(!0);while(u!==null)}dn=null,Vo=!1}catch(d){throw dn!==null&&(dn=dn.slice(n+1)),Xh($a,zn),d}finally{Ee=i,Su=!1}}return null}var ti=[],ni=0,$o=null,Go=0,Rt=[],Pt=0,_r=null,hn=1,fn="";function vr(n,i){ti[ni++]=Go,ti[ni++]=$o,$o=n,Go=i}function Xf(n,i,l){Rt[Pt++]=hn,Rt[Pt++]=fn,Rt[Pt++]=_r,_r=n;var u=hn;n=fn;var d=32-Ft(u)-1;u&=~(1<<d),l+=1;var f=32-Ft(i)+d;if(30<f){var g=d-d%5;f=(u&(1<<g)-1).toString(32),u>>=g,d-=g,hn=1<<32-Ft(i)+d|l<<d|u,fn=f+n}else hn=1<<f|l<<d|u,fn=n}function xu(n){n.return!==null&&(vr(n,1),Xf(n,1,0))}function ku(n){for(;n===$o;)$o=ti[--ni],ti[ni]=null,Go=ti[--ni],ti[ni]=null;for(;n===_r;)_r=Rt[--Pt],Rt[Pt]=null,fn=Rt[--Pt],Rt[Pt]=null,hn=Rt[--Pt],Rt[Pt]=null}var kt=null,It=null,Oe=!1,zt=null;function Zf(n,i){var l=Lt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function ep(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,kt=n,It=jn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,kt=n,It=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=_r!==null?{id:hn,overflow:fn}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Lt(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,kt=n,It=null,!0):!1;default:return!1}}function Iu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Tu(n){if(Oe){var i=It;if(i){var l=i;if(!ep(n,i)){if(Iu(n))throw Error(t(418));i=jn(l.nextSibling);var u=kt;i&&ep(n,i)?Zf(u,l):(n.flags=n.flags&-4097|2,Oe=!1,kt=n)}}else{if(Iu(n))throw Error(t(418));n.flags=n.flags&-4097|2,Oe=!1,kt=n}}}function tp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kt=n}function Ko(n){if(n!==kt)return!1;if(!Oe)return tp(n),Oe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!vu(n.type,n.memoizedProps)),i&&(i=It)){if(Iu(n))throw np(),Error(t(418));for(;i;)Zf(n,i),i=jn(i.nextSibling)}if(tp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){It=jn(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}It=null}}else It=kt?jn(n.stateNode.nextSibling):null;return!0}function np(){for(var n=It;n;)n=jn(n.nextSibling)}function ri(){It=kt=null,Oe=!1}function Nu(n){zt===null?zt=[n]:zt.push(n)}var Z0=ie.ReactCurrentBatchConfig;function us(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var u=l.stateNode}if(!u)throw Error(t(147,n));var d=u,f=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(g){var w=d.refs;g===null?delete w[f]:w[f]=g},i._stringRef=f,i)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function qo(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function rp(n){var i=n._init;return i(n._payload)}function ip(n){function i(k,S){if(n){var I=k.deletions;I===null?(k.deletions=[S],k.flags|=16):I.push(S)}}function l(k,S){if(!n)return null;for(;S!==null;)i(k,S),S=S.sibling;return null}function u(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function d(k,S){return k=qn(k,S),k.index=0,k.sibling=null,k}function f(k,S,I){return k.index=I,n?(I=k.alternate,I!==null?(I=I.index,I<S?(k.flags|=2,S):I):(k.flags|=2,S)):(k.flags|=1048576,S)}function g(k){return n&&k.alternate===null&&(k.flags|=2),k}function w(k,S,I,F){return S===null||S.tag!==6?(S=yc(I,k.mode,F),S.return=k,S):(S=d(S,I),S.return=k,S)}function C(k,S,I,F){var Q=I.type;return Q===J?M(k,S,I.props.children,F,I.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===pt&&rp(Q)===S.type)?(F=d(S,I.props),F.ref=us(k,S,I),F.return=k,F):(F=vl(I.type,I.key,I.props,null,k.mode,F),F.ref=us(k,S,I),F.return=k,F)}function N(k,S,I,F){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=wc(I,k.mode,F),S.return=k,S):(S=d(S,I.children||[]),S.return=k,S)}function M(k,S,I,F,Q){return S===null||S.tag!==7?(S=Ir(I,k.mode,F,Q),S.return=k,S):(S=d(S,I),S.return=k,S)}function j(k,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=yc(""+S,k.mode,I),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case he:return I=vl(S.type,S.key,S.props,null,k.mode,I),I.ref=us(k,null,S),I.return=k,I;case P:return S=wc(S,k.mode,I),S.return=k,S;case pt:var F=S._init;return j(k,F(S._payload),I)}if(Fi(S)||te(S))return S=Ir(S,k.mode,I,null),S.return=k,S;qo(k,S)}return null}function L(k,S,I,F){var Q=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return Q!==null?null:w(k,S,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case he:return I.key===Q?C(k,S,I,F):null;case P:return I.key===Q?N(k,S,I,F):null;case pt:return Q=I._init,L(k,S,Q(I._payload),F)}if(Fi(I)||te(I))return Q!==null?null:M(k,S,I,F,null);qo(k,I)}return null}function V(k,S,I,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(I)||null,w(S,k,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case he:return k=k.get(F.key===null?I:F.key)||null,C(S,k,F,Q);case P:return k=k.get(F.key===null?I:F.key)||null,N(S,k,F,Q);case pt:var Z=F._init;return V(k,S,I,Z(F._payload),Q)}if(Fi(F)||te(F))return k=k.get(I)||null,M(S,k,F,Q,null);qo(S,F)}return null}function q(k,S,I,F){for(var Q=null,Z=null,ee=S,se=S=0,Ye=null;ee!==null&&se<I.length;se++){ee.index>se?(Ye=ee,ee=null):Ye=ee.sibling;var _e=L(k,ee,I[se],F);if(_e===null){ee===null&&(ee=Ye);break}n&&ee&&_e.alternate===null&&i(k,ee),S=f(_e,S,se),Z===null?Q=_e:Z.sibling=_e,Z=_e,ee=Ye}if(se===I.length)return l(k,ee),Oe&&vr(k,se),Q;if(ee===null){for(;se<I.length;se++)ee=j(k,I[se],F),ee!==null&&(S=f(ee,S,se),Z===null?Q=ee:Z.sibling=ee,Z=ee);return Oe&&vr(k,se),Q}for(ee=u(k,ee);se<I.length;se++)Ye=V(ee,k,se,I[se],F),Ye!==null&&(n&&Ye.alternate!==null&&ee.delete(Ye.key===null?se:Ye.key),S=f(Ye,S,se),Z===null?Q=Ye:Z.sibling=Ye,Z=Ye);return n&&ee.forEach(function(Yn){return i(k,Yn)}),Oe&&vr(k,se),Q}function Y(k,S,I,F){var Q=te(I);if(typeof Q!="function")throw Error(t(150));if(I=Q.call(I),I==null)throw Error(t(151));for(var Z=Q=null,ee=S,se=S=0,Ye=null,_e=I.next();ee!==null&&!_e.done;se++,_e=I.next()){ee.index>se?(Ye=ee,ee=null):Ye=ee.sibling;var Yn=L(k,ee,_e.value,F);if(Yn===null){ee===null&&(ee=Ye);break}n&&ee&&Yn.alternate===null&&i(k,ee),S=f(Yn,S,se),Z===null?Q=Yn:Z.sibling=Yn,Z=Yn,ee=Ye}if(_e.done)return l(k,ee),Oe&&vr(k,se),Q;if(ee===null){for(;!_e.done;se++,_e=I.next())_e=j(k,_e.value,F),_e!==null&&(S=f(_e,S,se),Z===null?Q=_e:Z.sibling=_e,Z=_e);return Oe&&vr(k,se),Q}for(ee=u(k,ee);!_e.done;se++,_e=I.next())_e=V(ee,k,se,_e.value,F),_e!==null&&(n&&_e.alternate!==null&&ee.delete(_e.key===null?se:_e.key),S=f(_e,S,se),Z===null?Q=_e:Z.sibling=_e,Z=_e);return n&&ee.forEach(function(Ow){return i(k,Ow)}),Oe&&vr(k,se),Q}function Be(k,S,I,F){if(typeof I=="object"&&I!==null&&I.type===J&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case he:e:{for(var Q=I.key,Z=S;Z!==null;){if(Z.key===Q){if(Q=I.type,Q===J){if(Z.tag===7){l(k,Z.sibling),S=d(Z,I.props.children),S.return=k,k=S;break e}}else if(Z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===pt&&rp(Q)===Z.type){l(k,Z.sibling),S=d(Z,I.props),S.ref=us(k,Z,I),S.return=k,k=S;break e}l(k,Z);break}else i(k,Z);Z=Z.sibling}I.type===J?(S=Ir(I.props.children,k.mode,F,I.key),S.return=k,k=S):(F=vl(I.type,I.key,I.props,null,k.mode,F),F.ref=us(k,S,I),F.return=k,k=F)}return g(k);case P:e:{for(Z=I.key;S!==null;){if(S.key===Z)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){l(k,S.sibling),S=d(S,I.children||[]),S.return=k,k=S;break e}else{l(k,S);break}else i(k,S);S=S.sibling}S=wc(I,k.mode,F),S.return=k,k=S}return g(k);case pt:return Z=I._init,Be(k,S,Z(I._payload),F)}if(Fi(I))return q(k,S,I,F);if(te(I))return Y(k,S,I,F);qo(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(l(k,S.sibling),S=d(S,I),S.return=k,k=S):(l(k,S),S=yc(I,k.mode,F),S.return=k,k=S),g(k)):l(k,S)}return Be}var ii=ip(!0),sp=ip(!1),Yo=Fn(null),Qo=null,si=null,Ru=null;function Pu(){Ru=si=Qo=null}function bu(n){var i=Yo.current;Pe(Yo),n._currentValue=i}function Ou(n,i,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===l)break;n=n.return}}function oi(n,i){Qo=n,Ru=si=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(_t=!0),n.firstContext=null)}function bt(n){var i=n._currentValue;if(Ru!==n)if(n={context:n,memoizedValue:i,next:null},si===null){if(Qo===null)throw Error(t(308));si=n,Qo.dependencies={lanes:0,firstContext:n}}else si=si.next=n;return i}var yr=null;function Au(n){yr===null?yr=[n]:yr.push(n)}function op(n,i,l,u){var d=i.interleaved;return d===null?(l.next=l,Au(i)):(l.next=d.next,d.next=l),i.interleaved=l,pn(n,u)}function pn(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Bn=!1;function Lu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wn(n,i,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(fe&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,pn(n,l)}return d=u.interleaved,d===null?(i.next=i,Au(u)):(i.next=d.next,d.next=i),u.interleaved=i,pn(n,l)}function Jo(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var u=i.lanes;u&=n.pendingLanes,l|=u,i.lanes=l,qa(n,l)}}function ap(n,i){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var g={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};f===null?d=f=g:f=f.next=g,l=l.next}while(l!==null);f===null?d=f=i:f=f.next=i}else d=f=i;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Xo(n,i,l,u){var d=n.updateQueue;Bn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var C=w,N=C.next;C.next=null,g===null?f=N:g.next=N,g=C;var M=n.alternate;M!==null&&(M=M.updateQueue,w=M.lastBaseUpdate,w!==g&&(w===null?M.firstBaseUpdate=N:w.next=N,M.lastBaseUpdate=C))}if(f!==null){var j=d.baseState;g=0,M=N=C=null,w=f;do{var L=w.lane,V=w.eventTime;if((u&L)===L){M!==null&&(M=M.next={eventTime:V,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var q=n,Y=w;switch(L=i,V=l,Y.tag){case 1:if(q=Y.payload,typeof q=="function"){j=q.call(V,j,L);break e}j=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Y.payload,L=typeof q=="function"?q.call(V,j,L):q,L==null)break e;j=K({},j,L);break e;case 2:Bn=!0}}w.callback!==null&&w.lane!==0&&(n.flags|=64,L=d.effects,L===null?d.effects=[w]:L.push(w))}else V={eventTime:V,lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},M===null?(N=M=V,C=j):M=M.next=V,g|=L;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;L=w,w=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(M===null&&(C=j),d.baseState=C,d.firstBaseUpdate=N,d.lastBaseUpdate=M,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else f===null&&(d.shared.lanes=0);Cr|=g,n.lanes=g,n.memoizedState=j}}function up(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var u=n[i],d=u.callback;if(d!==null){if(u.callback=null,u=l,typeof d!="function")throw Error(t(191,d));d.call(u)}}}var cs={},tn=Fn(cs),ds=Fn(cs),hs=Fn(cs);function wr(n){if(n===cs)throw Error(t(174));return n}function Du(n,i){switch(Ie(hs,i),Ie(ds,n),Ie(tn,cs),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ma(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ma(i,n)}Pe(tn),Ie(tn,i)}function li(){Pe(tn),Pe(ds),Pe(hs)}function cp(n){wr(hs.current);var i=wr(tn.current),l=Ma(i,n.type);i!==l&&(Ie(ds,n),Ie(tn,l))}function Mu(n){ds.current===n&&(Pe(tn),Pe(ds))}var Ae=Fn(0);function Zo(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ju=[];function Fu(){for(var n=0;n<ju.length;n++)ju[n]._workInProgressVersionPrimary=null;ju.length=0}var el=ie.ReactCurrentDispatcher,Uu=ie.ReactCurrentBatchConfig,Er=0,Le=null,He=null,Ke=null,tl=!1,fs=!1,ps=0,ew=0;function rt(){throw Error(t(321))}function zu(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!Ut(n[l],i[l]))return!1;return!0}function Bu(n,i,l,u,d,f){if(Er=f,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,el.current=n===null||n.memoizedState===null?iw:sw,n=l(u,d),fs){f=0;do{if(fs=!1,ps=0,25<=f)throw Error(t(301));f+=1,Ke=He=null,i.updateQueue=null,el.current=ow,n=l(u,d)}while(fs)}if(el.current=il,i=He!==null&&He.next!==null,Er=0,Ke=He=Le=null,tl=!1,i)throw Error(t(300));return n}function Wu(){var n=ps!==0;return ps=0,n}function nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Le.memoizedState=Ke=n:Ke=Ke.next=n,Ke}function Ot(){if(He===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=He.next;var i=Ke===null?Le.memoizedState:Ke.next;if(i!==null)Ke=i,He=n;else{if(n===null)throw Error(t(310));He=n,n={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ke===null?Le.memoizedState=Ke=n:Ke=Ke.next=n}return Ke}function ms(n,i){return typeof i=="function"?i(n):i}function Hu(n){var i=Ot(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var u=He,d=u.baseQueue,f=l.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}u.baseQueue=d=f,l.pending=null}if(d!==null){f=d.next,u=u.baseState;var w=g=null,C=null,N=f;do{var M=N.lane;if((Er&M)===M)C!==null&&(C=C.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),u=N.hasEagerState?N.eagerState:n(u,N.action);else{var j={lane:M,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};C===null?(w=C=j,g=u):C=C.next=j,Le.lanes|=M,Cr|=M}N=N.next}while(N!==null&&N!==f);C===null?g=u:C.next=w,Ut(u,i.memoizedState)||(_t=!0),i.memoizedState=u,i.baseState=g,i.baseQueue=C,l.lastRenderedState=u}if(n=l.interleaved,n!==null){d=n;do f=d.lane,Le.lanes|=f,Cr|=f,d=d.next;while(d!==n)}else d===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Vu(n){var i=Ot(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var u=l.dispatch,d=l.pending,f=i.memoizedState;if(d!==null){l.pending=null;var g=d=d.next;do f=n(f,g.action),g=g.next;while(g!==d);Ut(f,i.memoizedState)||(_t=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),l.lastRenderedState=f}return[f,u]}function dp(){}function hp(n,i){var l=Le,u=Ot(),d=i(),f=!Ut(u.memoizedState,d);if(f&&(u.memoizedState=d,_t=!0),u=u.queue,$u(mp.bind(null,l,u,n),[n]),u.getSnapshot!==i||f||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,gs(9,pp.bind(null,l,u,d,i),void 0,null),qe===null)throw Error(t(349));(Er&30)!==0||fp(l,i,d)}return d}function fp(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Le.updateQueue,i===null?(i={lastEffect:null,stores:null},Le.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function pp(n,i,l,u){i.value=l,i.getSnapshot=u,gp(i)&&_p(n)}function mp(n,i,l){return l(function(){gp(i)&&_p(n)})}function gp(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!Ut(n,l)}catch{return!0}}function _p(n){var i=pn(n,1);i!==null&&Vt(i,n,1,-1)}function vp(n){var i=nn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:n},i.queue=n,n=n.dispatch=rw.bind(null,Le,n),[i.memoizedState,n]}function gs(n,i,l,u){return n={tag:n,create:i,destroy:l,deps:u,next:null},i=Le.updateQueue,i===null?(i={lastEffect:null,stores:null},Le.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,i.lastEffect=n)),n}function yp(){return Ot().memoizedState}function nl(n,i,l,u){var d=nn();Le.flags|=n,d.memoizedState=gs(1|i,l,void 0,u===void 0?null:u)}function rl(n,i,l,u){var d=Ot();u=u===void 0?null:u;var f=void 0;if(He!==null){var g=He.memoizedState;if(f=g.destroy,u!==null&&zu(u,g.deps)){d.memoizedState=gs(i,l,f,u);return}}Le.flags|=n,d.memoizedState=gs(1|i,l,f,u)}function wp(n,i){return nl(8390656,8,n,i)}function $u(n,i){return rl(2048,8,n,i)}function Ep(n,i){return rl(4,2,n,i)}function Cp(n,i){return rl(4,4,n,i)}function Sp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function xp(n,i,l){return l=l!=null?l.concat([n]):null,rl(4,4,Sp.bind(null,i,n),l)}function Gu(){}function kp(n,i){var l=Ot();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&zu(i,u[1])?u[0]:(l.memoizedState=[n,i],n)}function Ip(n,i){var l=Ot();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&zu(i,u[1])?u[0]:(n=n(),l.memoizedState=[n,i],n)}function Tp(n,i,l){return(Er&21)===0?(n.baseState&&(n.baseState=!1,_t=!0),n.memoizedState=l):(Ut(l,i)||(l=nf(),Le.lanes|=l,Cr|=l,n.baseState=!0),i)}function tw(n,i){var l=Ee;Ee=l!==0&&4>l?l:4,n(!0);var u=Uu.transition;Uu.transition={};try{n(!1),i()}finally{Ee=l,Uu.transition=u}}function Np(){return Ot().memoizedState}function nw(n,i,l){var u=Gn(n);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Rp(n))Pp(i,l);else if(l=op(n,i,l,u),l!==null){var d=at();Vt(l,n,u,d),bp(l,i,u)}}function rw(n,i,l){var u=Gn(n),d={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rp(n))Pp(i,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,w=f(g,l);if(d.hasEagerState=!0,d.eagerState=w,Ut(w,g)){var C=i.interleaved;C===null?(d.next=d,Au(i)):(d.next=C.next,C.next=d),i.interleaved=d;return}}catch{}finally{}l=op(n,i,d,u),l!==null&&(d=at(),Vt(l,n,u,d),bp(l,i,u))}}function Rp(n){var i=n.alternate;return n===Le||i!==null&&i===Le}function Pp(n,i){fs=tl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function bp(n,i,l){if((l&4194240)!==0){var u=i.lanes;u&=n.pendingLanes,l|=u,i.lanes=l,qa(n,l)}}var il={readContext:bt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},iw={readContext:bt,useCallback:function(n,i){return nn().memoizedState=[n,i===void 0?null:i],n},useContext:bt,useEffect:wp,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,nl(4194308,4,Sp.bind(null,i,n),l)},useLayoutEffect:function(n,i){return nl(4194308,4,n,i)},useInsertionEffect:function(n,i){return nl(4,2,n,i)},useMemo:function(n,i){var l=nn();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var u=nn();return i=l!==void 0?l(i):i,u.memoizedState=u.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},u.queue=n,n=n.dispatch=nw.bind(null,Le,n),[u.memoizedState,n]},useRef:function(n){var i=nn();return n={current:n},i.memoizedState=n},useState:vp,useDebugValue:Gu,useDeferredValue:function(n){return nn().memoizedState=n},useTransition:function(){var n=vp(!1),i=n[0];return n=tw.bind(null,n[1]),nn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var u=Le,d=nn();if(Oe){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),qe===null)throw Error(t(349));(Er&30)!==0||fp(u,i,l)}d.memoizedState=l;var f={value:l,getSnapshot:i};return d.queue=f,wp(mp.bind(null,u,f,n),[n]),u.flags|=2048,gs(9,pp.bind(null,u,f,l,i),void 0,null),l},useId:function(){var n=nn(),i=qe.identifierPrefix;if(Oe){var l=fn,u=hn;l=(u&~(1<<32-Ft(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=ps++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=ew++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},sw={readContext:bt,useCallback:kp,useContext:bt,useEffect:$u,useImperativeHandle:xp,useInsertionEffect:Ep,useLayoutEffect:Cp,useMemo:Ip,useReducer:Hu,useRef:yp,useState:function(){return Hu(ms)},useDebugValue:Gu,useDeferredValue:function(n){var i=Ot();return Tp(i,He.memoizedState,n)},useTransition:function(){var n=Hu(ms)[0],i=Ot().memoizedState;return[n,i]},useMutableSource:dp,useSyncExternalStore:hp,useId:Np,unstable_isNewReconciler:!1},ow={readContext:bt,useCallback:kp,useContext:bt,useEffect:$u,useImperativeHandle:xp,useInsertionEffect:Ep,useLayoutEffect:Cp,useMemo:Ip,useReducer:Vu,useRef:yp,useState:function(){return Vu(ms)},useDebugValue:Gu,useDeferredValue:function(n){var i=Ot();return He===null?i.memoizedState=n:Tp(i,He.memoizedState,n)},useTransition:function(){var n=Vu(ms)[0],i=Ot().memoizedState;return[n,i]},useMutableSource:dp,useSyncExternalStore:hp,useId:Np,unstable_isNewReconciler:!1};function Bt(n,i){if(n&&n.defaultProps){i=K({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Ku(n,i,l,u){i=n.memoizedState,l=l(u,i),l=l==null?i:K({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var sl={isMounted:function(n){return(n=n._reactInternals)?pr(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var u=at(),d=Gn(n),f=mn(u,d);f.payload=i,l!=null&&(f.callback=l),i=Wn(n,f,d),i!==null&&(Vt(i,n,d,u),Jo(i,n,d))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var u=at(),d=Gn(n),f=mn(u,d);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Wn(n,f,d),i!==null&&(Vt(i,n,d,u),Jo(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=at(),u=Gn(n),d=mn(l,u);d.tag=2,i!=null&&(d.callback=i),i=Wn(n,d,u),i!==null&&(Vt(i,n,u,l),Jo(i,n,u))}};function Op(n,i,l,u,d,f,g){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,f,g):i.prototype&&i.prototype.isPureReactComponent?!ns(l,u)||!ns(d,f):!0}function Ap(n,i,l){var u=!1,d=Un,f=i.contextType;return typeof f=="object"&&f!==null?f=bt(f):(d=gt(i)?gr:nt.current,u=i.contextTypes,f=(u=u!=null)?ei(n,d):Un),i=new i(l,f),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sl,n.stateNode=i,i._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),i}function Lp(n,i,l,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==n&&sl.enqueueReplaceState(i,i.state,null)}function qu(n,i,l,u){var d=n.stateNode;d.props=l,d.state=n.memoizedState,d.refs={},Lu(n);var f=i.contextType;typeof f=="object"&&f!==null?d.context=bt(f):(f=gt(i)?gr:nt.current,d.context=ei(n,f)),d.state=n.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(Ku(n,i,f,l),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&sl.enqueueReplaceState(d,d.state,null),Xo(n,l,d,u),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function ai(n,i){try{var l="",u=i;do l+=me(u),u=u.return;while(u);var d=l}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:i,stack:d,digest:null}}function Yu(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Qu(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var lw=typeof WeakMap=="function"?WeakMap:Map;function Dp(n,i,l){l=mn(-1,l),l.tag=3,l.payload={element:null};var u=i.value;return l.callback=function(){hl||(hl=!0,dc=u),Qu(n,i)},l}function Mp(n,i,l){l=mn(-1,l),l.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;l.payload=function(){return u(d)},l.callback=function(){Qu(n,i)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(l.callback=function(){Qu(n,i),typeof u!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),l}function jp(n,i,l){var u=n.pingCache;if(u===null){u=n.pingCache=new lw;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(l)||(d.add(l),n=Ew.bind(null,n,i,l),i.then(n,n))}function Fp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Up(n,i,l,u,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=mn(-1,1),i.tag=2,Wn(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var aw=ie.ReactCurrentOwner,_t=!1;function lt(n,i,l,u){i.child=n===null?sp(i,null,l,u):ii(i,n.child,l,u)}function zp(n,i,l,u,d){l=l.render;var f=i.ref;return oi(i,d),u=Bu(n,i,l,u,f,d),l=Wu(),n!==null&&!_t?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,gn(n,i,d)):(Oe&&l&&xu(i),i.flags|=1,lt(n,i,u,d),i.child)}function Bp(n,i,l,u,d){if(n===null){var f=l.type;return typeof f=="function"&&!vc(f)&&f.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=f,Wp(n,i,f,u,d)):(n=vl(l.type,null,u,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,(n.lanes&d)===0){var g=f.memoizedProps;if(l=l.compare,l=l!==null?l:ns,l(g,u)&&n.ref===i.ref)return gn(n,i,d)}return i.flags|=1,n=qn(f,u),n.ref=i.ref,n.return=i,i.child=n}function Wp(n,i,l,u,d){if(n!==null){var f=n.memoizedProps;if(ns(f,u)&&n.ref===i.ref)if(_t=!1,i.pendingProps=u=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(_t=!0);else return i.lanes=n.lanes,gn(n,i,d)}return Ju(n,i,l,u,d)}function Hp(n,i,l){var u=i.pendingProps,d=u.children,f=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ci,Tt),Tt|=l;else{if((l&1073741824)===0)return n=f!==null?f.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ie(ci,Tt),Tt|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:l,Ie(ci,Tt),Tt|=u}else f!==null?(u=f.baseLanes|l,i.memoizedState=null):u=l,Ie(ci,Tt),Tt|=u;return lt(n,i,d,l),i.child}function Vp(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Ju(n,i,l,u,d){var f=gt(l)?gr:nt.current;return f=ei(i,f),oi(i,d),l=Bu(n,i,l,u,f,d),u=Wu(),n!==null&&!_t?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,gn(n,i,d)):(Oe&&u&&xu(i),i.flags|=1,lt(n,i,l,d),i.child)}function $p(n,i,l,u,d){if(gt(l)){var f=!0;Ho(i)}else f=!1;if(oi(i,d),i.stateNode===null)ll(n,i),Ap(i,l,u),qu(i,l,u,d),u=!0;else if(n===null){var g=i.stateNode,w=i.memoizedProps;g.props=w;var C=g.context,N=l.contextType;typeof N=="object"&&N!==null?N=bt(N):(N=gt(l)?gr:nt.current,N=ei(i,N));var M=l.getDerivedStateFromProps,j=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function";j||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==u||C!==N)&&Lp(i,g,u,N),Bn=!1;var L=i.memoizedState;g.state=L,Xo(i,u,g,d),C=i.memoizedState,w!==u||L!==C||mt.current||Bn?(typeof M=="function"&&(Ku(i,l,M,u),C=i.memoizedState),(w=Bn||Op(i,l,w,u,L,C,N))?(j||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=C),g.props=u,g.state=C,g.context=N,u=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,lp(n,i),w=i.memoizedProps,N=i.type===i.elementType?w:Bt(i.type,w),g.props=N,j=i.pendingProps,L=g.context,C=l.contextType,typeof C=="object"&&C!==null?C=bt(C):(C=gt(l)?gr:nt.current,C=ei(i,C));var V=l.getDerivedStateFromProps;(M=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==j||L!==C)&&Lp(i,g,u,C),Bn=!1,L=i.memoizedState,g.state=L,Xo(i,u,g,d);var q=i.memoizedState;w!==j||L!==q||mt.current||Bn?(typeof V=="function"&&(Ku(i,l,V,u),q=i.memoizedState),(N=Bn||Op(i,l,N,u,L,q,C)||!1)?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,q,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,q,C)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=q),g.props=u,g.state=q,g.context=C,u=N):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(i.flags|=1024),u=!1)}return Xu(n,i,l,u,f,d)}function Xu(n,i,l,u,d,f){Vp(n,i);var g=(i.flags&128)!==0;if(!u&&!g)return d&&Qf(i,l,!1),gn(n,i,f);u=i.stateNode,aw.current=i;var w=g&&typeof l.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,n!==null&&g?(i.child=ii(i,n.child,null,f),i.child=ii(i,null,w,f)):lt(n,i,w,f),i.memoizedState=u.state,d&&Qf(i,l,!0),i.child}function Gp(n){var i=n.stateNode;i.pendingContext?qf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&qf(n,i.context,!1),Du(n,i.containerInfo)}function Kp(n,i,l,u,d){return ri(),Nu(d),i.flags|=256,lt(n,i,l,u),i.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function ec(n){return{baseLanes:n,cachePool:null,transitions:null}}function qp(n,i,l){var u=i.pendingProps,d=Ae.current,f=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=n!==null&&n.memoizedState===null?!1:(d&2)!==0),w?(f=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ie(Ae,d&1),n===null)return Tu(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(g=u.children,n=u.fallback,f?(u=i.mode,f=i.child,g={mode:"hidden",children:g},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=yl(g,u,0,null),n=Ir(n,u,l,null),f.return=i,n.return=i,f.sibling=n,i.child=f,i.child.memoizedState=ec(l),i.memoizedState=Zu,n):tc(i,g));if(d=n.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return uw(n,i,g,u,w,d,l);if(f){f=u.fallback,g=i.mode,d=n.child,w=d.sibling;var C={mode:"hidden",children:u.children};return(g&1)===0&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=C,i.deletions=null):(u=qn(d,C),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=qn(w,f):(f=Ir(f,g,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,g=n.child.memoizedState,g=g===null?ec(l):{baseLanes:g.baseLanes|l,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=n.childLanes&~l,i.memoizedState=Zu,u}return f=n.child,n=f.sibling,u=qn(f,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=l),u.return=i,u.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=u,i.memoizedState=null,u}function tc(n,i){return i=yl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ol(n,i,l,u){return u!==null&&Nu(u),ii(i,n.child,null,l),n=tc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function uw(n,i,l,u,d,f,g){if(l)return i.flags&256?(i.flags&=-257,u=Yu(Error(t(422))),ol(n,i,g,u)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(f=u.fallback,d=i.mode,u=yl({mode:"visible",children:u.children},d,0,null),f=Ir(f,d,g,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,(i.mode&1)!==0&&ii(i,n.child,null,g),i.child.memoizedState=ec(g),i.memoizedState=Zu,f);if((i.mode&1)===0)return ol(n,i,g,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,f=Error(t(419)),u=Yu(f,u,void 0),ol(n,i,g,u)}if(w=(g&n.childLanes)!==0,_t||w){if(u=qe,u!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,pn(n,d),Vt(u,n,d,-1))}return _c(),u=Yu(Error(t(421))),ol(n,i,g,u)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=Cw.bind(null,n),d._reactRetry=i,null):(n=f.treeContext,It=jn(d.nextSibling),kt=i,Oe=!0,zt=null,n!==null&&(Rt[Pt++]=hn,Rt[Pt++]=fn,Rt[Pt++]=_r,hn=n.id,fn=n.overflow,_r=i),i=tc(i,u.children),i.flags|=4096,i)}function Yp(n,i,l){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Ou(n.return,i,l)}function nc(n,i,l,u,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=l,f.tailMode=d)}function Qp(n,i,l){var u=i.pendingProps,d=u.revealOrder,f=u.tail;if(lt(n,i,u.children,l),u=Ae.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yp(n,l,i);else if(n.tag===19)Yp(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(Ie(Ae,u),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(l=i.child,d=null;l!==null;)n=l.alternate,n!==null&&Zo(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),nc(i,!1,d,l,f);break;case"backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Zo(n)===null){i.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}nc(i,!0,l,null,f);break;case"together":nc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ll(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function gn(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),Cr|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,l=qn(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=qn(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function cw(n,i,l){switch(i.tag){case 3:Gp(i),ri();break;case 5:cp(i);break;case 1:gt(i.type)&&Ho(i);break;case 4:Du(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;Ie(Yo,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Ie(Ae,Ae.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?qp(n,i,l):(Ie(Ae,Ae.current&1),n=gn(n,i,l),n!==null?n.sibling:null);Ie(Ae,Ae.current&1);break;case 19:if(u=(l&i.childLanes)!==0,(n.flags&128)!==0){if(u)return Qp(n,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ie(Ae,Ae.current),u)break;return null;case 22:case 23:return i.lanes=0,Hp(n,i,l)}return gn(n,i,l)}var Jp,rc,Xp,Zp;Jp=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},rc=function(){},Xp=function(n,i,l,u){var d=n.memoizedProps;if(d!==u){n=i.stateNode,wr(tn.current);var f=null;switch(l){case"input":d=Oa(n,d),u=Oa(n,u),f=[];break;case"select":d=K({},d,{value:void 0}),u=K({},u,{value:void 0}),f=[];break;case"textarea":d=Da(n,d),u=Da(n,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=zo)}ja(l,u);var g;l=null;for(N in d)if(!u.hasOwnProperty(N)&&d.hasOwnProperty(N)&&d[N]!=null)if(N==="style"){var w=d[N];for(g in w)w.hasOwnProperty(g)&&(l||(l={}),l[g]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?f||(f=[]):(f=f||[]).push(N,null));for(N in u){var C=u[N];if(w=d!=null?d[N]:void 0,u.hasOwnProperty(N)&&C!==w&&(C!=null||w!=null))if(N==="style")if(w){for(g in w)!w.hasOwnProperty(g)||C&&C.hasOwnProperty(g)||(l||(l={}),l[g]="");for(g in C)C.hasOwnProperty(g)&&w[g]!==C[g]&&(l||(l={}),l[g]=C[g])}else l||(f||(f=[]),f.push(N,l)),l=C;else N==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(f=f||[]).push(N,C)):N==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(N,""+C):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(C!=null&&N==="onScroll"&&Re("scroll",n),f||w===C||(f=[])):(f=f||[]).push(N,C))}l&&(f=f||[]).push("style",l);var N=f;(i.updateQueue=N)&&(i.flags|=4)}},Zp=function(n,i,l,u){l!==u&&(i.flags|=4)};function _s(n,i){if(!Oe)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function it(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(i)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=l,i}function dw(n,i,l){var u=i.pendingProps;switch(ku(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return gt(i.type)&&Wo(),it(i),null;case 3:return u=i.stateNode,li(),Pe(mt),Pe(nt),Fu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(Ko(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zt!==null&&(pc(zt),zt=null))),rc(n,i),it(i),null;case 5:Mu(i);var d=wr(hs.current);if(l=i.type,n!==null&&i.stateNode!=null)Xp(n,i,l,u,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(t(166));return it(i),null}if(n=wr(tn.current),Ko(i)){u=i.stateNode,l=i.type;var f=i.memoizedProps;switch(u[en]=i,u[ls]=f,n=(i.mode&1)!==0,l){case"dialog":Re("cancel",u),Re("close",u);break;case"iframe":case"object":case"embed":Re("load",u);break;case"video":case"audio":for(d=0;d<is.length;d++)Re(is[d],u);break;case"source":Re("error",u);break;case"img":case"image":case"link":Re("error",u),Re("load",u);break;case"details":Re("toggle",u);break;case"input":Oh(u,f),Re("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Re("invalid",u);break;case"textarea":Dh(u,f),Re("invalid",u)}ja(l,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?u.textContent!==w&&(f.suppressHydrationWarning!==!0&&Uo(u.textContent,w,n),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&Uo(u.textContent,w,n),d=["children",""+w]):o.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Re("scroll",u)}switch(l){case"input":go(u),Lh(u,f,!0);break;case"textarea":go(u),jh(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=zo)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Fh(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=g.createElement(l,{is:u.is}):(n=g.createElement(l),l==="select"&&(g=n,u.multiple?g.multiple=!0:u.size&&(g.size=u.size))):n=g.createElementNS(n,l),n[en]=i,n[ls]=u,Jp(n,i,!1,!1),i.stateNode=n;e:{switch(g=Fa(l,u),l){case"dialog":Re("cancel",n),Re("close",n),d=u;break;case"iframe":case"object":case"embed":Re("load",n),d=u;break;case"video":case"audio":for(d=0;d<is.length;d++)Re(is[d],n);d=u;break;case"source":Re("error",n),d=u;break;case"img":case"image":case"link":Re("error",n),Re("load",n),d=u;break;case"details":Re("toggle",n),d=u;break;case"input":Oh(n,u),d=Oa(n,u),Re("invalid",n);break;case"option":d=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},d=K({},u,{value:void 0}),Re("invalid",n);break;case"textarea":Dh(n,u),d=Da(n,u),Re("invalid",n);break;default:d=u}ja(l,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var C=w[f];f==="style"?Bh(n,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Uh(n,C)):f==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&Ui(n,C):typeof C=="number"&&Ui(n,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?C!=null&&f==="onScroll"&&Re("scroll",n):C!=null&&B(n,f,C,g))}switch(l){case"input":go(n),Lh(n,u,!1);break;case"textarea":go(n),jh(n);break;case"option":u.value!=null&&n.setAttribute("value",""+we(u.value));break;case"select":n.multiple=!!u.multiple,f=u.value,f!=null?Wr(n,!!u.multiple,f,!1):u.defaultValue!=null&&Wr(n,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=zo)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return it(i),null;case 6:if(n&&i.stateNode!=null)Zp(n,i,n.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(t(166));if(l=wr(hs.current),wr(tn.current),Ko(i)){if(u=i.stateNode,l=i.memoizedProps,u[en]=i,(f=u.nodeValue!==l)&&(n=kt,n!==null))switch(n.tag){case 3:Uo(u.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Uo(u.nodeValue,l,(n.mode&1)!==0)}f&&(i.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[en]=i,i.stateNode=u}return it(i),null;case 13:if(Pe(Ae),u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Oe&&It!==null&&(i.mode&1)!==0&&(i.flags&128)===0)np(),ri(),i.flags|=98560,f=!1;else if(f=Ko(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[en]=i}else ri(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else zt!==null&&(pc(zt),zt=null),f=!0;if(!f)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Ae.current&1)!==0?Ve===0&&(Ve=3):_c())),i.updateQueue!==null&&(i.flags|=4),it(i),null);case 4:return li(),rc(n,i),n===null&&ss(i.stateNode.containerInfo),it(i),null;case 10:return bu(i.type._context),it(i),null;case 17:return gt(i.type)&&Wo(),it(i),null;case 19:if(Pe(Ae),f=i.memoizedState,f===null)return it(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)_s(f,!1);else{if(Ve!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=Zo(n),g!==null){for(i.flags|=128,_s(f,!1),u=g.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=l,l=i.child;l!==null;)f=l,n=u,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,n=g.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ie(Ae,Ae.current&1|2),i.child}n=n.sibling}f.tail!==null&&ze()>di&&(i.flags|=128,u=!0,_s(f,!1),i.lanes=4194304)}else{if(!u)if(n=Zo(g),n!==null){if(i.flags|=128,u=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),_s(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Oe)return it(i),null}else 2*ze()-f.renderingStartTime>di&&l!==1073741824&&(i.flags|=128,u=!0,_s(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(l=f.last,l!==null?l.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ze(),i.sibling=null,l=Ae.current,Ie(Ae,u?l&1|2:l&1),i):(it(i),null);case 22:case 23:return gc(),u=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(Tt&1073741824)!==0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function hw(n,i){switch(ku(i),i.tag){case 1:return gt(i.type)&&Wo(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return li(),Pe(mt),Pe(nt),Fu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Mu(i),null;case 13:if(Pe(Ae),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ri()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Pe(Ae),null;case 4:return li(),null;case 10:return bu(i.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var al=!1,st=!1,fw=typeof WeakSet=="function"?WeakSet:Set,G=null;function ui(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){je(n,i,u)}else l.current=null}function ic(n,i,l){try{l()}catch(u){je(n,i,u)}}var em=!1;function pw(n,i){if(gu=No,n=Of(),au(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var g=0,w=-1,C=-1,N=0,M=0,j=n,L=null;t:for(;;){for(var V;j!==l||d!==0&&j.nodeType!==3||(w=g+d),j!==f||u!==0&&j.nodeType!==3||(C=g+u),j.nodeType===3&&(g+=j.nodeValue.length),(V=j.firstChild)!==null;)L=j,j=V;for(;;){if(j===n)break t;if(L===l&&++N===d&&(w=g),L===f&&++M===u&&(C=g),(V=j.nextSibling)!==null)break;j=L,L=j.parentNode}j=V}l=w===-1||C===-1?null:{start:w,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(_u={focusedElem:n,selectionRange:l},No=!1,G=i;G!==null;)if(i=G,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,G=n;else for(;G!==null;){i=G;try{var q=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var Y=q.memoizedProps,Be=q.memoizedState,k=i.stateNode,S=k.getSnapshotBeforeUpdate(i.elementType===i.type?Y:Bt(i.type,Y),Be);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=i.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(F){je(i,i.return,F)}if(n=i.sibling,n!==null){n.return=i.return,G=n;break}G=i.return}return q=em,em=!1,q}function vs(n,i,l){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&ic(i,l,f)}d=d.next}while(d!==u)}}function ul(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var u=l.create;l.destroy=u()}l=l.next}while(l!==i)}}function sc(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function tm(n){var i=n.alternate;i!==null&&(n.alternate=null,tm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[en],delete i[ls],delete i[Eu],delete i[Q0],delete i[J0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nm(n){return n.tag===5||n.tag===3||n.tag===4}function rm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function oc(n,i,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=zo));else if(u!==4&&(n=n.child,n!==null))for(oc(n,i,l),n=n.sibling;n!==null;)oc(n,i,l),n=n.sibling}function lc(n,i,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(lc(n,i,l),n=n.sibling;n!==null;)lc(n,i,l),n=n.sibling}var Xe=null,Wt=!1;function Hn(n,i,l){for(l=l.child;l!==null;)im(n,i,l),l=l.sibling}function im(n,i,l){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Co,l)}catch{}switch(l.tag){case 5:st||ui(l,i);case 6:var u=Xe,d=Wt;Xe=null,Hn(n,i,l),Xe=u,Wt=d,Xe!==null&&(Wt?(n=Xe,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Xe.removeChild(l.stateNode));break;case 18:Xe!==null&&(Wt?(n=Xe,l=l.stateNode,n.nodeType===8?wu(n.parentNode,l):n.nodeType===1&&wu(n,l),Qi(n)):wu(Xe,l.stateNode));break;case 4:u=Xe,d=Wt,Xe=l.stateNode.containerInfo,Wt=!0,Hn(n,i,l),Xe=u,Wt=d;break;case 0:case 11:case 14:case 15:if(!st&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&ic(l,i,g),d=d.next}while(d!==u)}Hn(n,i,l);break;case 1:if(!st&&(ui(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(w){je(l,i,w)}Hn(n,i,l);break;case 21:Hn(n,i,l);break;case 22:l.mode&1?(st=(u=st)||l.memoizedState!==null,Hn(n,i,l),st=u):Hn(n,i,l);break;default:Hn(n,i,l)}}function sm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new fw),i.forEach(function(u){var d=Sw.bind(null,n,u);l.has(u)||(l.add(u),u.then(d,d))})}}function Ht(n,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];try{var f=n,g=i,w=g;e:for(;w!==null;){switch(w.tag){case 5:Xe=w.stateNode,Wt=!1;break e;case 3:Xe=w.stateNode.containerInfo,Wt=!0;break e;case 4:Xe=w.stateNode.containerInfo,Wt=!0;break e}w=w.return}if(Xe===null)throw Error(t(160));im(f,g,d),Xe=null,Wt=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(N){je(d,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)om(i,n),i=i.sibling}function om(n,i){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ht(i,n),rn(n),u&4){try{vs(3,n,n.return),ul(3,n)}catch(Y){je(n,n.return,Y)}try{vs(5,n,n.return)}catch(Y){je(n,n.return,Y)}}break;case 1:Ht(i,n),rn(n),u&512&&l!==null&&ui(l,l.return);break;case 5:if(Ht(i,n),rn(n),u&512&&l!==null&&ui(l,l.return),n.flags&32){var d=n.stateNode;try{Ui(d,"")}catch(Y){je(n,n.return,Y)}}if(u&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,g=l!==null?l.memoizedProps:f,w=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Ah(d,f),Fa(w,g);var N=Fa(w,f);for(g=0;g<C.length;g+=2){var M=C[g],j=C[g+1];M==="style"?Bh(d,j):M==="dangerouslySetInnerHTML"?Uh(d,j):M==="children"?Ui(d,j):B(d,M,j,N)}switch(w){case"input":Aa(d,f);break;case"textarea":Mh(d,f);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?Wr(d,!!f.multiple,V,!1):L!==!!f.multiple&&(f.defaultValue!=null?Wr(d,!!f.multiple,f.defaultValue,!0):Wr(d,!!f.multiple,f.multiple?[]:"",!1))}d[ls]=f}catch(Y){je(n,n.return,Y)}}break;case 6:if(Ht(i,n),rn(n),u&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(Y){je(n,n.return,Y)}}break;case 3:if(Ht(i,n),rn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(i.containerInfo)}catch(Y){je(n,n.return,Y)}break;case 4:Ht(i,n),rn(n);break;case 13:Ht(i,n),rn(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(cc=ze())),u&4&&sm(n);break;case 22:if(M=l!==null&&l.memoizedState!==null,n.mode&1?(st=(N=st)||M,Ht(i,n),st=N):Ht(i,n),rn(n),u&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!M&&(n.mode&1)!==0)for(G=n,M=n.child;M!==null;){for(j=G=M;G!==null;){switch(L=G,V=L.child,L.tag){case 0:case 11:case 14:case 15:vs(4,L,L.return);break;case 1:ui(L,L.return);var q=L.stateNode;if(typeof q.componentWillUnmount=="function"){u=L,l=L.return;try{i=u,q.props=i.memoizedProps,q.state=i.memoizedState,q.componentWillUnmount()}catch(Y){je(u,l,Y)}}break;case 5:ui(L,L.return);break;case 22:if(L.memoizedState!==null){um(j);continue}}V!==null?(V.return=L,G=V):um(j)}M=M.sibling}e:for(M=null,j=n;;){if(j.tag===5){if(M===null){M=j;try{d=j.stateNode,N?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=j.stateNode,C=j.memoizedProps.style,g=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=zh("display",g))}catch(Y){je(n,n.return,Y)}}}else if(j.tag===6){if(M===null)try{j.stateNode.nodeValue=N?"":j.memoizedProps}catch(Y){je(n,n.return,Y)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===n)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;M===j&&(M=null),j=j.return}M===j&&(M=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:Ht(i,n),rn(n),u&4&&sm(n);break;case 21:break;default:Ht(i,n),rn(n)}}function rn(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(nm(l)){var u=l;break e}l=l.return}throw Error(t(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Ui(d,""),u.flags&=-33);var f=rm(n);lc(n,f,d);break;case 3:case 4:var g=u.stateNode.containerInfo,w=rm(n);oc(n,w,g);break;default:throw Error(t(161))}}catch(C){je(n,n.return,C)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function mw(n,i,l){G=n,lm(n)}function lm(n,i,l){for(var u=(n.mode&1)!==0;G!==null;){var d=G,f=d.child;if(d.tag===22&&u){var g=d.memoizedState!==null||al;if(!g){var w=d.alternate,C=w!==null&&w.memoizedState!==null||st;w=al;var N=st;if(al=g,(st=C)&&!N)for(G=d;G!==null;)g=G,C=g.child,g.tag===22&&g.memoizedState!==null?cm(d):C!==null?(C.return=g,G=C):cm(d);for(;f!==null;)G=f,lm(f),f=f.sibling;G=d,al=w,st=N}am(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,G=f):am(n)}}function am(n){for(;G!==null;){var i=G;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:st||ul(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!st)if(l===null)u.componentDidMount();else{var d=i.elementType===i.type?l.memoizedProps:Bt(i.type,l.memoizedProps);u.componentDidUpdate(d,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&up(i,f,u);break;case 3:var g=i.updateQueue;if(g!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}up(i,g,l)}break;case 5:var w=i.stateNode;if(l===null&&i.flags&4){l=w;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var M=N.memoizedState;if(M!==null){var j=M.dehydrated;j!==null&&Qi(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}st||i.flags&512&&sc(i)}catch(L){je(i,i.return,L)}}if(i===n){G=null;break}if(l=i.sibling,l!==null){l.return=i.return,G=l;break}G=i.return}}function um(n){for(;G!==null;){var i=G;if(i===n){G=null;break}var l=i.sibling;if(l!==null){l.return=i.return,G=l;break}G=i.return}}function cm(n){for(;G!==null;){var i=G;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{ul(4,i)}catch(C){je(i,l,C)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(C){je(i,d,C)}}var f=i.return;try{sc(i)}catch(C){je(i,f,C)}break;case 5:var g=i.return;try{sc(i)}catch(C){je(i,g,C)}}}catch(C){je(i,i.return,C)}if(i===n){G=null;break}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break}G=i.return}}var gw=Math.ceil,cl=ie.ReactCurrentDispatcher,ac=ie.ReactCurrentOwner,At=ie.ReactCurrentBatchConfig,fe=0,qe=null,We=null,Ze=0,Tt=0,ci=Fn(0),Ve=0,ys=null,Cr=0,dl=0,uc=0,ws=null,vt=null,cc=0,di=1/0,_n=null,hl=!1,dc=null,Vn=null,fl=!1,$n=null,pl=0,Es=0,hc=null,ml=-1,gl=0;function at(){return(fe&6)!==0?ze():ml!==-1?ml:ml=ze()}function Gn(n){return(n.mode&1)===0?1:(fe&2)!==0&&Ze!==0?Ze&-Ze:Z0.transition!==null?(gl===0&&(gl=nf()),gl):(n=Ee,n!==0||(n=window.event,n=n===void 0?16:hf(n.type)),n)}function Vt(n,i,l,u){if(50<Es)throw Es=0,hc=null,Error(t(185));$i(n,l,u),((fe&2)===0||n!==qe)&&(n===qe&&((fe&2)===0&&(dl|=l),Ve===4&&Kn(n,Ze)),yt(n,u),l===1&&fe===0&&(i.mode&1)===0&&(di=ze()+500,Vo&&zn()))}function yt(n,i){var l=n.callbackNode;Zy(n,i);var u=ko(n,n===qe?Ze:0);if(u===0)l!==null&&Zh(l),n.callbackNode=null,n.callbackPriority=0;else if(i=u&-u,n.callbackPriority!==i){if(l!=null&&Zh(l),i===1)n.tag===0?X0(hm.bind(null,n)):Jf(hm.bind(null,n)),q0(function(){(fe&6)===0&&zn()}),l=null;else{switch(rf(u)){case 1:l=$a;break;case 4:l=ef;break;case 16:l=Eo;break;case 536870912:l=tf;break;default:l=Eo}l=wm(l,dm.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function dm(n,i){if(ml=-1,gl=0,(fe&6)!==0)throw Error(t(327));var l=n.callbackNode;if(hi()&&n.callbackNode!==l)return null;var u=ko(n,n===qe?Ze:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||i)i=_l(n,u);else{i=u;var d=fe;fe|=2;var f=pm();(qe!==n||Ze!==i)&&(_n=null,di=ze()+500,xr(n,i));do try{yw();break}catch(w){fm(n,w)}while(!0);Pu(),cl.current=f,fe=d,We!==null?i=0:(qe=null,Ze=0,i=Ve)}if(i!==0){if(i===2&&(d=Ga(n),d!==0&&(u=d,i=fc(n,d))),i===1)throw l=ys,xr(n,0),Kn(n,u),yt(n,ze()),l;if(i===6)Kn(n,u);else{if(d=n.current.alternate,(u&30)===0&&!_w(d)&&(i=_l(n,u),i===2&&(f=Ga(n),f!==0&&(u=f,i=fc(n,f))),i===1))throw l=ys,xr(n,0),Kn(n,u),yt(n,ze()),l;switch(n.finishedWork=d,n.finishedLanes=u,i){case 0:case 1:throw Error(t(345));case 2:kr(n,vt,_n);break;case 3:if(Kn(n,u),(u&130023424)===u&&(i=cc+500-ze(),10<i)){if(ko(n,0)!==0)break;if(d=n.suspendedLanes,(d&u)!==u){at(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=yu(kr.bind(null,n,vt,_n),i);break}kr(n,vt,_n);break;case 4:if(Kn(n,u),(u&4194240)===u)break;for(i=n.eventTimes,d=-1;0<u;){var g=31-Ft(u);f=1<<g,g=i[g],g>d&&(d=g),u&=~f}if(u=d,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*gw(u/1960))-u,10<u){n.timeoutHandle=yu(kr.bind(null,n,vt,_n),u);break}kr(n,vt,_n);break;case 5:kr(n,vt,_n);break;default:throw Error(t(329))}}}return yt(n,ze()),n.callbackNode===l?dm.bind(null,n):null}function fc(n,i){var l=ws;return n.current.memoizedState.isDehydrated&&(xr(n,i).flags|=256),n=_l(n,i),n!==2&&(i=vt,vt=l,i!==null&&pc(i)),n}function pc(n){vt===null?vt=n:vt.push.apply(vt,n)}function _w(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var d=l[u],f=d.getSnapshot;d=d.value;try{if(!Ut(f(),d))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kn(n,i){for(i&=~uc,i&=~dl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-Ft(i),u=1<<l;n[l]=-1,i&=~u}}function hm(n){if((fe&6)!==0)throw Error(t(327));hi();var i=ko(n,0);if((i&1)===0)return yt(n,ze()),null;var l=_l(n,i);if(n.tag!==0&&l===2){var u=Ga(n);u!==0&&(i=u,l=fc(n,u))}if(l===1)throw l=ys,xr(n,0),Kn(n,i),yt(n,ze()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,kr(n,vt,_n),yt(n,ze()),null}function mc(n,i){var l=fe;fe|=1;try{return n(i)}finally{fe=l,fe===0&&(di=ze()+500,Vo&&zn())}}function Sr(n){$n!==null&&$n.tag===0&&(fe&6)===0&&hi();var i=fe;fe|=1;var l=At.transition,u=Ee;try{if(At.transition=null,Ee=1,n)return n()}finally{Ee=u,At.transition=l,fe=i,(fe&6)===0&&zn()}}function gc(){Tt=ci.current,Pe(ci)}function xr(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,K0(l)),We!==null)for(l=We.return;l!==null;){var u=l;switch(ku(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Wo();break;case 3:li(),Pe(mt),Pe(nt),Fu();break;case 5:Mu(u);break;case 4:li();break;case 13:Pe(Ae);break;case 19:Pe(Ae);break;case 10:bu(u.type._context);break;case 22:case 23:gc()}l=l.return}if(qe=n,We=n=qn(n.current,null),Ze=Tt=i,Ve=0,ys=null,uc=dl=Cr=0,vt=ws=null,yr!==null){for(i=0;i<yr.length;i++)if(l=yr[i],u=l.interleaved,u!==null){l.interleaved=null;var d=u.next,f=l.pending;if(f!==null){var g=f.next;f.next=d,u.next=g}l.pending=u}yr=null}return n}function fm(n,i){do{var l=We;try{if(Pu(),el.current=il,tl){for(var u=Le.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}tl=!1}if(Er=0,Ke=He=Le=null,fs=!1,ps=0,ac.current=null,l===null||l.return===null){Ve=1,ys=i,We=null;break}e:{var f=n,g=l.return,w=l,C=i;if(i=Ze,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var N=C,M=w,j=M.tag;if((M.mode&1)===0&&(j===0||j===11||j===15)){var L=M.alternate;L?(M.updateQueue=L.updateQueue,M.memoizedState=L.memoizedState,M.lanes=L.lanes):(M.updateQueue=null,M.memoizedState=null)}var V=Fp(g);if(V!==null){V.flags&=-257,Up(V,g,w,f,i),V.mode&1&&jp(f,N,i),i=V,C=N;var q=i.updateQueue;if(q===null){var Y=new Set;Y.add(C),i.updateQueue=Y}else q.add(C);break e}else{if((i&1)===0){jp(f,N,i),_c();break e}C=Error(t(426))}}else if(Oe&&w.mode&1){var Be=Fp(g);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Up(Be,g,w,f,i),Nu(ai(C,w));break e}}f=C=ai(C,w),Ve!==4&&(Ve=2),ws===null?ws=[f]:ws.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var k=Dp(f,C,i);ap(f,k);break e;case 1:w=C;var S=f.type,I=f.stateNode;if((f.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Vn===null||!Vn.has(I)))){f.flags|=65536,i&=-i,f.lanes|=i;var F=Mp(f,w,i);ap(f,F);break e}}f=f.return}while(f!==null)}gm(l)}catch(Q){i=Q,We===l&&l!==null&&(We=l=l.return);continue}break}while(!0)}function pm(){var n=cl.current;return cl.current=il,n===null?il:n}function _c(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),qe===null||(Cr&268435455)===0&&(dl&268435455)===0||Kn(qe,Ze)}function _l(n,i){var l=fe;fe|=2;var u=pm();(qe!==n||Ze!==i)&&(_n=null,xr(n,i));do try{vw();break}catch(d){fm(n,d)}while(!0);if(Pu(),fe=l,cl.current=u,We!==null)throw Error(t(261));return qe=null,Ze=0,Ve}function vw(){for(;We!==null;)mm(We)}function yw(){for(;We!==null&&!Vy();)mm(We)}function mm(n){var i=ym(n.alternate,n,Tt);n.memoizedProps=n.pendingProps,i===null?gm(n):We=i,ac.current=null}function gm(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=dw(l,i,Tt),l!==null){We=l;return}}else{if(l=hw(l,i),l!==null){l.flags&=32767,We=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ve=6,We=null;return}}if(i=i.sibling,i!==null){We=i;return}We=i=n}while(i!==null);Ve===0&&(Ve=5)}function kr(n,i,l){var u=Ee,d=At.transition;try{At.transition=null,Ee=1,ww(n,i,l,u)}finally{At.transition=d,Ee=u}return null}function ww(n,i,l,u){do hi();while($n!==null);if((fe&6)!==0)throw Error(t(327));l=n.finishedWork;var d=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=l.lanes|l.childLanes;if(e0(n,f),n===qe&&(We=qe=null,Ze=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||fl||(fl=!0,wm(Eo,function(){return hi(),null})),f=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||f){f=At.transition,At.transition=null;var g=Ee;Ee=1;var w=fe;fe|=4,ac.current=null,pw(n,l),om(l,n),z0(_u),No=!!gu,_u=gu=null,n.current=l,mw(l),$y(),fe=w,Ee=g,At.transition=f}else n.current=l;if(fl&&(fl=!1,$n=n,pl=d),f=n.pendingLanes,f===0&&(Vn=null),qy(l.stateNode),yt(n,ze()),i!==null)for(u=n.onRecoverableError,l=0;l<i.length;l++)d=i[l],u(d.value,{componentStack:d.stack,digest:d.digest});if(hl)throw hl=!1,n=dc,dc=null,n;return(pl&1)!==0&&n.tag!==0&&hi(),f=n.pendingLanes,(f&1)!==0?n===hc?Es++:(Es=0,hc=n):Es=0,zn(),null}function hi(){if($n!==null){var n=rf(pl),i=At.transition,l=Ee;try{if(At.transition=null,Ee=16>n?16:n,$n===null)var u=!1;else{if(n=$n,$n=null,pl=0,(fe&6)!==0)throw Error(t(331));var d=fe;for(fe|=4,G=n.current;G!==null;){var f=G,g=f.child;if((G.flags&16)!==0){var w=f.deletions;if(w!==null){for(var C=0;C<w.length;C++){var N=w[C];for(G=N;G!==null;){var M=G;switch(M.tag){case 0:case 11:case 15:vs(8,M,f)}var j=M.child;if(j!==null)j.return=M,G=j;else for(;G!==null;){M=G;var L=M.sibling,V=M.return;if(tm(M),M===N){G=null;break}if(L!==null){L.return=V,G=L;break}G=V}}}var q=f.alternate;if(q!==null){var Y=q.child;if(Y!==null){q.child=null;do{var Be=Y.sibling;Y.sibling=null,Y=Be}while(Y!==null)}}G=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,G=g;else e:for(;G!==null;){if(f=G,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:vs(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,G=k;break e}G=f.return}}var S=n.current;for(G=S;G!==null;){g=G;var I=g.child;if((g.subtreeFlags&2064)!==0&&I!==null)I.return=g,G=I;else e:for(g=S;G!==null;){if(w=G,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ul(9,w)}}catch(Q){je(w,w.return,Q)}if(w===g){G=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,G=F;break e}G=w.return}}if(fe=d,zn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Co,n)}catch{}u=!0}return u}finally{Ee=l,At.transition=i}}return!1}function _m(n,i,l){i=ai(l,i),i=Dp(n,i,1),n=Wn(n,i,1),i=at(),n!==null&&($i(n,1,i),yt(n,i))}function je(n,i,l){if(n.tag===3)_m(n,n,l);else for(;i!==null;){if(i.tag===3){_m(i,n,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vn===null||!Vn.has(u))){n=ai(l,n),n=Mp(i,n,1),i=Wn(i,n,1),n=at(),i!==null&&($i(i,1,n),yt(i,n));break}}i=i.return}}function Ew(n,i,l){var u=n.pingCache;u!==null&&u.delete(i),i=at(),n.pingedLanes|=n.suspendedLanes&l,qe===n&&(Ze&l)===l&&(Ve===4||Ve===3&&(Ze&130023424)===Ze&&500>ze()-cc?xr(n,0):uc|=l),yt(n,i)}function vm(n,i){i===0&&((n.mode&1)===0?i=1:(i=xo,xo<<=1,(xo&130023424)===0&&(xo=4194304)));var l=at();n=pn(n,i),n!==null&&($i(n,i,l),yt(n,l))}function Cw(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),vm(n,l)}function Sw(n,i){var l=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(i),vm(n,l)}var ym;ym=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||mt.current)_t=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return _t=!1,cw(n,i,l);_t=(n.flags&131072)!==0}else _t=!1,Oe&&(i.flags&1048576)!==0&&Xf(i,Go,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;ll(n,i),n=i.pendingProps;var d=ei(i,nt.current);oi(i,l),d=Bu(null,i,u,n,d,l);var f=Wu();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,gt(u)?(f=!0,Ho(i)):f=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Lu(i),d.updater=sl,i.stateNode=d,d._reactInternals=i,qu(i,u,n,l),i=Xu(null,i,u,!0,f,l)):(i.tag=0,Oe&&f&&xu(i),lt(null,i,d,l),i=i.child),i;case 16:u=i.elementType;e:{switch(ll(n,i),n=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=kw(u),n=Bt(u,n),d){case 0:i=Ju(null,i,u,n,l);break e;case 1:i=$p(null,i,u,n,l);break e;case 11:i=zp(null,i,u,n,l);break e;case 14:i=Bp(null,i,u,Bt(u.type,n),l);break e}throw Error(t(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Bt(u,d),Ju(n,i,u,d,l);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Bt(u,d),$p(n,i,u,d,l);case 3:e:{if(Gp(i),n===null)throw Error(t(387));u=i.pendingProps,f=i.memoizedState,d=f.element,lp(n,i),Xo(i,u,null,l);var g=i.memoizedState;if(u=g.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){d=ai(Error(t(423)),i),i=Kp(n,i,u,l,d);break e}else if(u!==d){d=ai(Error(t(424)),i),i=Kp(n,i,u,l,d);break e}else for(It=jn(i.stateNode.containerInfo.firstChild),kt=i,Oe=!0,zt=null,l=sp(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ri(),u===d){i=gn(n,i,l);break e}lt(n,i,u,l)}i=i.child}return i;case 5:return cp(i),n===null&&Tu(i),u=i.type,d=i.pendingProps,f=n!==null?n.memoizedProps:null,g=d.children,vu(u,d)?g=null:f!==null&&vu(u,f)&&(i.flags|=32),Vp(n,i),lt(n,i,g,l),i.child;case 6:return n===null&&Tu(i),null;case 13:return qp(n,i,l);case 4:return Du(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=ii(i,null,u,l):lt(n,i,u,l),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Bt(u,d),zp(n,i,u,d,l);case 7:return lt(n,i,i.pendingProps,l),i.child;case 8:return lt(n,i,i.pendingProps.children,l),i.child;case 12:return lt(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,f=i.memoizedProps,g=d.value,Ie(Yo,u._currentValue),u._currentValue=g,f!==null)if(Ut(f.value,g)){if(f.children===d.children&&!mt.current){i=gn(n,i,l);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var C=w.firstContext;C!==null;){if(C.context===u){if(f.tag===1){C=mn(-1,l&-l),C.tag=2;var N=f.updateQueue;if(N!==null){N=N.shared;var M=N.pending;M===null?C.next=C:(C.next=M.next,M.next=C),N.pending=C}}f.lanes|=l,C=f.alternate,C!==null&&(C.lanes|=l),Ou(f.return,l,i),w.lanes|=l;break}C=C.next}}else if(f.tag===10)g=f.type===i.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(t(341));g.lanes|=l,w=g.alternate,w!==null&&(w.lanes|=l),Ou(g,l,i),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===i){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}lt(n,i,d.children,l),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,oi(i,l),d=bt(d),u=u(d),i.flags|=1,lt(n,i,u,l),i.child;case 14:return u=i.type,d=Bt(u,i.pendingProps),d=Bt(u.type,d),Bp(n,i,u,d,l);case 15:return Wp(n,i,i.type,i.pendingProps,l);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Bt(u,d),ll(n,i),i.tag=1,gt(u)?(n=!0,Ho(i)):n=!1,oi(i,l),Ap(i,u,d),qu(i,u,d,l),Xu(null,i,u,!0,n,l);case 19:return Qp(n,i,l);case 22:return Hp(n,i,l)}throw Error(t(156,i.tag))};function wm(n,i){return Xh(n,i)}function xw(n,i,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(n,i,l,u){return new xw(n,i,l,u)}function vc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kw(n){if(typeof n=="function")return vc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Jt)return 11;if(n===Xt)return 14}return 2}function qn(n,i){var l=n.alternate;return l===null?(l=Lt(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function vl(n,i,l,u,d,f){var g=2;if(u=n,typeof n=="function")vc(n)&&(g=1);else if(typeof n=="string")g=5;else e:switch(n){case J:return Ir(l.children,d,f,i);case H:g=8,d|=8;break;case X:return n=Lt(12,l,i,d|2),n.elementType=X,n.lanes=f,n;case Ct:return n=Lt(13,l,i,d),n.elementType=Ct,n.lanes=f,n;case jt:return n=Lt(19,l,i,d),n.elementType=jt,n.lanes=f,n;case Me:return yl(l,d,f,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pe:g=10;break e;case Qt:g=9;break e;case Jt:g=11;break e;case Xt:g=14;break e;case pt:g=16,u=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Lt(g,l,i,d),i.elementType=n,i.type=u,i.lanes=f,i}function Ir(n,i,l,u){return n=Lt(7,n,u,i),n.lanes=l,n}function yl(n,i,l,u){return n=Lt(22,n,u,i),n.elementType=Me,n.lanes=l,n.stateNode={isHidden:!1},n}function yc(n,i,l){return n=Lt(6,n,null,i),n.lanes=l,n}function wc(n,i,l){return i=Lt(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Iw(n,i,l,u,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ec(n,i,l,u,d,f,g,w,C){return n=new Iw(n,i,l,w,C),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Lt(3,null,null,i),n.current=f,f.stateNode=n,f.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lu(f),n}function Tw(n,i,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:u==null?null:""+u,children:n,containerInfo:i,implementation:l}}function Em(n){if(!n)return Un;n=n._reactInternals;e:{if(pr(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(gt(l))return Yf(n,l,i)}return i}function Cm(n,i,l,u,d,f,g,w,C){return n=Ec(l,u,!0,n,d,f,g,w,C),n.context=Em(null),l=n.current,u=at(),d=Gn(l),f=mn(u,d),f.callback=i??null,Wn(l,f,d),n.current.lanes=d,$i(n,d,u),yt(n,u),n}function wl(n,i,l,u){var d=i.current,f=at(),g=Gn(d);return l=Em(l),i.context===null?i.context=l:i.pendingContext=l,i=mn(f,g),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=Wn(d,i,g),n!==null&&(Vt(n,d,g,f),Jo(n,d,g)),g}function El(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function Cc(n,i){Sm(n,i),(n=n.alternate)&&Sm(n,i)}function Nw(){return null}var xm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sc(n){this._internalRoot=n}Cl.prototype.render=Sc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));wl(n,i,null,null)},Cl.prototype.unmount=Sc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Sr(function(){wl(null,n,null,null)}),i[cn]=null}};function Cl(n){this._internalRoot=n}Cl.prototype.unstable_scheduleHydration=function(n){if(n){var i=lf();n={blockedOn:null,target:n,priority:i};for(var l=0;l<Ln.length&&i!==0&&i<Ln[l].priority;l++);Ln.splice(l,0,n),l===0&&cf(n)}};function xc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Sl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function km(){}function Rw(n,i,l,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var N=El(g);f.call(N)}}var g=Cm(i,u,n,0,null,!1,!1,"",km);return n._reactRootContainer=g,n[cn]=g.current,ss(n.nodeType===8?n.parentNode:n),Sr(),g}for(;d=n.lastChild;)n.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var N=El(C);w.call(N)}}var C=Ec(n,0,!1,null,null,!1,!1,"",km);return n._reactRootContainer=C,n[cn]=C.current,ss(n.nodeType===8?n.parentNode:n),Sr(function(){wl(i,C,l,u)}),C}function xl(n,i,l,u,d){var f=l._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var w=d;d=function(){var C=El(g);w.call(C)}}wl(i,g,n,d)}else g=Rw(l,i,n,d,u);return El(g)}sf=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Vi(i.pendingLanes);l!==0&&(qa(i,l|1),yt(i,ze()),(fe&6)===0&&(di=ze()+500,zn()))}break;case 13:Sr(function(){var u=pn(n,1);if(u!==null){var d=at();Vt(u,n,1,d)}}),Cc(n,1)}},Ya=function(n){if(n.tag===13){var i=pn(n,134217728);if(i!==null){var l=at();Vt(i,n,134217728,l)}Cc(n,134217728)}},of=function(n){if(n.tag===13){var i=Gn(n),l=pn(n,i);if(l!==null){var u=at();Vt(l,n,i,u)}Cc(n,i)}},lf=function(){return Ee},af=function(n,i){var l=Ee;try{return Ee=n,i()}finally{Ee=l}},Ba=function(n,i,l){switch(i){case"input":if(Aa(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==n&&u.form===n.form){var d=Bo(u);if(!d)throw Error(t(90));bh(u),Aa(u,d)}}}break;case"textarea":Mh(n,l);break;case"select":i=l.value,i!=null&&Wr(n,!!l.multiple,i,!1)}},$h=mc,Gh=Sr;var Pw={usingClientEntryPoint:!1,Events:[as,Xr,Bo,Hh,Vh,mc]},Cs={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bw={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Qh(n),n===null?null:n.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||Nw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Co=kl.inject(bw),Zt=kl}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw,wt.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xc(i))throw Error(t(200));return Tw(n,i,null,l)},wt.createRoot=function(n,i){if(!xc(n))throw Error(t(299));var l=!1,u="",d=xm;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Ec(n,1,!1,null,null,l,!1,u,d),n[cn]=i.current,ss(n.nodeType===8?n.parentNode:n),new Sc(i)},wt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Qh(i),n=n===null?null:n.stateNode,n},wt.flushSync=function(n){return Sr(n)},wt.hydrate=function(n,i,l){if(!Sl(i))throw Error(t(200));return xl(null,n,i,!0,l)},wt.hydrateRoot=function(n,i,l){if(!xc(n))throw Error(t(405));var u=l!=null&&l.hydratedSources||null,d=!1,f="",g=xm;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),i=Cm(i,null,n,1,l??null,d,!1,f,g),n[cn]=i.current,ss(n),u)for(n=0;n<u.length;n++)l=u[n],d=l._getVersion,d=d(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,d]:i.mutableSourceEagerHydrationData.push(l,d);return new Cl(i)},wt.render=function(n,i,l){if(!Sl(i))throw Error(t(200));return xl(null,n,i,!1,l)},wt.unmountComponentAtNode=function(n){if(!Sl(n))throw Error(t(40));return n._reactRootContainer?(Sr(function(){xl(null,null,n,!1,function(){n._reactRootContainer=null,n[cn]=null})}),!0):!1},wt.unstable_batchedUpdates=mc,wt.unstable_renderSubtreeIntoContainer=function(n,i,l,u){if(!Sl(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return xl(n,i,l,!1,u)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var Am;function zw(){if(Am)return Tc.exports;Am=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tc.exports=Uw(),Tc.exports}var Lm;function Bw(){if(Lm)return Il;Lm=1;var r=zw();return Il.createRoot=r.createRoot,Il.hydrateRoot=r.hydrateRoot,Il}var Ww=Bw(),T=xd();const Ce=Aw(T);var Dm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(r,e){if(!r)throw Pi(e)},Pi=function(r){return new Error("Firebase Database ("+r_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Hw=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=r[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=r[t++],c=r[t++],h=r[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const a=r[o],c=o+1<r.length,h=c?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,v=a>>2,y=(a&3)<<4|h>>4;let E=(h&15)<<2|m>>6,R=m&63;p||(R=64,c||(E=64)),s.push(t[v],t[y],t[E],t[R])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(i_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Hw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const a=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const m=o<r.length?t[r.charAt(o)]:64;++o;const y=o<r.length?t[r.charAt(o)]:64;if(++o,a==null||h==null||m==null||y==null)throw new Vw;const E=a<<2|h>>4;if(s.push(E),m!==64){const R=h<<4&240|m>>2;if(s.push(R),y!==64){const O=m<<6&192|y;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s_=function(r){const e=i_(r);return kd.encodeByteArray(e,!0)},zl=function(r){return s_(r).replace(/\./g,"")},Bl=function(r){try{return kd.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){return o_(void 0,r)}function o_(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Gw(t)||(r[t]=o_(r[t],e[t]));return r}function Gw(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>Kw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof Dm>"u")return;const r=Dm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Bl(r[1]);return e&&JSON.parse(e)},Id=()=>{try{return qw()||Yw()||Qw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l_=r=>{var e,t;return(t=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Jw=r=>{const e=l_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},a_=()=>{var r;return(r=Id())===null||r===void 0?void 0:r.config},u_=r=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zl(JSON.stringify(t)),zl(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Td(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function c_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tE(){const r=ft();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nE(){return r_.NODE_ADMIN===!0}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="FirebaseError";class cr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=sE,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?oE(a,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new cr(o,h,s)}}function oE(r,e){return r.replace(lE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(r){return JSON.parse(r)}function Ge(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(r){let e={},t={},s={},o="";try{const a=r.split(".");e=zs(Bl(a[0])||""),t=zs(Bl(a[1])||""),o=a[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:o}},aE=function(r){const e=d_(r),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},uE=function(r){const e=d_(r).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Ci(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function Yc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Wl(r,e,t){const s={};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=e.call(t,r[o],o,r));return s}function Hl(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=r[o],c=e[o];if(Mm(a)&&Mm(c)){if(!Hl(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Mm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bs(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Os(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)s[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const E=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,v;for(let y=0;y<80;y++){y<40?y<20?(m=h^a&(c^h),v=1518500249):(m=a^c^h,v=1859775393):y<60?(m=a&c|h&(a|c),v=2400959708):(m=a^c^h,v=3395469782);const E=(o<<5|o>>>27)+m+p+v+s[y]&4294967295;p=h,h=c,c=(a<<30|a>>>2)&4294967295,a=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let o=0;const a=this.buf_;let c=this.inbuf_;for(;o<t;){if(c===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(a[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(a),c=0;break}}else for(;o<t;)if(a[c]=e[o],++c,++o,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[s]=this.chain_[o]>>a&255,++s;return e}}function dE(r,e){const t=new hE(r,e);return t.subscribe.bind(t)}class hE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");fE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Pc),o.error===void 0&&(o.error=Pc),o.complete===void 0&&(o.complete=Pc);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fE(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Pc(){}function ha(r,e){return`${r} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);if(o>=55296&&o<=56319){const a=o-55296;s++,U(s<r.length,"Surrogate pair missing trail surrogate.");const c=r.charCodeAt(s)-56320;o=65536+(a<<10)+c}o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):o<65536?(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},fa=function(r){let e=0;for(let t=0;t<r.length;t++){const s=r.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(r){return r&&r._delegate?r._delegate:r}class br{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new eo;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_E(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);s===h&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gE(r){return r===Tr?void 0:r}function _E(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Se||(Se={}));const yE={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},wE=Se.INFO,EE={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},CE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=EE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nd{constructor(e){this.name=e,this._logLevel=wE,this._logHandler=CE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const SE=(r,e)=>e.some(t=>r instanceof t);let jm,Fm;function xE(){return jm||(jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kE(){return Fm||(Fm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,Qc=new WeakMap,f_=new WeakMap,bc=new WeakMap,Rd=new WeakMap;function IE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",a),r.removeEventListener("error",c)},a=()=>{t(nr(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",a),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&h_.set(t,r)}).catch(()=>{}),Rd.set(e,r),e}function TE(r){if(Qc.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",c),r.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",a),r.addEventListener("error",c),r.addEventListener("abort",c)});Qc.set(r,e)}let Jc={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Qc.get(r);if(e==="objectStoreNames")return r.objectStoreNames||f_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NE(r){Jc=r(Jc)}function RE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Oc(this),e,...t);return f_.set(s,e.sort?e.sort():[e]),nr(s)}:kE().includes(r)?function(...e){return r.apply(Oc(this),e),nr(h_.get(this))}:function(...e){return nr(r.apply(Oc(this),e))}}function PE(r){return typeof r=="function"?RE(r):(r instanceof IDBTransaction&&TE(r),SE(r,xE())?new Proxy(r,Jc):r)}function nr(r){if(r instanceof IDBRequest)return IE(r);if(bc.has(r))return bc.get(r);const e=PE(r);return e!==r&&(bc.set(r,e),Rd.set(e,r)),e}const Oc=r=>Rd.get(r);function bE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(r,e),h=nr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(nr(c.result),p.oldVersion,p.newVersion,nr(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const OE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],Ac=new Map;function Um(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ac.get(e))return Ac.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=AE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OE.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return Ac.set(e,a),a}NE(r=>({...r,get:(e,t,s)=>Um(e,t)||r.get(e,t,s),has:(e,t)=>!!Um(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function DE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xc="@firebase/app",zm="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Nd("@firebase/app"),ME="@firebase/app-compat",jE="@firebase/analytics-compat",FE="@firebase/analytics",UE="@firebase/app-check-compat",zE="@firebase/app-check",BE="@firebase/auth",WE="@firebase/auth-compat",HE="@firebase/database",VE="@firebase/data-connect",$E="@firebase/database-compat",GE="@firebase/functions",KE="@firebase/functions-compat",qE="@firebase/installations",YE="@firebase/installations-compat",QE="@firebase/messaging",JE="@firebase/messaging-compat",XE="@firebase/performance",ZE="@firebase/performance-compat",eC="@firebase/remote-config",tC="@firebase/remote-config-compat",nC="@firebase/storage",rC="@firebase/storage-compat",iC="@firebase/firestore",sC="@firebase/vertexai",oC="@firebase/firestore-compat",lC="firebase",aC="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="[DEFAULT]",uC={[Xc]:"fire-core",[ME]:"fire-core-compat",[FE]:"fire-analytics",[jE]:"fire-analytics-compat",[zE]:"fire-app-check",[UE]:"fire-app-check-compat",[BE]:"fire-auth",[WE]:"fire-auth-compat",[HE]:"fire-rtdb",[VE]:"fire-data-connect",[$E]:"fire-rtdb-compat",[GE]:"fire-fn",[KE]:"fire-fn-compat",[qE]:"fire-iid",[YE]:"fire-iid-compat",[QE]:"fire-fcm",[JE]:"fire-fcm-compat",[XE]:"fire-perf",[ZE]:"fire-perf-compat",[eC]:"fire-rc",[tC]:"fire-rc-compat",[nC]:"fire-gcs",[rC]:"fire-gcs-compat",[iC]:"fire-fst",[oC]:"fire-fst-compat",[sC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new Map,cC=new Map,ed=new Map;function Bm(r,e){try{r.container.addComponent(e)}catch(t){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Si(r){const e=r.name;if(ed.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,r);for(const t of Vl.values())Bm(t,r);for(const t of cC.values())Bm(t,r);return!0}function Pd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function sn(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new to("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=aC;function p_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zc,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(t||(t=a_()),!t)throw rr.create("no-options");const a=Vl.get(o);if(a){if(Hl(t,a.options)&&Hl(s,a.config))return a;throw rr.create("duplicate-app",{appName:o})}const c=new vE(o);for(const p of ed.values())c.addComponent(p);const h=new hC(t,s,c);return Vl.set(o,h),h}function m_(r=Zc){const e=Vl.get(r);if(!e&&r===Zc&&a_())return p_();if(!e)throw rr.create("no-app",{appName:r});return e}function ir(r,e,t){var s;let o=(s=uC[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(h.join(" "));return}Si(new br(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebase-heartbeat-database",pC=1,Bs="firebase-heartbeat-store";let Lc=null;function g_(){return Lc||(Lc=bE(fC,pC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bs)}catch(t){console.warn(t)}}}}).catch(r=>{throw rr.create("idb-open",{originalErrorMessage:r.message})})),Lc}async function mC(r){try{const t=(await g_()).transaction(Bs),s=await t.objectStore(Bs).get(__(r));return await t.done,s}catch(e){if(e instanceof cr)kn.warn(e.message);else{const t=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kn.warn(t.message)}}}async function Wm(r,e){try{const s=(await g_()).transaction(Bs,"readwrite");await s.objectStore(Bs).put(e,__(r)),await s.done}catch(t){if(t instanceof cr)kn.warn(t.message);else{const s=rr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});kn.warn(s.message)}}}function __(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1024,_C=720*60*60*1e3;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Hm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=_C}),this._storage.overwrite(this._heartbeatsCache))}catch(s){kn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hm(),{heartbeatsToSend:s,unsentEntries:o}=yC(this._heartbeatsCache.heartbeats),a=zl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return kn.warn(t),""}}}function Hm(){return new Date().toISOString().substring(0,10)}function yC(r,e=gC){const t=[];let s=r.slice();for(const o of r){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Vm(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Vm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class wC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vm(r){return zl(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){Si(new br("platform-logger",e=>new LE(e),"PRIVATE")),Si(new br("heartbeat",e=>new vC(e),"PRIVATE")),ir(Xc,zm,r),ir(Xc,zm,"esm2017"),ir("fire-js","")}EC("");function bd(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function v_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CC=v_,y_=new to("auth","Firebase",v_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new Nd("@firebase/auth");function SC(r,...e){$l.logLevel<=Se.WARN&&$l.warn(`Auth (${Oi}): ${r}`,...e)}function Al(r,...e){$l.logLevel<=Se.ERROR&&$l.error(`Auth (${Oi}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r,...e){throw Od(r,...e)}function on(r,...e){return Od(r,...e)}function w_(r,e,t){const s=Object.assign(Object.assign({},CC()),{[e]:t});return new to("auth","Firebase",s).create(e,{appName:r.name})}function Cn(r){return w_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Od(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return y_.create(r,...e)}function re(r,e,...t){if(!r)throw Od(e,...t)}function vn(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Al(e),new Error(e)}function In(r,e){r||vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xC(){return $m()==="http:"||$m()==="https:"}function $m(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||eE()||"connection"in navigator)?navigator.onLine:!0}function IC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.shortDelay=e,this.longDelay=t,In(t>e,"Short delay should be less than long delay!"),this.isMobile=Td()||c_()}get(){return kC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(r,e){In(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new no(3e4,6e4);function dr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function hr(r,e,t,s,o={}){return C_(r,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const h=bi(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m=Object.assign({method:e,headers:p},a);return Zw()||(m.referrerPolicy="no-referrer"),E_.fetch()(S_(r,r.config.apiHost,t,h),m)})}async function C_(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},TC),e);try{const o=new PC(r),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Tl(r,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tl(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Tl(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Tl(r,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw w_(r,v,m);qt(r,v)}}catch(o){if(o instanceof cr)throw o;qt(r,"network-request-failed",{message:String(o)})}}async function ro(r,e,t,s,o={}){const a=await hr(r,e,t,s,o);return"mfaPendingCredential"in a&&qt(r,"multi-factor-auth-required",{_serverResponse:a}),a}function S_(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Ad(r.config,o):`${r.config.apiScheme}://${o}`}function RC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(on(this.auth,"network-request-failed")),NC.get())})}}function Tl(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=on(r,e,s);return o.customData._tokenResponse=t,o}function Gm(r){return r!==void 0&&r.enterprise!==void 0}class bC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OC(r,e){return hr(r,"GET","/v2/recaptchaConfig",dr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e){return hr(r,"POST","/v1/accounts:delete",e)}async function x_(r,e){return hr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LC(r,e=!1){const t=ot(r),s=await t.getIdToken(e),o=Ld(s);re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:As(Dc(o.auth_time)),issuedAtTime:As(Dc(o.iat)),expirationTime:As(Dc(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dc(r){return Number(r)*1e3}function Ld(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Al("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bl(t);return o?JSON.parse(o):(Al("Failed to decode base64 JWT payload"),null)}catch(o){return Al("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Km(r){const e=Ld(r);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof cr&&DC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function DC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=As(this.lastLoginAt),this.creationTime=As(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Ws(r,x_(t,{idToken:s}));re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];r._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?k_(a.providerUserInfo):[],h=FC(r.providerData,c),p=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!(h!=null&&h.length),v=p?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new nd(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(r,y)}async function jC(r){const e=ot(r);await Gl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function k_(r){return r.map(e=>{var{providerId:t}=e,s=bd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(r,e){const t=await C_(r,{},async()=>{const s=bi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=r.config,c=S_(r,o,"/v1/token",`key=${a}`),h=await r._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",E_.fetch()(c,{method:"POST",headers:h,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zC(r,e){return hr(r,"POST","/v2/accounts:revokeToken",dr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Km(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");const t=Km(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await UC(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,c=new _i;return s&&(re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _i,this.toJSON())}_performRefresh(){return vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,e){re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,a=bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ws(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LC(this,e)}reload(){return jC(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(Cn(this.auth));const e=await this.getIdToken();return await Ws(this,AC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,a,c,h,p,m,v;const y=(s=t.displayName)!==null&&s!==void 0?s:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,b=(h=t.tenantId)!==null&&h!==void 0?h:void 0,A=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(m=t.createdAt)!==null&&m!==void 0?m:void 0,$=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:ie,isAnonymous:he,providerData:P,stsTokenManager:J}=t;re(B&&J,e,"internal-error");const H=_i.fromJSON(this.name,J);re(typeof B=="string",e,"internal-error"),Qn(y,e.name),Qn(E,e.name),re(typeof ie=="boolean",e,"internal-error"),re(typeof he=="boolean",e,"internal-error"),Qn(R,e.name),Qn(O,e.name),Qn(b,e.name),Qn(A,e.name),Qn(z,e.name),Qn($,e.name);const X=new yn({uid:B,auth:e,email:E,emailVerified:ie,displayName:y,isAnonymous:he,photoURL:O,phoneNumber:R,tenantId:b,stsTokenManager:H,createdAt:z,lastLoginAt:$});return P&&Array.isArray(P)&&(X.providerData=P.map(pe=>Object.assign({},pe))),A&&(X._redirectEventId=A),X}static async _fromIdTokenResponse(e,t,s=!1){const o=new _i;o.updateFromServerResponse(t);const a=new yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gl(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?k_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new _i;h.updateFromIdToken(s);const p=new yn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Map;function wn(r){In(r instanceof Function,"Expected a class definition");let e=qm.get(r);return e?(In(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qm.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}I_.type="NONE";const Ym=I_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r,e,t){return`firebase:${r}:${e}:${t}`}class vi{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Ll(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ll("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vi(wn(Ym),e,s);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||wn(Ym);const c=Ll(s,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(c);if(v){const y=yn._fromJSON(e,v);m!==a&&(h=y),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new vi(a,e,s):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new vi(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O_(e))return"Blackberry";if(A_(e))return"Webos";if(N_(e))return"Safari";if((e.includes("chrome/")||R_(e))&&!e.includes("edge/"))return"Chrome";if(b_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function T_(r=ft()){return/firefox\//i.test(r)}function N_(r=ft()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R_(r=ft()){return/crios\//i.test(r)}function P_(r=ft()){return/iemobile/i.test(r)}function b_(r=ft()){return/android/i.test(r)}function O_(r=ft()){return/blackberry/i.test(r)}function A_(r=ft()){return/webos/i.test(r)}function Dd(r=ft()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BC(r=ft()){var e;return Dd(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WC(){return tE()&&document.documentMode===10}function L_(r=ft()){return Dd(r)||b_(r)||A_(r)||O_(r)||/windows phone/i.test(r)||P_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(r,e=[]){let t;switch(r){case"Browser":t=Qm(ft());break;case"Worker":t=`${Qm(ft())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e={}){return hr(r,"GET","/v2/passwordPolicy",dr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=6;class GC{constructor(e){var t,s,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:$C,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jm(this),this.idTokenSubscription=new Jm(this),this.beforeStateQueue=new HC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wn(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await vi.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await x_(this,{idToken:e}),s=await yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gl(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(Cn(this));const t=e?ot(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(Cn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(Cn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),t=new GC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await zC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wn(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=await vi.create(this,[wn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&SC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function jr(r){return ot(r)}class Jm{constructor(e){this.auth=e,this.observer=null,this.addObserver=dE(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(r){pa=r}function M_(r){return pa.loadJS(r)}function YC(){return pa.recaptchaEnterpriseScript}function QC(){return pa.gapiScript}function JC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class XC{constructor(){this.enterprise=new ZC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eS="recaptcha-enterprise",j_="NO_RECAPTCHA";class tS{constructor(e){this.type=eS,this.auth=jr(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{OC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new bC(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;Gm(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(j_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XC().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{s(this.auth).then(h=>{if(!t&&Gm(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=YC();p.length!==0&&(p+=h),M_(p).then(()=>{o(h,a,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Xm(r,e,t,s=!1,o=!1){const a=new tS(r);let c;if(o)c=j_;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function rd(r,e,t,s,o){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Xm(r,e,t,t==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Xm(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r,e){const t=Pd(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Hl(a,e??{}))return o;qt(o,"already-initialized")}return t.initialize({options:e})}function rS(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(wn);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function iS(r,e,t){const s=jr(r);re(s._canInitEmulator,s,"emulator-config-failed"),re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=F_(e),{host:c,port:h}=sS(e),p=h===null?"":`:${h}`;s.config.emulator={url:`${a}//${c}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),oS()}function F_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function sS(r){const e=F_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:Zm(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:Zm(c)}}}function Zm(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oS(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vn("not implemented")}_getIdTokenResponse(e){return vn("not implemented")}_linkToIdToken(e,t){return vn("not implemented")}_getReauthenticationResolver(e){return vn("not implemented")}}async function lS(r,e){return hr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(r,e){return ro(r,"POST","/v1/accounts:signInWithPassword",dr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(r,e){return ro(r,"POST","/v1/accounts:signInWithEmailLink",dr(r,e))}async function cS(r,e){return ro(r,"POST","/v1/accounts:signInWithEmailLink",dr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Md{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Hs(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Hs(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(e,t,"signInWithPassword",aS);case"emailLink":return uS(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(e,s,"signUpPassword",lS);case"emailLink":return cS(e,{idToken:t,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yi(r,e){return ro(r,"POST","/v1/accounts:signInWithIdp",dr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="http://localhost";class Or extends Md{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,a=bd(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Or(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return yi(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yi(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yi(e,t)}buildRequest(){const e={requestUri:dS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fS(r){const e=bs(Os(r)).link,t=e?bs(Os(e)).deep_link_id:null,s=bs(Os(r)).deep_link_id;return(s?bs(Os(s)).link:null)||s||t||e||r}class jd{constructor(e){var t,s,o,a,c,h;const p=bs(Os(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,y=hS((o=p.mode)!==null&&o!==void 0?o:null);re(m&&v&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=v,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=fS(e);try{return new jd(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.providerId=Ai.PROVIDER_ID}static credential(e,t){return Hs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=jd.parseLink(t);return re(s,"argument-error"),Hs._fromEmailAndCode(e,s.code,s.tenantId)}}Ai.PROVIDER_ID="password";Ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends U_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends io{constructor(){super("facebook.com")}static credential(e){return Or._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch{return null}}}Jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Or._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Xn.credential(t,s)}catch{return null}}}Xn.GOOGLE_SIGN_IN_METHOD="google.com";Xn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends io{constructor(){super("github.com")}static credential(e){return Or._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.GITHUB_SIGN_IN_METHOD="github.com";Zn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends io{constructor(){super("twitter.com")}static credential(e,t){return Or._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return er.credential(t,s)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(r,e){return ro(r,"POST","/v1/accounts:signUp",dr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await yn._fromIdTokenResponse(e,s,o),c=eg(s);return new Ar({user:a,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=eg(s);return new Ar({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function eg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends cr{constructor(e,t,s,o){var a;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kl.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Kl(e,t,s,o)}}function z_(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kl._fromErrorAndOperation(r,a,e,s):a})}async function mS(r,e,t=!1){const s=await Ws(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ar._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(r,e,t=!1){const{auth:s}=r;if(sn(s.app))return Promise.reject(Cn(s));const o="reauthenticate";try{const a=await Ws(r,z_(s,o,e,r),t);re(a.idToken,s,"internal-error");const c=Ld(a.idToken);re(c,s,"internal-error");const{sub:h}=c;return re(r.uid===h,s,"user-mismatch"),Ar._forOperation(r,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qt(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_(r,e,t=!1){if(sn(r.app))return Promise.reject(Cn(r));const s="signIn",o=await z_(r,s,e),a=await Ar._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(a.user),a}async function _S(r,e){return B_(jr(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_(r){const e=jr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vS(r,e,t){if(sn(r.app))return Promise.reject(Cn(r));const s=jr(r),c=await rd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&W_(r),p}),h=await Ar._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function yS(r,e,t){return sn(r.app)?Promise.reject(Cn(r)):_S(ot(r),Ai.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&W_(r),s})}function wS(r,e,t,s){return ot(r).onIdTokenChanged(e,t,s)}function ES(r,e,t){return ot(r).beforeAuthStateChanged(e,t)}function CS(r,e,t,s){return ot(r).onAuthStateChanged(e,t,s)}function SS(r){return ot(r).signOut()}const ql="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ql,"1"),this.storage.removeItem(ql),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=1e3,kS=10;class V_ extends H_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);WC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kS):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}V_.type="LOCAL";const IS=V_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends H_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$_.type="SESSION";const G_=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ma(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),p=await TS(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ma.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const m=Fd("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(v),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function RS(r){ln().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function PS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bS(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function OS(){return K_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="firebaseLocalStorageDb",AS=1,Yl="firebaseLocalStorage",Y_="fbase_key";class so{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ga(r,e){return r.transaction([Yl],e?"readwrite":"readonly").objectStore(Yl)}function LS(){const r=indexedDB.deleteDatabase(q_);return new so(r).toPromise()}function id(){const r=indexedDB.open(q_,AS);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Yl,{keyPath:Y_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Yl)?e(s):(s.close(),await LS(),e(await id()))})})}async function tg(r,e,t){const s=ga(r,!0).put({[Y_]:e,value:t});return new so(s).toPromise()}async function DS(r,e){const t=ga(r,!1).get(e),s=await new so(t).toPromise();return s===void 0?null:s.value}function ng(r,e){const t=ga(r,!0).delete(e);return new so(t).toPromise()}const MS=800,jS=3;class Q_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await id(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>jS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ma._getInstance(OS()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PS(),!this.activeServiceWorker)return;this.sender=new NS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await id();return await tg(e,ql,"1"),await ng(e,ql),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>tg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>DS(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ng(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ga(o,!1).getAll();return new so(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q_.type="LOCAL";const FS=Q_;new no(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r,e){return e?wn(e):(re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Md{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zS(r){return B_(r.auth,new Ud(r),r.bypassAuthState)}function BS(r){const{auth:e,user:t}=r;return re(t,e,"internal-error"),gS(t,new Ud(r),r.bypassAuthState)}async function WS(r){const{auth:e,user:t}=r;return re(t,e,"internal-error"),mS(t,new Ud(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zS;case"linkViaPopup":case"linkViaRedirect":return WS;case"reauthViaPopup":case"reauthViaRedirect":return BS;default:qt(this.auth,"internal-error")}}resolve(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new no(2e3,1e4);class mi extends J_{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){In(this.filter.length===1,"Popup operations only handle one event");const e=Fd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HS.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="pendingRedirect",Dl=new Map;class $S extends J_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Dl.get(this.auth._key());if(!e){try{const s=await GS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Dl.set(this.auth._key(),e)}return this.bypassAuthState||Dl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GS(r,e){const t=YS(e),s=qS(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KS(r,e){Dl.set(r._key(),e)}function qS(r){return wn(r._redirectPersistence)}function YS(r){return Ll(VS,r.config.apiKey,r.name)}async function QS(r,e,t=!1){if(sn(r.app))return Promise.reject(Cn(r));const s=jr(r),o=US(s,e),c=await new $S(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=600*1e3;class XS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!X_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(on(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JS&&this.cachedEventUids.clear(),this.cachedEventUids.has(rg(e))}saveEventToCache(e){this.cachedEventUids.add(rg(e)),this.lastProcessedEventTime=Date.now()}}function rg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function X_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(r,e={}){return hr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n1=/^https?/;async function r1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await e1(r);for(const t of e)try{if(i1(t))return}catch{}qt(r,"unauthorized-domain")}function i1(r){const e=td(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!n1.test(t))return!1;if(t1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new no(3e4,6e4);function ig(){const r=ln().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function o1(r){return new Promise((e,t)=>{var s,o,a;function c(){ig(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ig(),t(on(r,"network-request-failed"))},timeout:s1.get()})}if(!((o=(s=ln().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ln().gapi)===null||a===void 0)&&a.load)c();else{const h=JC("iframefcb");return ln()[h]=()=>{gapi.load?c():t(on(r,"network-request-failed"))},M_(`${QC()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw Ml=null,e})}let Ml=null;function l1(r){return Ml=Ml||o1(r),Ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new no(5e3,15e3),u1="__/auth/iframe",c1="emulator/auth/iframe",d1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f1(r){const e=r.config;re(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Ad(e,c1):`https://${r.config.authDomain}/${u1}`,s={apiKey:e.apiKey,appName:r.name,v:Oi},o=h1.get(r.config.apiHost);o&&(s.eid=o);const a=r._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${bi(s).slice(1)}`}async function p1(r){const e=await l1(r),t=ln().gapi;return re(t,r,"internal-error"),e.open({where:document.body,url:f1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d1,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=on(r,"network-request-failed"),h=ln().setTimeout(()=>{a(c)},a1.get());function p(){ln().clearTimeout(h),o(s)}s.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g1=500,_1=600,v1="_blank",y1="http://localhost";class sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w1(r,e,t,s=g1,o=_1){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p=Object.assign(Object.assign({},m1),{width:s.toString(),height:o.toString(),top:a,left:c}),m=ft().toLowerCase();t&&(h=R_(m)?v1:t),T_(m)&&(e=e||y1,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[R,O])=>`${E}${R}=${O},`,"");if(BC(m)&&h!=="_self")return E1(e||"",h),new sg(null);const y=window.open(e||"",h,v);re(y,r,"popup-blocked");try{y.focus()}catch{}return new sg(y)}function E1(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="__/auth/handler",S1="emulator/auth/handler",x1=encodeURIComponent("fac");async function og(r,e,t,s,o,a){re(r.config.authDomain,r,"auth-domain-config-required"),re(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Oi,eventId:o};if(e instanceof U_){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",Yc(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))c[v]=y}if(e instanceof io){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await r._getAppCheckToken(),m=p?`#${x1}=${encodeURIComponent(p)}`:"";return`${k1(r)}?${bi(h).slice(1)}${m}`}function k1({config:r}){return r.emulator?Ad(r,S1):`https://${r.authDomain}/${C1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="webStorageSupport";class I1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=QS,this._overrideRedirectResult=KS}async _openPopup(e,t,s,o){var a;In((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await og(e,t,s,td(),o);return w1(e,c,Fd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await og(e,t,s,td(),o);return RS(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(In(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await p1(e),s=new XS(e);return t.register("authEvent",o=>(re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mc,{type:Mc},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Mc];c!==void 0&&t(!!c),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L_()||N_()||Dd()}}const T1=I1;var lg="@firebase/auth",ag="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P1(r){Si(new br("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D_(r)},m=new KC(s,o,a,p);return rS(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Si(new br("auth-internal",e=>{const t=jr(e.getProvider("auth").getImmediate());return(s=>new N1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(lg,ag,R1(r)),ir(lg,ag,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=300,O1=u_("authIdTokenMaxAge")||b1;let ug=null;const A1=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>O1)return;const o=t==null?void 0:t.token;ug!==o&&(ug=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function L1(r=m_()){const e=Pd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=nS(r,{popupRedirectResolver:T1,persistence:[FS,IS,G_]}),s=u_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=A1(a.toString());ES(t,c,()=>c(t.currentUser)),wS(t,h=>c(h))}}const o=l_("auth");return o&&iS(t,`http://${o}`),t}function D1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}qC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const a=on("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",D1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P1("Browser");var M1="firebase",j1="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(M1,j1,"app");var cg={};const dg="@firebase/database",hg="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_="";function F1(r){Z_=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ge(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:zs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new U1(e)}}catch{}return new z1},Pr=ev("localStorage"),B1=ev("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Nd("@firebase/database"),W1=(function(){let r=1;return function(){return r++}})(),tv=function(r){const e=pE(r),t=new cE;t.update(e);const s=t.digest();return kd.encodeByteArray(s)},oo=function(...r){let e="";for(let t=0;t<r.length;t++){const s=r[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=oo.apply(null,s):typeof s=="object"?e+=Ge(s):e+=s,e+=" "}return e};let Ls=null,fg=!0;const H1=function(r,e){U(!0,"Can't turn on custom loggers persistently."),wi.logLevel=Se.VERBOSE,Ls=wi.log.bind(wi)},et=function(...r){if(fg===!0&&(fg=!1,Ls===null&&B1.get("logging_enabled")===!0&&H1()),Ls){const e=oo.apply(null,r);Ls(e)}},lo=function(r){return function(...e){et(r,...e)}},sd=function(...r){const e="FIREBASE INTERNAL ERROR: "+oo(...r);wi.error(e)},Tn=function(...r){const e=`FIREBASE FATAL ERROR: ${oo(...r)}`;throw wi.error(e),new Error(e)},ht=function(...r){const e="FIREBASE WARNING: "+oo(...r);wi.warn(e)},V1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zd=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},$1=function(r){if(document.readyState==="complete")r();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},xi="[MIN_NAME]",Lr="[MAX_NAME]",Fr=function(r,e){if(r===e)return 0;if(r===xi||e===Lr)return-1;if(e===xi||r===Lr)return 1;{const t=pg(r),s=pg(e);return t!==null?s!==null?t-s===0?r.length-e.length:t-s:-1:s!==null?1:r<e?-1:1}},G1=function(r,e){return r===e?0:r<e?-1:1},xs=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+Ge(e))},Bd=function(r){if(typeof r!="object"||r===null)return Ge(r);const e=[];for(const s in r)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=Ge(e[s]),t+=":",t+=Bd(r[e[s]]);return t+="}",t},nv=function(r,e){const t=r.length;if(t<=e)return[r];const s=[];for(let o=0;o<t;o+=e)o+e>t?s.push(r.substring(o,t)):s.push(r.substring(o,o+e));return s};function tt(r,e){for(const t in r)r.hasOwnProperty(t)&&e(t,r[t])}const rv=function(r){U(!zd(r),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let o,a,c,h,p;r===0?(a=0,c=0,o=1/r===-1/0?1:0):(o=r<0,r=Math.abs(r),r>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(r)/Math.LN2),s),a=h+s,c=Math.round(r*Math.pow(2,t-h)-Math.pow(2,t))):(a=0,c=Math.round(r/Math.pow(2,1-s-t))));const m=[];for(p=t;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(a%2?1:0),a=Math.floor(a/2);m.push(o?1:0),m.reverse();const v=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(v.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},K1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},q1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y1(r,e){let t="Unknown Error";r==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?t="Client doesn't have permission to access the desired data.":r==="unavailable"&&(t="The service is unavailable");const s=new Error(r+" at "+e._path.toString()+": "+t);return s.code=r.toUpperCase(),s}const Q1=new RegExp("^-?(0*)\\d{1,10}$"),J1=-2147483648,X1=2147483647,pg=function(r){if(Q1.test(r)){const e=Number(r);if(e>=J1&&e<=X1)return e}return null},Li=function(r){try{r()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ht("Exception was thrown by user callback.",t),e},Math.floor(0))}},Z1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ds=function(r,e){const t=setTimeout(r,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}}class jl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="5",iv="v",sv="s",ov="r",lv="f",av=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uv="ls",cv="p",od="ac",dv="websocket",hv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,s,o,a=!1,c="",h=!1,p=!1){this.secure=t,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function nx(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function pv(r,e,t){U(typeof e=="string","typeof type must == string"),U(typeof t=="object","typeof params must == object");let s;if(e===dv)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===hv)s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);nx(r)&&(t.ns=r.namespace);const o=[];return tt(t,(a,c)=>{o.push(a+"="+c)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.counters_={}}incrementCounter(e,t=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return $w(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={},Fc={};function Hd(r){const e=r.toString();return jc[e]||(jc[e]=new rx),jc[e]}function ix(r,e){const t=r.toString();return Fc[t]||(Fc[t]=e()),Fc[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Li(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="start",ox="close",lx="pLPCommand",ax="pRTLPCB",mv="id",gv="pw",_v="ser",ux="cb",cx="seg",dx="ts",hx="d",fx="dframe",vv=1870,yv=30,px=vv-yv,mx=25e3,gx=3e4;class gi{constructor(e,t,s,o,a,c,h){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lo(e),this.stats_=Hd(t),this.urlFn=p=>(this.appCheckToken&&(p[od]=this.appCheckToken),pv(t,hv,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gx)),$1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vd((...a)=>{const[c,h,p,m,v]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===mg)this.id=h,this.password=p;else if(c===ox)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...a)=>{const[c,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[mg]="t",s[_v]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[ux]=this.scriptTagHolder.uniqueCallbackIdentifier),s[iv]=Wd,this.transportSessionId&&(s[sv]=this.transportSessionId),this.lastSessionId&&(s[uv]=this.lastSessionId),this.applicationId&&(s[cv]=this.applicationId),this.appCheckToken&&(s[od]=this.appCheckToken),typeof location<"u"&&location.hostname&&av.test(location.hostname)&&(s[ov]=lv);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gi.forceAllow_=!0}static forceDisallow(){gi.forceDisallow_=!0}static isAvailable(){return gi.forceAllow_?!0:!gi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K1()&&!q1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ge(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=s_(t),o=nv(s,px);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[fx]="t",s[mv]=e,s[gv]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ge(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Vd{constructor(e,t,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=W1(),window[lx+this.uniqueCallbackIdentifier]=e,window[ax+this.uniqueCallbackIdentifier]=t,this.myIFrame=Vd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){et("frame writing exception"),h.stack&&et(h.stack),et(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mv]=this.myID,e[gv]=this.myPW,e[_v]=this.currentSerial;let t=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yv+s.length<=vv;){const c=this.pendingSegs.shift();s=s+"&"+cx+o+"="+c.seg+"&"+dx+o+"="+c.ts+"&"+hx+o+"="+c.d,o++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(s,Math.floor(mx)),a=()=>{clearTimeout(o),s()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=16384,vx=45e3;let Ql=null;typeof MozWebSocket<"u"?Ql=MozWebSocket:typeof WebSocket<"u"&&(Ql=WebSocket);class $t{constructor(e,t,s,o,a,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lo(this.connId),this.stats_=Hd(t),this.connURL=$t.connectionURL_(t,c,h,o,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,o,a){const c={};return c[iv]=Wd,typeof location<"u"&&location.hostname&&av.test(location.hostname)&&(c[ov]=lv),t&&(c[sv]=t),s&&(c[uv]=s),o&&(c[od]=o),a&&(c[cv]=a),pv(e,dv,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pr.set("previous_websocket_failure",!0);try{let s;nE(),this.mySock=new Ql(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Ql!==null&&!$t.forceDisallow_}static previouslyFailed(){return Pr.isInMemoryStorage||Pr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=zs(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=Ge(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=nv(t,_x);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vx))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static get ALL_TRANSPORTS(){return[gi,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=$t&&$t.isAvailable();let s=t&&!$t.previouslyFailed();if(e.webSocketOnly&&(t||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[$t];else{const o=this.transports_=[];for(const a of Vs.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);Vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=6e4,wx=5e3,Ex=10*1024,Cx=100*1024,Uc="t",gg="d",Sx="s",_g="r",xx="e",vg="o",yg="a",wg="n",Eg="p",kx="h";class Ix{constructor(e,t,s,o,a,c,h,p,m,v){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lo("c:"+this.id+":"),this.transportManager_=new Vs(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ds(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Cx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ex?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Uc in e){const t=e[Uc];t===yg?this.upgradeIfSecondaryHealthy_():t===_g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===vg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xs("t",e),s=xs("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Eg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xs("t",e),s=xs("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xs(Uc,e);if(gg in e){const s=e[gg];if(t===kx){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(t===wg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Sx?this.onConnectionShutdown_(s):t===_g?this.onReset_(s):t===xx?sd("Server Error: "+s):t===vg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Wd!==s&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),Ds(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ds(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Eg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{put(e,t,s,o){}merge(e,t,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const o=this.getInitialEvent(e);o&&t.apply(s,o)}off(e,t,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===t&&(!s||s===o[a].context)){o.splice(a,1);return}}validateEventType_(e){U(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Ev{static getInstance(){return new Jl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Td()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=32,Sg=768;class xe{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ve(){return new xe("")}function ae(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function lr(r){return r.pieces_.length-r.pieceNum_}function Ne(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new xe(r.pieces_,e)}function $d(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Tx(r){let e="";for(let t=r.pieceNum_;t<r.pieces_.length;t++)r.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[t])));return e||"/"}function $s(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function Cv(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let t=r.pieceNum_;t<r.pieces_.length-1;t++)e.push(r.pieces_[t]);return new xe(e,0)}function Fe(r,e){const t=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)t.push(r.pieces_[s]);if(e instanceof xe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&t.push(s[o])}return new xe(t,0)}function de(r){return r.pieceNum_>=r.pieces_.length}function ct(r,e){const t=ae(r),s=ae(e);if(t===null)return e;if(t===s)return ct(Ne(r),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function Nx(r,e){const t=$s(r,0),s=$s(e,0);for(let o=0;o<t.length&&o<s.length;o++){const a=Fr(t[o],s[o]);if(a!==0)return a}return t.length===s.length?0:t.length<s.length?-1:1}function Gd(r,e){if(lr(r)!==lr(e))return!1;for(let t=r.pieceNum_,s=e.pieceNum_;t<=r.pieces_.length;t++,s++)if(r.pieces_[t]!==e.pieces_[s])return!1;return!0}function Dt(r,e){let t=r.pieceNum_,s=e.pieceNum_;if(lr(r)>lr(e))return!1;for(;t<r.pieces_.length;){if(r.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class Rx{constructor(e,t){this.errorPrefix_=t,this.parts_=$s(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=fa(this.parts_[s]);Sv(this)}}function Px(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=fa(e),Sv(r)}function bx(r){const e=r.parts_.pop();r.byteLength_-=fa(e),r.parts_.length>0&&(r.byteLength_-=1)}function Sv(r){if(r.byteLength_>Sg)throw new Error(r.errorPrefix_+"has a key path longer than "+Sg+" bytes ("+r.byteLength_+").");if(r.parts_.length>Cg)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cg+") or object contains a cycle "+Nr(r))}function Nr(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends Ev{static getInstance(){return new Kd}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=1e3,Ox=300*1e3,xg=30*1e3,Ax=1.3,Lx=3e4,Dx="server_kill",kg=3;class Sn extends wv{constructor(e,t,s,o,a,c,h,p){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Sn.nextPersistentConnectionId_++,this.log_=lo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ks,this.maxReconnectDelay_=Ox,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const o=++this.requestNumber_,a={r:o,a:e,b:t};this.log_(Ge(a)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const t=new eo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,s,o){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:t,query:e,tag:s};this.listens.get(c).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+s+" for "+o);const a={p:s},c="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(c,a,h=>{const p=h.d,m=h.s;Sn.warnOnListenWarnings_(p,t),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&an(e,"w")){const s=Ci(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=aE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,o=>{const a=o.s,c=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,t)}sendUnlisten_(e,t,s,o){this.log_("Unlisten on "+e+" for "+t);const a={p:e},c="n";o&&(a.q=s,a.t=o),this.sendRequest(c,a)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,o){const a={p:t,d:s};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,t,s,o){this.putInternal("p",e,t,s,o)}merge(e,t,s,o){this.putInternal("m",e,t,s,o)}putInternal(e,t,s,o,a){this.initConnection_();const c={p:t,d:s};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const a=s.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ge(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):sd("Unrecognized action received from server: "+Ge(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Lx&&(this.reconnectDelay_=ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ax)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Sn.nextConnectionId_++,a=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,s())},m=function(y){U(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);c?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,h=new Ix(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,R=>{ht(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dx)},a))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&ht(y),p())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yc(this.interruptReasons_)&&(this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(a=>Bd(a)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const s=new xe(e).toString();let o;if(this.listens.has(s)){const a=this.listens.get(s);o=a.get(t),a.delete(t),a.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,t){et("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kg&&(this.reconnectDelay_=xg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){et("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Z_.replace(/\./g,"-")]=1,Td()?e["framework.cordova"]=1:c_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jl.getInstance().currentlyOnline();return Yc(this.interruptReasons_)&&e}}Sn.nextPersistentConnectionId_=0;Sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ue(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new ue(xi,e),o=new ue(xi,t);return this.compare(s,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl;class xv extends _a{static get __EMPTY_NODE(){return Nl}static set __EMPTY_NODE(e){Nl=e}compare(e,t){return Fr(e.name,t.name)}isDefinedOn(e){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Lr,Nl)}makePost(e,t){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Nl)}toString(){return".key"}}const Ei=new xv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t,s,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?s(e.key,t):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Je{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??Je.RED,this.left=o??Et.EMPTY_NODE,this.right=a??Et.EMPTY_NODE}copy(e,t,s,o,a){return new Je(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o=o.copy(null,t,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Et.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,o;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class Mx{copy(e,t,s,o,a){return this}insert(e,t,s){return new Je(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Et{constructor(e,t=Et.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Et(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(e){return new Et(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,o=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Rl(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Rl(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Rl(this.root_,null,this.comparator_,!0,e)}}Et.EMPTY_NODE=new Mx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(r,e){return Fr(r.name,e.name)}function qd(r,e){return Fr(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;function Fx(r){ld=r}const kv=function(r){return typeof r=="number"?"number:"+rv(r):"string:"+r},Iv=function(r){if(r.isLeafNode()){const e=r.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else U(r===ld||r.isEmpty(),"priority of unexpected type.");U(r===ld||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig;class Qe{static set __childrenNodeConstructor(e){Ig=e}static get __childrenNodeConstructor(){return Ig}constructor(e,t=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Iv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ae(e)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=ae(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(U(s!==".priority"||lr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=rv(this.value_):e+=this.value_,this.lazyHash_=tv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qe.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,o=Qe.VALUE_TYPE_ORDER.indexOf(t),a=Qe.VALUE_TYPE_ORDER.indexOf(s);return U(o>=0,"Unknown leaf type: "+t),U(a>=0,"Unknown leaf type: "+s),o===a?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tv,Nv;function Ux(r){Tv=r}function zx(r){Nv=r}class Bx extends _a{compare(e,t){const s=e.node.getPriority(),o=t.node.getPriority(),a=s.compareTo(o);return a===0?Fr(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Lr,new Qe("[PRIORITY-POST]",Nv))}makePost(e,t){const s=Tv(e);return new ue(t,new Qe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ue=new Bx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=Math.log(2);class Hx{constructor(e){const t=a=>parseInt(Math.log(a)/Wx,10),s=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xl=function(r,e,t,s){r.sort(e);const o=function(p,m){const v=m-p;let y,E;if(v===0)return null;if(v===1)return y=r[p],E=t?t(y):y,new Je(E,y.node,Je.BLACK,null,null);{const R=parseInt(v/2,10)+p,O=o(p,R),b=o(R+1,m);return y=r[R],E=t?t(y):y,new Je(E,y.node,Je.BLACK,O,b)}},a=function(p){let m=null,v=null,y=r.length;const E=function(O,b){const A=y-O,z=y;y-=O;const $=o(A+1,z),B=r[A],ie=t?t(B):B;R(new Je(ie,B.node,b,null,$))},R=function(O){m?(m.left=O,m=O):(v=O,m=O)};for(let O=0;O<p.count;++O){const b=p.nextBitIsOne(),A=Math.pow(2,p.count-(O+1));b?E(A,Je.BLACK):(E(A,Je.BLACK),E(A,Je.RED))}return v},c=new Hx(r.length),h=a(c);return new Et(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;const fi={};class En{static get Default(){return U(fi&&Ue,"ChildrenNode.ts has not been loaded"),zc=zc||new En({".priority":fi},{".priority":Ue}),zc}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ci(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Et?t:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,t){U(e!==Ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const a=t.getIterator(ue.Wrap);let c=a.getNext();for(;c;)o=o||e.isDefinedOn(c.node),s.push(c),c=a.getNext();let h;o?h=Xl(s,e.getCompare()):h=fi;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const v=Object.assign({},this.indexes_);return v[p]=h,new En(v,m)}addToIndexes(e,t){const s=Wl(this.indexes_,(o,a)=>{const c=Ci(this.indexSet_,a);if(U(c,"Missing index implementation for "+a),o===fi)if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(ue.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),Xl(h,c.getCompare())}else return fi;else{const h=t.get(e.name);let p=o;return h&&(p=p.remove(new ue(e.name,h))),p.insert(e,e.node)}});return new En(s,this.indexSet_)}removeFromIndexes(e,t){const s=Wl(this.indexes_,o=>{if(o===fi)return o;{const a=t.get(e.name);return a?o.remove(new ue(e.name,a)):o}});return new En(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is;class ne{static get EMPTY_NODE(){return Is||(Is=new ne(new Et(qd),null,En.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Iv(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Is}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Is:t}}getChild(e){const t=ae(e);return t===null?this:this.getImmediateChild(t).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(U(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new ue(e,t);let o,a;t.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(s,this.children_));const c=o.isEmpty()?Is:this.priorityNode_;return new ne(o,c,a)}}updateChild(e,t){const s=ae(e);if(s===null)return t;{U(ae(e)!==".priority"||lr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(Ne(e),t);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,o=0,a=!0;if(this.forEachChild(Ue,(c,h)=>{t[c]=h.val(e),s++,a&&ne.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):a=!1}),!e&&a&&o<2*s){const c=[];for(const h in t)c[h]=t[h];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kv(this.getPriority().val())+":"),this.forEachChild(Ue,(t,s)=>{const o=s.hash();o!==""&&(e+=":"+t+":"+o)}),this.lazyHash_=e===""?"":tv(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const o=this.resolveIndex_(s);if(o){const a=o.getPredecessorKey(new ue(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ue(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ue(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>t(o.name,o.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let a=o.peek();for(;a!=null&&t.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let a=o.peek();for(;a!=null&&t.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ao?-1:0}withIndex(e){if(e===Ei||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ei||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(Ue),o=t.getIterator(Ue);let a=s.getNext(),c=o.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=s.getNext(),c=o.getNext()}return a===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ei?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Vx extends ne{constructor(){super(new Et(qd),ne.EMPTY_NODE,En.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const ao=new Vx;Object.defineProperties(ue,{MIN:{value:new ue(xi,ne.EMPTY_NODE)},MAX:{value:new ue(Lr,ao)}});xv.__EMPTY_NODE=ne.EMPTY_NODE;Qe.__childrenNodeConstructor=ne;Fx(ao);zx(ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=!0;function $e(r,e=null){if(r===null)return ne.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const t=r;return new Qe(t,$e(e))}if(!(r instanceof Array)&&$x){const t=[];let s=!1;if(tt(r,(c,h)=>{if(c.substring(0,1)!=="."){const p=$e(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),t.push(new ue(c,p)))}}),t.length===0)return ne.EMPTY_NODE;const a=Xl(t,jx,c=>c.name,qd);if(s){const c=Xl(t,Ue.getCompare());return new ne(a,$e(e),new En({".priority":c},{".priority":Ue}))}else return new ne(a,$e(e),En.Default)}else{let t=ne.EMPTY_NODE;return tt(r,(s,o)=>{if(an(r,s)&&s.substring(0,1)!=="."){const a=$e(o);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(s,a))}}),t.updatePriority($e(e))}}Ux($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx extends _a{constructor(e){super(),this.indexPath_=e,U(!de(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),o=this.extractChild(t.node),a=s.compareTo(o);return a===0?Fr(e.name,t.name):a}makePost(e,t){const s=$e(e),o=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(t,o)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,ao);return new ue(Lr,e)}toString(){return $s(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx extends _a{compare(e,t){const s=e.node.compareTo(t.node);return s===0?Fr(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,t){const s=$e(e);return new ue(t,s)}toString(){return".value"}}const qx=new Kx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){return{type:"value",snapshotNode:r}}function ki(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function Gs(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function Ks(r,e,t){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:t}}function Yx(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.index_=e}updateChild(e,t,s,o,a,c){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(t)?c.trackChildChange(Gs(t,h)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(ki(t,s)):c.trackChildChange(Ks(t,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(t,s).withIndex(this.index_)}updateFullNode(e,t,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ue,(o,a)=>{t.hasChild(o)||s.trackChildChange(Gs(o,a))}),t.isLeafNode()||t.forEachChild(Ue,(o,a)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(a)||s.trackChildChange(Ks(o,a,c))}else s.trackChildChange(ki(o,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.indexedFilter_=new Yd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qs.getStartPost_(e),this.endPost_=qs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&s}updateChild(e,t,s,o,a,c){return this.matches(new ue(t,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,s,o,a,c)}updateFullNode(e,t,s){t.isLeafNode()&&(t=ne.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(ne.EMPTY_NODE);const a=this;return t.forEachChild(Ue,(c,h)=>{a.matches(new ue(c,h))||(o=o.updateImmediateChild(c,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=t=>{const s=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new qs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,s,o,a,c){return this.rangedFilter_.matches(new ue(t,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(t).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,s,o,a,c):this.fullLimitUpdateChild_(e,t,s,a,c)}updateFullNode(e,t,s){let o;if(t.isLeafNode()||t.isEmpty())o=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){o=ne.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=t.withIndex(this.index_),o=o.updatePriority(ne.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let c=0;for(;a.hasNext();){const h=a.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,s,o,a){let c;if(this.reverse_){const y=this.index_.getCompare();c=(E,R)=>y(R,E)}else c=this.index_.getCompare();const h=e;U(h.numChildren()===this.limit_,"");const p=new ue(t,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(h.hasChild(t)){const y=h.getImmediateChild(t);let E=o.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===t||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const R=E==null?1:c(E,p);if(v&&!s.isEmpty()&&R>=0)return a!=null&&a.trackChildChange(Ks(t,s,y)),h.updateImmediateChild(t,s);{a!=null&&a.trackChildChange(Gs(t,y));const b=h.updateImmediateChild(t,ne.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(a!=null&&a.trackChildChange(ki(E.name,E.node)),b.updateImmediateChild(E.name,E.node)):b}}else return s.isEmpty()?e:v&&c(m,p)>=0?(a!=null&&(a.trackChildChange(Gs(m.name,m.node)),a.trackChildChange(ki(t,s))),h.updateImmediateChild(t,s).updateImmediateChild(m.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xi}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new Qd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jx(r){return r.loadsAllData()?new Yd(r.getIndex()):r.hasLimit()?new Qx(r):new qs(r)}function Tg(r){const e={};if(r.isDefault())return e;let t;if(r.index_===Ue?t="$priority":r.index_===qx?t="$value":r.index_===Ei?t="$key":(U(r.index_ instanceof Gx,"Unrecognized index type!"),t=r.index_.toString()),e.orderBy=Ge(t),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";e[s]=Ge(r.indexStartValue_),r.startNameSet_&&(e[s]+=","+Ge(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";e[s]=Ge(r.indexEndValue_),r.endNameSet_&&(e[s]+=","+Ge(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function Ng(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let t=r.viewFrom_;t===""&&(r.isViewFromLeft()?t="l":t="r"),e.vf=t}return r.index_!==Ue&&(e.i=r.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends wv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=lo("p:rest:"),this.listens_={}}listen(e,t,s,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const c=Zl.getListenId_(e,s),h={};this.listens_[c]=h;const p=Tg(e._queryParams);this.restRequest_(a+".json",p,(m,v)=>{let y=v;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(a,y,!1,s),Ci(this.listens_,c)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",o(E,null)}})}unlisten(e,t){const s=Zl.getListenId_(e,t);delete this.listens_[s]}get(e){const t=Tg(e._queryParams),s=e._path.toString(),o=new eo;return this.restRequest_(s+".json",t,(a,c)=>{let h=c;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(t.auth=o.accessToken),a&&a.token&&(t.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bi(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=zs(h.responseText)}catch{ht("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&ht("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return{value:null,children:new Map}}function Pv(r,e,t){if(de(e))r.value=t,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,t);else{const s=ae(e);r.children.has(s)||r.children.set(s,ea());const o=r.children.get(s);e=Ne(e),Pv(o,e,t)}}function ad(r,e,t){r.value!==null?t(e,r.value):Zx(r,(s,o)=>{const a=new xe(e.toString()+"/"+s);ad(o,a,t)})}function Zx(r,e){r.children.forEach((t,s)=>{e(s,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tt(this.last_,(s,o)=>{t[s]=t[s]-o}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=10*1e3,tk=30*1e3,nk=300*1e3;class rk{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ek(e);const s=Rg+(tk-Rg)*Math.random();Ds(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;tt(e,(o,a)=>{a>0&&an(this.statsToReport_,o)&&(t[o]=a,s=!0)}),s&&this.server_.reportStats(t),Ds(this.reportStats_.bind(this),Math.floor(Math.random()*2*nk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function Jd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zd(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=Gt.ACK_USER_WRITE,this.source=Jd()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new xe(e));return new ta(ve(),t,this.revert)}}else return U(ae(this.path)===e,"operationForChild called for unrelated child."),new ta(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.source=e,this.path=t,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Ys(this.source,ve()):new Ys(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=Gt.OVERWRITE}operationForChild(e){return de(this.path)?new Dr(this.source,ve(),this.snap.getImmediateChild(e)):new Dr(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=Gt.MERGE}operationForChild(e){if(de(this.path)){const t=this.children.subtree(new xe(e));return t.isEmpty()?null:t.value?new Dr(this.source,ve(),t.value):new Ii(this.source,ve(),t)}else return U(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ii(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const t=ae(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sk(r,e,t,s){const o=[],a=[];return e.forEach(c=>{c.type==="child_changed"&&r.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(Yx(c.childName,c.snapshotNode))}),Ts(r,o,"child_removed",e,s,t),Ts(r,o,"child_added",e,s,t),Ts(r,o,"child_moved",a,s,t),Ts(r,o,"child_changed",e,s,t),Ts(r,o,"value",e,s,t),o}function Ts(r,e,t,s,o,a){const c=s.filter(h=>h.type===t);c.sort((h,p)=>lk(r,h,p)),c.forEach(h=>{const p=ok(r,h,a);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,r.query_))})})}function ok(r,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function lk(r,e,t){if(e.childName==null||t.childName==null)throw Pi("Should only compare child_ events.");const s=new ue(e.childName,e.snapshotNode),o=new ue(t.childName,t.snapshotNode);return r.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(r,e){return{eventCache:r,serverCache:e}}function Ms(r,e,t,s){return va(new ar(e,t,s),r.serverCache)}function bv(r,e,t,s){return va(r.eventCache,new ar(e,t,s))}function na(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Mr(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;const ak=()=>(Bc||(Bc=new Et(G1)),Bc);class Te{static fromObject(e){let t=new Te(null);return tt(e,(s,o)=>{t=t.set(new xe(s),o)}),t}constructor(e,t=ak()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ve(),value:this.value};if(de(e))return null;{const s=ae(e),o=this.children.get(s);if(o!==null){const a=o.findRootMostMatchingPathAndValue(Ne(e),t);return a!=null?{path:Fe(new xe(s),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const t=ae(e),s=this.children.get(t);return s!==null?s.subtree(Ne(e)):new Te(null)}}set(e,t){if(de(e))return new Te(t,this.children);{const s=ae(e),a=(this.children.get(s)||new Te(null)).set(Ne(e),t),c=this.children.insert(s,a);return new Te(this.value,c)}}remove(e){if(de(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const t=ae(e),s=this.children.get(t);if(s){const o=s.remove(Ne(e));let a;return o.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,o),this.value===null&&a.isEmpty()?new Te(null):new Te(this.value,a)}else return this}}get(e){if(de(e))return this.value;{const t=ae(e),s=this.children.get(t);return s?s.get(Ne(e)):null}}setTree(e,t){if(de(e))return t;{const s=ae(e),a=(this.children.get(s)||new Te(null)).setTree(Ne(e),t);let c;return a.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,a),new Te(this.value,c)}}fold(e){return this.fold_(ve(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((o,a)=>{s[o]=a.fold_(Fe(e,o),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,ve(),t)}findOnPath_(e,t,s){const o=this.value?s(t,this.value):!1;if(o)return o;if(de(e))return null;{const a=ae(e),c=this.children.get(a);return c?c.findOnPath_(Ne(e),Fe(t,a),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ve(),t)}foreachOnPath_(e,t,s){if(de(e))return this;{this.value&&s(t,this.value);const o=ae(e),a=this.children.get(o);return a?a.foreachOnPath_(Ne(e),Fe(t,o),s):new Te(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,t){this.children.inorderTraversal((s,o)=>{o.foreach_(Fe(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new Te(null))}}function js(r,e,t){if(de(e))return new Kt(new Te(t));{const s=r.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let a=s.value;const c=ct(o,e);return a=a.updateChild(c,t),new Kt(r.writeTree_.set(o,a))}else{const o=new Te(t),a=r.writeTree_.setTree(e,o);return new Kt(a)}}}function ud(r,e,t){let s=r;return tt(t,(o,a)=>{s=js(s,Fe(e,o),a)}),s}function Pg(r,e){if(de(e))return Kt.empty();{const t=r.writeTree_.setTree(e,new Te(null));return new Kt(t)}}function cd(r,e){return Ur(r,e)!=null}function Ur(r,e){const t=r.writeTree_.findRootMostValueAndPath(e);return t!=null?r.writeTree_.get(t.path).getChild(ct(t.path,e)):null}function bg(r){const e=[],t=r.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ue,(s,o)=>{e.push(new ue(s,o))}):r.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new ue(s,o.value))}),e}function sr(r,e){if(de(e))return r;{const t=Ur(r,e);return t!=null?new Kt(new Te(t)):new Kt(r.writeTree_.subtree(e))}}function dd(r){return r.writeTree_.isEmpty()}function Ti(r,e){return Ov(ve(),r.writeTree_,e)}function Ov(r,e,t){if(e.value!=null)return t.updateChild(r,e.value);{let s=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(U(a.value!==null,"Priority writes must always be leaf nodes"),s=a.value):t=Ov(Fe(r,o),a,t)}),!t.getChild(r).isEmpty()&&s!==null&&(t=t.updateChild(Fe(r,".priority"),s)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(r,e){return Mv(e,r)}function uk(r,e,t,s,o){U(s>r.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),r.allWrites.push({path:e,snap:t,writeId:s,visible:o}),o&&(r.visibleWrites=js(r.visibleWrites,e,t)),r.lastWriteId=s}function ck(r,e,t,s){U(s>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:e,children:t,writeId:s,visible:!0}),r.visibleWrites=ud(r.visibleWrites,e,t),r.lastWriteId=s}function dk(r,e){for(let t=0;t<r.allWrites.length;t++){const s=r.allWrites[t];if(s.writeId===e)return s}return null}function hk(r,e){const t=r.allWrites.findIndex(h=>h.writeId===e);U(t>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[t];r.allWrites.splice(t,1);let o=s.visible,a=!1,c=r.allWrites.length-1;for(;o&&c>=0;){const h=r.allWrites[c];h.visible&&(c>=t&&fk(h,s.path)?o=!1:Dt(s.path,h.path)&&(a=!0)),c--}if(o){if(a)return pk(r),!0;if(s.snap)r.visibleWrites=Pg(r.visibleWrites,s.path);else{const h=s.children;tt(h,p=>{r.visibleWrites=Pg(r.visibleWrites,Fe(s.path,p))})}return!0}else return!1}function fk(r,e){if(r.snap)return Dt(r.path,e);for(const t in r.children)if(r.children.hasOwnProperty(t)&&Dt(Fe(r.path,t),e))return!0;return!1}function pk(r){r.visibleWrites=Av(r.allWrites,mk,ve()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function mk(r){return r.visible}function Av(r,e,t){let s=Kt.empty();for(let o=0;o<r.length;++o){const a=r[o];if(e(a)){const c=a.path;let h;if(a.snap)Dt(t,c)?(h=ct(t,c),s=js(s,h,a.snap)):Dt(c,t)&&(h=ct(c,t),s=js(s,ve(),a.snap.getChild(h)));else if(a.children){if(Dt(t,c))h=ct(t,c),s=ud(s,h,a.children);else if(Dt(c,t))if(h=ct(c,t),de(h))s=ud(s,ve(),a.children);else{const p=Ci(a.children,ae(h));if(p){const m=p.getChild(Ne(h));s=js(s,ve(),m)}}}else throw Pi("WriteRecord should have .snap or .children")}}return s}function Lv(r,e,t,s,o){if(!s&&!o){const a=Ur(r.visibleWrites,e);if(a!=null)return a;{const c=sr(r.visibleWrites,e);if(dd(c))return t;if(t==null&&!cd(c,ve()))return null;{const h=t||ne.EMPTY_NODE;return Ti(c,h)}}}else{const a=sr(r.visibleWrites,e);if(!o&&dd(a))return t;if(!o&&t==null&&!cd(a,ve()))return null;{const c=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(Dt(m.path,e)||Dt(e,m.path))},h=Av(r.allWrites,c,e),p=t||ne.EMPTY_NODE;return Ti(h,p)}}}function gk(r,e,t){let s=ne.EMPTY_NODE;const o=Ur(r.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ue,(a,c)=>{s=s.updateImmediateChild(a,c)}),s;if(t){const a=sr(r.visibleWrites,e);return t.forEachChild(Ue,(c,h)=>{const p=Ti(sr(a,new xe(c)),h);s=s.updateImmediateChild(c,p)}),bg(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const a=sr(r.visibleWrites,e);return bg(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function _k(r,e,t,s,o){U(s||o,"Either existingEventSnap or existingServerSnap must exist");const a=Fe(e,t);if(cd(r.visibleWrites,a))return null;{const c=sr(r.visibleWrites,a);return dd(c)?o.getChild(t):Ti(c,o.getChild(t))}}function vk(r,e,t,s){const o=Fe(e,t),a=Ur(r.visibleWrites,o);if(a!=null)return a;if(s.isCompleteForChild(t)){const c=sr(r.visibleWrites,o);return Ti(c,s.getNode().getImmediateChild(t))}else return null}function yk(r,e){return Ur(r.visibleWrites,e)}function wk(r,e,t,s,o,a,c){let h;const p=sr(r.visibleWrites,e),m=Ur(p,ve());if(m!=null)h=m;else if(t!=null)h=Ti(p,t);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const v=[],y=c.getCompare(),E=a?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let R=E.getNext();for(;R&&v.length<o;)y(R,s)!==0&&v.push(R),R=E.getNext();return v}else return[]}function Ek(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function ra(r,e,t,s){return Lv(r.writeTree,r.treePath,e,t,s)}function eh(r,e){return gk(r.writeTree,r.treePath,e)}function Og(r,e,t,s){return _k(r.writeTree,r.treePath,e,t,s)}function ia(r,e){return yk(r.writeTree,Fe(r.treePath,e))}function Ck(r,e,t,s,o,a){return wk(r.writeTree,r.treePath,e,t,s,o,a)}function th(r,e,t){return vk(r.writeTree,r.treePath,e,t)}function Dv(r,e){return Mv(Fe(r.treePath,e),r.writeTree)}function Mv(r,e){return{treePath:r,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;U(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),U(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const a=o.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(s,Ks(s,e.snapshotNode,o.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(s,Gs(s,o.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(s,ki(s,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(s,Ks(s,e.snapshotNode,o.oldSnap));else throw Pi("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const jv=new xk;class nh{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return th(this.writes_,e,s)}}getChildAfterChild(e,t,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mr(this.viewCache_),a=Ck(this.writes_,o,t,1,s,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(r){return{filter:r}}function Ik(r,e){U(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function Tk(r,e,t,s,o){const a=new Sk;let c,h;if(t.type===Gt.OVERWRITE){const m=t;m.source.fromUser?c=hd(r,e,m.path,m.snap,s,o,a):(U(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),c=sa(r,e,m.path,m.snap,s,o,h,a))}else if(t.type===Gt.MERGE){const m=t;m.source.fromUser?c=Rk(r,e,m.path,m.children,s,o,a):(U(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=fd(r,e,m.path,m.children,s,o,h,a))}else if(t.type===Gt.ACK_USER_WRITE){const m=t;m.revert?c=Ok(r,e,m.path,s,o,a):c=Pk(r,e,m.path,m.affectedTree,s,o,a)}else if(t.type===Gt.LISTEN_COMPLETE)c=bk(r,e,t.path,s,a);else throw Pi("Unknown operation type: "+t.type);const p=a.getChanges();return Nk(e,c,p),{viewCache:c,changes:p}}function Nk(r,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),a=na(r);(t.length>0||!r.eventCache.isFullyInitialized()||o&&!s.getNode().equals(a)||!s.getNode().getPriority().equals(a.getPriority()))&&t.push(Rv(na(e)))}}function Fv(r,e,t,s,o,a){const c=e.eventCache;if(ia(s,t)!=null)return e;{let h,p;if(de(t))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Mr(e),v=m instanceof ne?m:ne.EMPTY_NODE,y=eh(s,v);h=r.filter.updateFullNode(e.eventCache.getNode(),y,a)}else{const m=ra(s,Mr(e));h=r.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const m=ae(t);if(m===".priority"){U(lr(t)===1,"Can't have a priority with additional path components");const v=c.getNode();p=e.serverCache.getNode();const y=Og(s,t,v,p);y!=null?h=r.filter.updatePriority(v,y):h=c.getNode()}else{const v=Ne(t);let y;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const E=Og(s,t,c.getNode(),p);E!=null?y=c.getNode().getImmediateChild(m).updateChild(v,E):y=c.getNode().getImmediateChild(m)}else y=th(s,m,e.serverCache);y!=null?h=r.filter.updateChild(c.getNode(),m,y,v,o,a):h=c.getNode()}}return Ms(e,h,c.isFullyInitialized()||de(t),r.filter.filtersNodes())}}function sa(r,e,t,s,o,a,c,h){const p=e.serverCache;let m;const v=c?r.filter:r.filter.getIndexedFilter();if(de(t))m=v.updateFullNode(p.getNode(),s,null);else if(v.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(t,s);m=v.updateFullNode(p.getNode(),R,null)}else{const R=ae(t);if(!p.isCompleteForPath(t)&&lr(t)>1)return e;const O=Ne(t),A=p.getNode().getImmediateChild(R).updateChild(O,s);R===".priority"?m=v.updatePriority(p.getNode(),A):m=v.updateChild(p.getNode(),R,A,O,jv,null)}const y=bv(e,m,p.isFullyInitialized()||de(t),v.filtersNodes()),E=new nh(o,y,a);return Fv(r,y,t,o,E,h)}function hd(r,e,t,s,o,a,c){const h=e.eventCache;let p,m;const v=new nh(o,e,a);if(de(t))m=r.filter.updateFullNode(e.eventCache.getNode(),s,c),p=Ms(e,m,!0,r.filter.filtersNodes());else{const y=ae(t);if(y===".priority")m=r.filter.updatePriority(e.eventCache.getNode(),s),p=Ms(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=Ne(t),R=h.getNode().getImmediateChild(y);let O;if(de(E))O=s;else{const b=v.getCompleteChild(y);b!=null?$d(E)===".priority"&&b.getChild(Cv(E)).isEmpty()?O=b:O=b.updateChild(E,s):O=ne.EMPTY_NODE}if(R.equals(O))p=e;else{const b=r.filter.updateChild(h.getNode(),y,O,E,v,c);p=Ms(e,b,h.isFullyInitialized(),r.filter.filtersNodes())}}}return p}function Ag(r,e){return r.eventCache.isCompleteForChild(e)}function Rk(r,e,t,s,o,a,c){let h=e;return s.foreach((p,m)=>{const v=Fe(t,p);Ag(e,ae(v))&&(h=hd(r,h,v,m,o,a,c))}),s.foreach((p,m)=>{const v=Fe(t,p);Ag(e,ae(v))||(h=hd(r,h,v,m,o,a,c))}),h}function Lg(r,e,t){return t.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function fd(r,e,t,s,o,a,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;de(t)?m=s:m=new Te(null).setTree(t,s);const v=e.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(v.hasChild(y)){const R=e.serverCache.getNode().getImmediateChild(y),O=Lg(r,R,E);p=sa(r,p,new xe(y),O,o,a,c,h)}}),m.children.inorderTraversal((y,E)=>{const R=!e.serverCache.isCompleteForChild(y)&&E.value===null;if(!v.hasChild(y)&&!R){const O=e.serverCache.getNode().getImmediateChild(y),b=Lg(r,O,E);p=sa(r,p,new xe(y),b,o,a,c,h)}}),p}function Pk(r,e,t,s,o,a,c){if(ia(o,t)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(de(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return sa(r,e,t,p.getNode().getChild(t),o,a,h,c);if(de(t)){let m=new Te(null);return p.getNode().forEachChild(Ei,(v,y)=>{m=m.set(new xe(v),y)}),fd(r,e,t,m,o,a,h,c)}else return e}else{let m=new Te(null);return s.foreach((v,y)=>{const E=Fe(t,v);p.isCompleteForPath(E)&&(m=m.set(v,p.getNode().getChild(E)))}),fd(r,e,t,m,o,a,h,c)}}function bk(r,e,t,s,o){const a=e.serverCache,c=bv(e,a.getNode(),a.isFullyInitialized()||de(t),a.isFiltered());return Fv(r,c,t,s,jv,o)}function Ok(r,e,t,s,o,a){let c;if(ia(s,t)!=null)return e;{const h=new nh(s,e,o),p=e.eventCache.getNode();let m;if(de(t)||ae(t)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=ra(s,Mr(e));else{const y=e.serverCache.getNode();U(y instanceof ne,"serverChildren would be complete if leaf node"),v=eh(s,y)}v=v,m=r.filter.updateFullNode(p,v,a)}else{const v=ae(t);let y=th(s,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=p.getImmediateChild(v)),y!=null?m=r.filter.updateChild(p,v,y,Ne(t),h,a):e.eventCache.getNode().hasChild(v)?m=r.filter.updateChild(p,v,ne.EMPTY_NODE,Ne(t),h,a):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ra(s,Mr(e)),c.isLeafNode()&&(m=r.filter.updateFullNode(m,c,a)))}return c=e.serverCache.isFullyInitialized()||ia(s,ve())!=null,Ms(e,m,c,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Yd(s.getIndex()),a=Jx(s);this.processor_=kk(a);const c=t.serverCache,h=t.eventCache,p=o.updateFullNode(ne.EMPTY_NODE,c.getNode(),null),m=a.updateFullNode(ne.EMPTY_NODE,h.getNode(),null),v=new ar(p,c.isFullyInitialized(),o.filtersNodes()),y=new ar(m,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=va(y,v),this.eventGenerator_=new ik(this.query_)}get query(){return this.query_}}function Lk(r){return r.viewCache_.serverCache.getNode()}function Dk(r){return na(r.viewCache_)}function Mk(r,e){const t=Mr(r.viewCache_);return t&&(r.query._queryParams.loadsAllData()||!de(e)&&!t.getImmediateChild(ae(e)).isEmpty())?t.getChild(e):null}function Dg(r){return r.eventRegistrations_.length===0}function jk(r,e){r.eventRegistrations_.push(e)}function Mg(r,e,t){const s=[];if(t){U(e==null,"A cancel should cancel all event registrations.");const o=r.query._path;r.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(t,o);c&&s.push(c)})}if(e){let o=[];for(let a=0;a<r.eventRegistrations_.length;++a){const c=r.eventRegistrations_[a];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(r.eventRegistrations_.slice(a+1));break}}r.eventRegistrations_=o}else r.eventRegistrations_=[];return s}function jg(r,e,t,s){e.type===Gt.MERGE&&e.source.queryId!==null&&(U(Mr(r.viewCache_),"We should always have a full cache before handling merges"),U(na(r.viewCache_),"Missing event cache, even though we have a server cache"));const o=r.viewCache_,a=Tk(r.processor_,o,e,t,s);return Ik(r.processor_,a.viewCache),U(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=a.viewCache,Uv(r,a.changes,a.viewCache.eventCache.getNode(),null)}function Fk(r,e){const t=r.viewCache_.eventCache,s=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ue,(a,c)=>{s.push(ki(a,c))}),t.isFullyInitialized()&&s.push(Rv(t.getNode())),Uv(r,s,t.getNode(),e)}function Uv(r,e,t,s){const o=s?[s]:r.eventRegistrations_;return sk(r.eventGenerator_,e,t,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa;class zv{constructor(){this.views=new Map}}function Uk(r){U(!oa,"__referenceConstructor has already been defined"),oa=r}function zk(){return U(oa,"Reference.ts has not been loaded"),oa}function Bk(r){return r.views.size===0}function rh(r,e,t,s){const o=e.source.queryId;if(o!==null){const a=r.views.get(o);return U(a!=null,"SyncTree gave us an op for an invalid query."),jg(a,e,t,s)}else{let a=[];for(const c of r.views.values())a=a.concat(jg(c,e,t,s));return a}}function Bv(r,e,t,s,o){const a=e._queryIdentifier,c=r.views.get(a);if(!c){let h=ra(t,o?s:null),p=!1;h?p=!0:s instanceof ne?(h=eh(t,s),p=!1):(h=ne.EMPTY_NODE,p=!1);const m=va(new ar(h,p,!1),new ar(s,o,!1));return new Ak(e,m)}return c}function Wk(r,e,t,s,o,a){const c=Bv(r,e,s,o,a);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,c),jk(c,t),Fk(c,t)}function Hk(r,e,t,s){const o=e._queryIdentifier,a=[];let c=[];const h=ur(r);if(o==="default")for(const[p,m]of r.views.entries())c=c.concat(Mg(m,t,s)),Dg(m)&&(r.views.delete(p),m.query._queryParams.loadsAllData()||a.push(m.query));else{const p=r.views.get(o);p&&(c=c.concat(Mg(p,t,s)),Dg(p)&&(r.views.delete(o),p.query._queryParams.loadsAllData()||a.push(p.query)))}return h&&!ur(r)&&a.push(new(zk())(e._repo,e._path)),{removed:a,events:c}}function Wv(r){const e=[];for(const t of r.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function or(r,e){let t=null;for(const s of r.views.values())t=t||Mk(s,e);return t}function Hv(r,e){if(e._queryParams.loadsAllData())return wa(r);{const s=e._queryIdentifier;return r.views.get(s)}}function Vv(r,e){return Hv(r,e)!=null}function ur(r){return wa(r)!=null}function wa(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;function Vk(r){U(!la,"__referenceConstructor has already been defined"),la=r}function $k(){return U(la,"Reference.ts has not been loaded"),la}let Gk=1;class Fg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=Ek(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $v(r,e,t,s,o){return uk(r.pendingWriteTree_,e,t,s,o),o?Di(r,new Dr(Jd(),e,t)):[]}function Kk(r,e,t,s){ck(r.pendingWriteTree_,e,t,s);const o=Te.fromObject(t);return Di(r,new Ii(Jd(),e,o))}function tr(r,e,t=!1){const s=dk(r.pendingWriteTree_,e);if(hk(r.pendingWriteTree_,e)){let a=new Te(null);return s.snap!=null?a=a.set(ve(),!0):tt(s.children,c=>{a=a.set(new xe(c),!0)}),Di(r,new ta(s.path,a,t))}else return[]}function uo(r,e,t){return Di(r,new Dr(Xd(),e,t))}function qk(r,e,t){const s=Te.fromObject(t);return Di(r,new Ii(Xd(),e,s))}function Yk(r,e){return Di(r,new Ys(Xd(),e))}function Qk(r,e,t){const s=sh(r,t);if(s){const o=oh(s),a=o.path,c=o.queryId,h=ct(a,e),p=new Ys(Zd(c),h);return lh(r,a,p)}else return[]}function aa(r,e,t,s,o=!1){const a=e._path,c=r.syncPointTree_.get(a);let h=[];if(c&&(e._queryIdentifier==="default"||Vv(c,e))){const p=Hk(c,e,t,s);Bk(c)&&(r.syncPointTree_=r.syncPointTree_.remove(a));const m=p.removed;if(h=p.events,!o){const v=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=r.syncPointTree_.findOnPath(a,(E,R)=>ur(R));if(v&&!y){const E=r.syncPointTree_.subtree(a);if(!E.isEmpty()){const R=Zk(E);for(let O=0;O<R.length;++O){const b=R[O],A=b.query,z=Yv(r,b);r.listenProvider_.startListening(Fs(A),Qs(r,A),z.hashFn,z.onComplete)}}}!y&&m.length>0&&!s&&(v?r.listenProvider_.stopListening(Fs(e),null):m.forEach(E=>{const R=r.queryToTagMap.get(Ea(E));r.listenProvider_.stopListening(Fs(E),R)}))}eI(r,m)}return h}function Gv(r,e,t,s){const o=sh(r,s);if(o!=null){const a=oh(o),c=a.path,h=a.queryId,p=ct(c,e),m=new Dr(Zd(h),p,t);return lh(r,c,m)}else return[]}function Jk(r,e,t,s){const o=sh(r,s);if(o){const a=oh(o),c=a.path,h=a.queryId,p=ct(c,e),m=Te.fromObject(t),v=new Ii(Zd(h),p,m);return lh(r,c,v)}else return[]}function pd(r,e,t,s=!1){const o=e._path;let a=null,c=!1;r.syncPointTree_.foreachOnPath(o,(E,R)=>{const O=ct(E,o);a=a||or(R,O),c=c||ur(R)});let h=r.syncPointTree_.get(o);h?(c=c||ur(h),a=a||or(h,ve())):(h=new zv,r.syncPointTree_=r.syncPointTree_.set(o,h));let p;a!=null?p=!0:(p=!1,a=ne.EMPTY_NODE,r.syncPointTree_.subtree(o).foreachChild((R,O)=>{const b=or(O,ve());b&&(a=a.updateImmediateChild(R,b))}));const m=Vv(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=Ea(e);U(!r.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=tI();r.queryToTagMap.set(E,R),r.tagToQueryMap.set(R,E)}const v=ya(r.pendingWriteTree_,o);let y=Wk(h,e,t,v,a,p);if(!m&&!c&&!s){const E=Hv(h,e);y=y.concat(nI(r,e,E))}return y}function ih(r,e,t){const o=r.pendingWriteTree_,a=r.syncPointTree_.findOnPath(e,(c,h)=>{const p=ct(c,e),m=or(h,p);if(m)return m});return Lv(o,e,a,t,!0)}function Xk(r,e){const t=e._path;let s=null;r.syncPointTree_.foreachOnPath(t,(m,v)=>{const y=ct(m,t);s=s||or(v,y)});let o=r.syncPointTree_.get(t);o?s=s||or(o,ve()):(o=new zv,r.syncPointTree_=r.syncPointTree_.set(t,o));const a=s!=null,c=a?new ar(s,!0,!1):null,h=ya(r.pendingWriteTree_,e._path),p=Bv(o,e,h,a?c.getNode():ne.EMPTY_NODE,a);return Dk(p)}function Di(r,e){return Kv(e,r.syncPointTree_,null,ya(r.pendingWriteTree_,ve()))}function Kv(r,e,t,s){if(de(r.path))return qv(r,e,t,s);{const o=e.get(ve());t==null&&o!=null&&(t=or(o,ve()));let a=[];const c=ae(r.path),h=r.operationForChild(c),p=e.children.get(c);if(p&&h){const m=t?t.getImmediateChild(c):null,v=Dv(s,c);a=a.concat(Kv(h,p,m,v))}return o&&(a=a.concat(rh(o,r,s,t))),a}}function qv(r,e,t,s){const o=e.get(ve());t==null&&o!=null&&(t=or(o,ve()));let a=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,m=Dv(s,c),v=r.operationForChild(c);v&&(a=a.concat(qv(v,h,p,m)))}),o&&(a=a.concat(rh(o,r,s,t))),a}function Yv(r,e){const t=e.query,s=Qs(r,t);return{hashFn:()=>(Lk(e)||ne.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?Qk(r,t._path,s):Yk(r,t._path);{const a=Y1(o,t);return aa(r,t,null,a)}}}}function Qs(r,e){const t=Ea(e);return r.queryToTagMap.get(t)}function Ea(r){return r._path.toString()+"$"+r._queryIdentifier}function sh(r,e){return r.tagToQueryMap.get(e)}function oh(r){const e=r.indexOf("$");return U(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new xe(r.substr(0,e))}}function lh(r,e,t){const s=r.syncPointTree_.get(e);U(s,"Missing sync point for query tag that we're tracking");const o=ya(r.pendingWriteTree_,e);return rh(s,t,o,null)}function Zk(r){return r.fold((e,t,s)=>{if(t&&ur(t))return[wa(t)];{let o=[];return t&&(o=Wv(t)),tt(s,(a,c)=>{o=o.concat(c)}),o}})}function Fs(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new($k())(r._repo,r._path):r}function eI(r,e){for(let t=0;t<e.length;++t){const s=e[t];if(!s._queryParams.loadsAllData()){const o=Ea(s),a=r.queryToTagMap.get(o);r.queryToTagMap.delete(o),r.tagToQueryMap.delete(a)}}}function tI(){return Gk++}function nI(r,e,t){const s=e._path,o=Qs(r,e),a=Yv(r,t),c=r.listenProvider_.startListening(Fs(e),o,a.hashFn,a.onComplete),h=r.syncPointTree_.subtree(s);if(o)U(!ur(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,v,y)=>{if(!de(m)&&v&&ur(v))return[wa(v).query];{let E=[];return v&&(E=E.concat(Wv(v).map(R=>R.query))),tt(y,(R,O)=>{E=E.concat(O)}),E}});for(let m=0;m<p.length;++m){const v=p[m];r.listenProvider_.stopListening(Fs(v),Qs(r,v))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ah(t)}node(){return this.node_}}class uh{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Fe(this.path_,e);return new uh(this.syncTree_,t)}node(){return ih(this.syncTree_,this.path_)}}const rI=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Ug=function(r,e,t){if(!r||typeof r!="object")return r;if(U(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return iI(r[".sv"],e,t);if(typeof r[".sv"]=="object")return sI(r[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},iI=function(r,e,t){switch(r){case"timestamp":return t.timestamp;default:U(!1,"Unexpected server value: "+r)}},sI=function(r,e,t){r.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;typeof s!="number"&&U(!1,"Unexpected increment value: "+s);const o=e.node();if(U(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const c=o.getValue();return typeof c!="number"?s:c+s},Qv=function(r,e,t,s){return ch(e,new uh(t,r),s)},Jv=function(r,e,t){return ch(r,new ah(e),t)};function ch(r,e,t){const s=r.getPriority().val(),o=Ug(s,e.getImmediateChild(".priority"),t);let a;if(r.isLeafNode()){const c=r,h=Ug(c.getValue(),e,t);return h!==c.getValue()||o!==c.getPriority().val()?new Qe(h,$e(o)):r}else{const c=r;return a=c,o!==c.getPriority().val()&&(a=a.updatePriority(new Qe(o))),c.forEachChild(Ue,(h,p)=>{const m=ch(p,e.getImmediateChild(h),t);m!==p&&(a=a.updateImmediateChild(h,m))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function hh(r,e){let t=e instanceof xe?e:new xe(e),s=r,o=ae(t);for(;o!==null;){const a=Ci(s.node.children,o)||{children:{},childCount:0};s=new dh(o,s,a),t=Ne(t),o=ae(t)}return s}function Mi(r){return r.node.value}function Xv(r,e){r.node.value=e,md(r)}function Zv(r){return r.node.childCount>0}function oI(r){return Mi(r)===void 0&&!Zv(r)}function Ca(r,e){tt(r.node.children,(t,s)=>{e(new dh(t,r,s))})}function ey(r,e,t,s){t&&e(r),Ca(r,o=>{ey(o,e,!0)})}function lI(r,e,t){let s=r.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function co(r){return new xe(r.parent===null?r.name:co(r.parent)+"/"+r.name)}function md(r){r.parent!==null&&aI(r.parent,r.name,r)}function aI(r,e,t){const s=oI(t),o=an(r.node.children,e);s&&o?(delete r.node.children[e],r.node.childCount--,md(r)):!s&&!o&&(r.node.children[e]=t.node,r.node.childCount++,md(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=/[\[\].#$\/\u0000-\u001F\u007F]/,cI=/[\[\].#$\u0000-\u001F\u007F]/,Wc=10*1024*1024,fh=function(r){return typeof r=="string"&&r.length!==0&&!uI.test(r)},ty=function(r){return typeof r=="string"&&r.length!==0&&!cI.test(r)},dI=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ty(r)},hI=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!zd(r)||r&&typeof r=="object"&&an(r,".sv")},ny=function(r,e,t,s){s&&e===void 0||Sa(ha(r,"value"),e,t)},Sa=function(r,e,t){const s=t instanceof xe?new Rx(t,r):t;if(e===void 0)throw new Error(r+"contains undefined "+Nr(s));if(typeof e=="function")throw new Error(r+"contains a function "+Nr(s)+" with contents = "+e.toString());if(zd(e))throw new Error(r+"contains "+e.toString()+" "+Nr(s));if(typeof e=="string"&&e.length>Wc/3&&fa(e)>Wc)throw new Error(r+"contains a string greater than "+Wc+" utf8 bytes "+Nr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(tt(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!fh(c)))throw new Error(r+" contains an invalid key ("+c+") "+Nr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Px(s,c),Sa(r,h,s),bx(s)}),o&&a)throw new Error(r+' contains ".value" child '+Nr(s)+" in addition to actual children.")}},fI=function(r,e){let t,s;for(t=0;t<e.length;t++){s=e[t];const a=$s(s);for(let c=0;c<a.length;c++)if(!(a[c]===".priority"&&c===a.length-1)){if(!fh(a[c]))throw new Error(r+"contains an invalid key ("+a[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Nx);let o=null;for(t=0;t<e.length;t++){if(s=e[t],o!==null&&Dt(o,s))throw new Error(r+"contains a path "+o.toString()+" that is ancestor of another path "+s.toString());o=s}},pI=function(r,e,t,s){const o=ha(r,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const a=[];tt(e,(c,h)=>{const p=new xe(c);if(Sa(o,h,Fe(t,p)),$d(p)===".priority"&&!hI(h))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(p)}),fI(o,a)},ry=function(r,e,t,s){if(!ty(t))throw new Error(ha(r,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mI=function(r,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ry(r,e,t)},ph=function(r,e){if(ae(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},gI=function(r,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!dI(t))throw new Error(ha(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xa(r,e){let t=null;for(let s=0;s<e.length;s++){const o=e[s],a=o.getPath();t!==null&&!Gd(a,t.path)&&(r.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(o)}t&&r.eventLists_.push(t)}function iy(r,e,t){xa(r,t),sy(r,s=>Gd(s,e))}function Mt(r,e,t){xa(r,t),sy(r,s=>Dt(s,e)||Dt(e,s))}function sy(r,e){r.recursionDepth_++;let t=!0;for(let s=0;s<r.eventLists_.length;s++){const o=r.eventLists_[s];if(o){const a=o.path;e(a)?(vI(r.eventLists_[s]),r.eventLists_[s]=null):t=!1}}t&&(r.eventLists_=[]),r.recursionDepth_--}function vI(r){for(let e=0;e<r.events.length;e++){const t=r.events[e];if(t!==null){r.events[e]=null;const s=t.getEventRunner();Ls&&et("event: "+t.toString()),Li(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="repo_interrupt",wI=25;class EI{constructor(e,t,s,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _I,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ea(),this.transactionQueueTree_=new dh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CI(r,e,t){if(r.stats_=Hd(r.repoInfo_),r.forceRestClient_||Z1())r.server_=new Zl(r.repoInfo_,(s,o,a,c)=>{zg(r,s,o,a,c)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Bg(r,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new Sn(r.repoInfo_,e,(s,o,a,c)=>{zg(r,s,o,a,c)},s=>{Bg(r,s)},s=>{SI(r,s)},r.authTokenProvider_,r.appCheckProvider_,t),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=ix(r.repoInfo_,()=>new rk(r.stats_,r.server_)),r.infoData_=new Xx,r.infoSyncTree_=new Fg({startListening:(s,o,a,c)=>{let h=[];const p=r.infoData_.getNode(s._path);return p.isEmpty()||(h=uo(r.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),mh(r,"connected",!1),r.serverSyncTree_=new Fg({startListening:(s,o,a,c)=>(r.server_.listen(s,a,o,(h,p)=>{const m=c(h,p);Mt(r.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{r.server_.unlisten(s,o)}})}function oy(r){const t=r.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function ka(r){return rI({timestamp:oy(r)})}function zg(r,e,t,s,o){r.dataUpdateCount++;const a=new xe(e);t=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,t):t;let c=[];if(o)if(s){const p=Wl(t,m=>$e(m));c=Jk(r.serverSyncTree_,a,p,o)}else{const p=$e(t);c=Gv(r.serverSyncTree_,a,p,o)}else if(s){const p=Wl(t,m=>$e(m));c=qk(r.serverSyncTree_,a,p)}else{const p=$e(t);c=uo(r.serverSyncTree_,a,p)}let h=a;c.length>0&&(h=Ni(r,a)),Mt(r.eventQueue_,h,c)}function Bg(r,e){mh(r,"connected",e),e===!1&&TI(r)}function SI(r,e){tt(e,(t,s)=>{mh(r,t,s)})}function mh(r,e,t){const s=new xe("/.info/"+e),o=$e(t);r.infoData_.updateSnapshot(s,o);const a=uo(r.infoSyncTree_,s,o);Mt(r.eventQueue_,s,a)}function gh(r){return r.nextWriteId_++}function xI(r,e,t){const s=Xk(r.serverSyncTree_,e);return s!=null?Promise.resolve(s):r.server_.get(e).then(o=>{const a=$e(o).withIndex(e._queryParams.getIndex());pd(r.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=uo(r.serverSyncTree_,e._path,a);else{const h=Qs(r.serverSyncTree_,e);c=Gv(r.serverSyncTree_,e._path,a,h)}return Mt(r.eventQueue_,e._path,c),aa(r.serverSyncTree_,e,t,null,!0),a},o=>(ho(r,"get for query "+Ge(e)+" failed: "+o),Promise.reject(new Error(o))))}function kI(r,e,t,s,o){ho(r,"set",{path:e.toString(),value:t,priority:s});const a=ka(r),c=$e(t,s),h=ih(r.serverSyncTree_,e),p=Jv(c,h,a),m=gh(r),v=$v(r.serverSyncTree_,e,p,m,!0);xa(r.eventQueue_,v),r.server_.put(e.toString(),c.val(!0),(E,R)=>{const O=E==="ok";O||ht("set at "+e+" failed: "+E);const b=tr(r.serverSyncTree_,m,!O);Mt(r.eventQueue_,e,b),gd(r,o,E,R)});const y=vh(r,e);Ni(r,y),Mt(r.eventQueue_,y,[])}function II(r,e,t,s){ho(r,"update",{path:e.toString(),value:t});let o=!0;const a=ka(r),c={};if(tt(t,(h,p)=>{o=!1,c[h]=Qv(Fe(e,h),$e(p),r.serverSyncTree_,a)}),o)et("update() called with empty data.  Don't do anything."),gd(r,s,"ok",void 0);else{const h=gh(r),p=Kk(r.serverSyncTree_,e,c,h);xa(r.eventQueue_,p),r.server_.merge(e.toString(),t,(m,v)=>{const y=m==="ok";y||ht("update at "+e+" failed: "+m);const E=tr(r.serverSyncTree_,h,!y),R=E.length>0?Ni(r,e):e;Mt(r.eventQueue_,R,E),gd(r,s,m,v)}),tt(t,m=>{const v=vh(r,Fe(e,m));Ni(r,v)}),Mt(r.eventQueue_,e,[])}}function TI(r){ho(r,"onDisconnectEvents");const e=ka(r),t=ea();ad(r.onDisconnect_,ve(),(o,a)=>{const c=Qv(o,a,r.serverSyncTree_,e);Pv(t,o,c)});let s=[];ad(t,ve(),(o,a)=>{s=s.concat(uo(r.serverSyncTree_,o,a));const c=vh(r,o);Ni(r,c)}),r.onDisconnect_=ea(),Mt(r.eventQueue_,ve(),s)}function NI(r,e,t){let s;ae(e._path)===".info"?s=pd(r.infoSyncTree_,e,t):s=pd(r.serverSyncTree_,e,t),iy(r.eventQueue_,e._path,s)}function RI(r,e,t){let s;ae(e._path)===".info"?s=aa(r.infoSyncTree_,e,t):s=aa(r.serverSyncTree_,e,t),iy(r.eventQueue_,e._path,s)}function PI(r){r.persistentConnection_&&r.persistentConnection_.interrupt(yI)}function ho(r,...e){let t="";r.persistentConnection_&&(t=r.persistentConnection_.id+":"),et(t,...e)}function gd(r,e,t,s){e&&Li(()=>{if(t==="ok")e(null);else{const o=(t||"error").toUpperCase();let a=o;s&&(a+=": "+s);const c=new Error(a);c.code=o,e(c)}})}function ly(r,e,t){return ih(r.serverSyncTree_,e,t)||ne.EMPTY_NODE}function _h(r,e=r.transactionQueueTree_){if(e||Ia(r,e),Mi(e)){const t=uy(r,e);U(t.length>0,"Sending zero length transaction queue"),t.every(o=>o.status===0)&&bI(r,co(e),t)}else Zv(e)&&Ca(e,t=>{_h(r,t)})}function bI(r,e,t){const s=t.map(m=>m.currentWriteId),o=ly(r,e,s);let a=o;const c=o.hash();for(let m=0;m<t.length;m++){const v=t[m];U(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=ct(e,v.path);a=a.updateChild(y,v.currentOutputSnapshotRaw)}const h=a.val(!0),p=e;r.server_.put(p.toString(),h,m=>{ho(r,"transaction put response",{path:p.toString(),status:m});let v=[];if(m==="ok"){const y=[];for(let E=0;E<t.length;E++)t[E].status=2,v=v.concat(tr(r.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&y.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();Ia(r,hh(r.transactionQueueTree_,e)),_h(r,r.transactionQueueTree_),Mt(r.eventQueue_,e,v);for(let E=0;E<y.length;E++)Li(y[E])}else{if(m==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{ht("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=m}Ni(r,e)}},c)}function Ni(r,e){const t=ay(r,e),s=co(t),o=uy(r,t);return OI(r,o,s),s}function OI(r,e,t){if(e.length===0)return;const s=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=ct(t,p.path);let v=!1,y;if(U(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,y=p.abortReason,o=o.concat(tr(r.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=wI)v=!0,y="maxretry",o=o.concat(tr(r.serverSyncTree_,p.currentWriteId,!0));else{const E=ly(r,p.path,c);p.currentInputSnapshot=E;const R=e[h].update(E.val());if(R!==void 0){Sa("transaction failed: Data returned ",R,p.path);let O=$e(R);typeof R=="object"&&R!=null&&an(R,".priority")||(O=O.updatePriority(E.getPriority()));const A=p.currentWriteId,z=ka(r),$=Jv(O,E,z);p.currentOutputSnapshotRaw=O,p.currentOutputSnapshotResolved=$,p.currentWriteId=gh(r),c.splice(c.indexOf(A),1),o=o.concat($v(r.serverSyncTree_,p.path,$,p.currentWriteId,p.applyLocally)),o=o.concat(tr(r.serverSyncTree_,A,!0))}else v=!0,y="nodata",o=o.concat(tr(r.serverSyncTree_,p.currentWriteId,!0))}Mt(r.eventQueue_,t,o),o=[],v&&(e[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}Ia(r,r.transactionQueueTree_);for(let h=0;h<s.length;h++)Li(s[h]);_h(r,r.transactionQueueTree_)}function ay(r,e){let t,s=r.transactionQueueTree_;for(t=ae(e);t!==null&&Mi(s)===void 0;)s=hh(s,t),e=Ne(e),t=ae(e);return s}function uy(r,e){const t=[];return cy(r,e,t),t.sort((s,o)=>s.order-o.order),t}function cy(r,e,t){const s=Mi(e);if(s)for(let o=0;o<s.length;o++)t.push(s[o]);Ca(e,o=>{cy(r,o,t)})}function Ia(r,e){const t=Mi(e);if(t){let s=0;for(let o=0;o<t.length;o++)t[o].status!==2&&(t[s]=t[o],s++);t.length=s,Xv(e,t.length>0?t:void 0)}Ca(e,s=>{Ia(r,s)})}function vh(r,e){const t=co(ay(r,e)),s=hh(r.transactionQueueTree_,e);return lI(s,o=>{Hc(r,o)}),Hc(r,s),ey(s,o=>{Hc(r,o)}),t}function Hc(r,e){const t=Mi(e);if(t){const s=[];let o=[],a=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(U(a===c-1,"All SENT items should be at beginning of queue."),a=c,t[c].status=3,t[c].abortReason="set"):(U(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),o=o.concat(tr(r.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&s.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Xv(e,void 0):t.length=a+1,Mt(r.eventQueue_,co(e),o);for(let c=0;c<s.length;c++)Li(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r){let e="";const t=r.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let o=t[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function LI(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const t of r.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ht(`Invalid query segment '${t}' in query '${r}'`)}return e}const Wg=function(r,e){const t=DI(r),s=t.namespace;t.domain==="firebase.com"&&Tn(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||V1();const o=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new fv(t.host,t.secure,s,o,e,"",s!==t.subdomain),path:new xe(t.pathString)}},DI=function(r){let e="",t="",s="",o="",a="",c=!0,h="https",p=443;if(typeof r=="string"){let m=r.indexOf("//");m>=0&&(h=r.substring(0,m-1),r=r.substring(m+2));let v=r.indexOf("/");v===-1&&(v=r.length);let y=r.indexOf("?");y===-1&&(y=r.length),e=r.substring(0,Math.min(v,y)),v<y&&(o=AI(r.substring(v,y)));const E=LI(r.substring(Math.min(r.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")t="localhost";else if(R.split(".").length<=2)t=R;else{const O=e.indexOf(".");s=e.substring(0,O).toLowerCase(),t=e.substring(O+1),a=s}"ns"in E&&(a=E.ns)}return{host:e,port:p,domain:t,subdomain:s,secure:c,scheme:h,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MI=(function(){let r=0;const e=[];return function(t){const s=t===r;r=t;let o;const a=new Array(8);for(o=7;o>=0;o--)a[o]=Hg.charAt(t%64),t=Math.floor(t/64);U(t===0,"Cannot push at time == 0");let c=a.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=Hg.charAt(e[o]);return U(c.length===20,"nextPushId: Length should be 20."),c}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t,s,o){this.eventType=e,this.eventRegistration=t,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ge(this.snapshot.exportVal())}}class FI{constructor(e,t,s){this.eventRegistration=e,this.error=t,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,s,o){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=o}get key(){return de(this._path)?null:$d(this._path)}get ref(){return new Rn(this._repo,this._path)}get _queryIdentifier(){const e=Ng(this._queryParams),t=Bd(e);return t==="{}"?"default":t}get _queryObject(){return Ng(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof yh))return!1;const t=this._repo===e._repo,s=Gd(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Tx(this._path)}}class Rn extends yh{constructor(e,t){super(e,t,new Qd,!1)}get parent(){const e=Cv(this._path);return e===null?null:new Rn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Js{constructor(e,t,s){this._node=e,this.ref=t,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new xe(e),s=Xs(this.ref,e);return new Js(this._node.getChild(t),s,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Js(o,Xs(this.ref,s),Ue)))}hasChild(e){const t=new xe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nt(r,e){return r=ot(r),r._checkNotDeleted("ref"),e!==void 0?Xs(r._root,e):r._root}function Xs(r,e){return r=ot(r),ae(r._path)===null?mI("child","path",e):ry("child","path",e),new Rn(r._repo,Fe(r._path,e))}function Vc(r,e){r=ot(r),ph("push",r._path),ny("push",e,r._path,!0);const t=oy(r._repo),s=MI(t),o=Xs(r,s),a=Xs(r,s);let c;return c=Promise.resolve(a),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function $c(r){return ph("remove",r._path),hy(r,null)}function hy(r,e){r=ot(r),ph("set",r._path),ny("set",e,r._path,!1);const t=new eo;return kI(r._repo,r._path,e,null,t.wrapCallback(()=>{})),t.promise}function Ns(r,e){pI("update",e,r._path);const t=new eo;return II(r._repo,r._path,e,t.wrapCallback(()=>{})),t.promise}function UI(r){r=ot(r);const e=new dy(()=>{}),t=new Ta(e);return xI(r._repo,r,t).then(s=>new Js(s,new Rn(r._repo,r._path),r._queryParams.getIndex()))}class Ta{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const s=t._queryParams.getIndex();return new jI("value",this,new Js(e.snapshotNode,new Rn(t._repo,t._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new FI(this,e,t):null}matches(e){return e instanceof Ta?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zI(r,e,t,s,o){const a=new dy(t,void 0),c=new Ta(a);return NI(r._repo,r,c),()=>RI(r._repo,r,c)}function wh(r,e,t,s){return zI(r,"value",e)}Uk(Rn);Vk(Rn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FIREBASE_DATABASE_EMULATOR_HOST",_d={};let WI=!1;function HI(r,e,t,s){r.repoInfo_=new fv(`${e}:${t}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),s&&(r.authTokenProvider_=s)}function VI(r,e,t,s,o){let a=s||r.options.databaseURL;a===void 0&&(r.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",r.options.projectId),a=`${r.options.projectId}-default-rtdb.firebaseio.com`);let c=Wg(a,o),h=c.repoInfo,p;typeof process<"u"&&cg&&(p=cg[BI]),p?(a=`http://${p}?ns=${h.namespace}`,c=Wg(a,o),h=c.repoInfo):c.repoInfo.secure;const m=new tx(r.name,r.options,e);gI("Invalid Firebase Database URL",c),de(c.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=GI(h,r,m,new ex(r.name,t));return new KI(v,r)}function $I(r,e){const t=_d[e];(!t||t[r.key]!==r)&&Tn(`Database ${e}(${r.repoInfo_}) has already been deleted.`),PI(r),delete t[r.key]}function GI(r,e,t,s){let o=_d[e.name];o||(o={},_d[e.name]=o);let a=o[r.toURLString()];return a&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new EI(r,WI,t,s),o[r.toURLString()]=a,a}class KI{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&($I(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function qI(r=m_(),e){const t=Pd(r,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=Jw("database");s&&YI(t,...s)}return t}function YI(r,e,t,s={}){r=ot(r),r._checkNotDeleted("useEmulator"),r._instanceStarted&&Tn("Cannot call useEmulator() after instance has already been initialized.");const o=r._repoInternal;let a;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new jl(jl.OWNER);else if(s.mockUserToken){const c=typeof s.mockUserToken=="string"?s.mockUserToken:Xw(s.mockUserToken,r.app.options.projectId);a=new jl(c)}HI(o,e,t,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){F1(Oi),Si(new br("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return VI(s,o,a,t)},"PUBLIC").setMultipleInstances(!0)),ir(dg,hg,r),ir(dg,hg,"esm2017")}Sn.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};Sn.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};QI();const JI={apiKey:"AIzaSyAUoO1zL1GWtsIEXEghL76IBa-modHcEGc",authDomain:"riifucord-ref-lib.firebaseapp.com",databaseUrl:"https://riifucord-ref-lib-default-rtdb.firebaseio.com",projectId:"riifucord-ref-lib",storageBucket:"riifucord-ref-lib.firebasestorage.app",messagingSenderId:"500028120741",appId:"1:500028120741:web:599c87da46a32f4fe2b74c",measurementId:"G-DJQDVLZ566"},fy=p_(JI),ut=qI(fy),Pl=L1(fy),py=T.createContext({currentUser:null,signup:()=>Promise.reject(),login:()=>Promise.reject(),logout:()=>Promise.reject()}),Eh=()=>{const r=T.useContext(py);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},XI=({children:r})=>{const[e,t]=T.useState(null);T.useEffect(()=>{const c=CS(Pl,h=>{t(h)});return()=>c()},[]);const s=(c,h)=>vS(Pl,c,h),o=(c,h)=>yS(Pl,c,h),a=()=>SS(Pl);return _.jsx(py.Provider,{value:{currentUser:e,signup:s,login:o,logout:a},children:r})};/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vg="popstate";function ZI(r={}){function e(o,a){let{pathname:c="/",search:h="",hash:p=""}=zr(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),vd("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof a=="string"?a:Zs(a))}function s(o,a){Yt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return tT(e,t,s,r)}function De(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eT(){return Math.random().toString(36).substring(2,10)}function $g(r,e){return{usr:r.state,key:r.key,idx:e}}function vd(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zr(e):e,state:t,key:e&&e.key||s||eT()}}function Zs({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function zr(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function tT(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,h="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){h="POP";let A=v(),z=A==null?null:A-m;m=A,p&&p({action:h,location:b.location,delta:z})}function E(A,z){h="PUSH";let $=vd(b.location,A,z);t&&t($,A),m=v()+1;let B=$g($,m),ie=b.createHref($);try{c.pushState(B,"",ie)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ie)}a&&p&&p({action:h,location:b.location,delta:1})}function R(A,z){h="REPLACE";let $=vd(b.location,A,z);t&&t($,A),m=v();let B=$g($,m),ie=b.createHref($);c.replaceState(B,"",ie),a&&p&&p({action:h,location:b.location,delta:0})}function O(A){return nT(A)}let b={get action(){return h},get location(){return r(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vg,y),p=A,()=>{o.removeEventListener(Vg,y),p=null}},createHref(A){return e(o,A)},createURL:O,encodeLocation(A){let z=O(A);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:R,go(A){return c.go(A)}};return b}function nT(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),De(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Zs(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function my(r,e,t="/"){return rT(r,e,t,!1)}function rT(r,e,t,s){let o=typeof e=="string"?zr(e):e,a=Nn(o.pathname||"/",t);if(a==null)return null;let c=gy(r);iT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=mT(a);h=fT(c[p],m,s)}return h}function gy(r,e=[],t=[],s="",o=!1){let a=(c,h,p=o,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;De(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let y=xn([s,v.relativePath]),E=t.concat(v);c.children&&c.children.length>0&&(De(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gy(c.children,e,E,y,p)),!(c.path==null&&!c.index)&&e.push({path:y,score:dT(y,c.index),routesMeta:E})};return r.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))a(c,h);else for(let m of _y(c.path))a(c,h,!0,m)}),e}function _y(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=_y(s.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function iT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:hT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var sT=/^:[\w-]+$/,oT=3,lT=2,aT=1,uT=10,cT=-2,Gg=r=>r==="*";function dT(r,e){let t=r.split("/"),s=t.length;return t.some(Gg)&&(s+=cT),e&&(s+=lT),t.filter(o=>!Gg(o)).reduce((o,a)=>o+(sT.test(a)?oT:a===""?aT:uT),s)}function hT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function fT(r,e,t=!1){let{routesMeta:s}=r,o={},a="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=ua({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!y&&m&&t&&!s[s.length-1].route.index&&(y=ua({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:xn([a,y.pathname]),pathnameBase:yT(xn([a,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(a=xn([a,y.pathnameBase]))}return c}function ua(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=pT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:y},E)=>{if(v==="*"){let O=h[E]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const R=h[E];return y&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:r}}function pT(r,e=!1,t=!0){Yt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Nn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function gT(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?zr(r):r;return{pathname:t?t.startsWith("/")?t:_T(t,e):e,search:wT(s),hash:ET(o)}}function _T(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gc(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vy(r){let e=vT(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function yy(r,e,t,s=!1){let o;typeof r=="string"?o=zr(r):(o={...r},De(!o.pathname||!o.pathname.includes("?"),Gc("?","pathname","search",o)),De(!o.pathname||!o.pathname.includes("#"),Gc("#","pathname","hash",o)),De(!o.search||!o.search.includes("#"),Gc("#","search","hash",o)));let a=r===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let y=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),y-=1;o.pathname=E.join("/")}h=y>=0?e[y]:"/"}let p=gT(o,h),m=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var xn=r=>r.join("/").replace(/\/\/+/g,"/"),yT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ET=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function CT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wy=["POST","PUT","PATCH","DELETE"];new Set(wy);var ST=["GET",...wy];new Set(ST);var ji=T.createContext(null);ji.displayName="DataRouter";var Na=T.createContext(null);Na.displayName="DataRouterState";T.createContext(!1);var Ey=T.createContext({isTransitioning:!1});Ey.displayName="ViewTransition";var xT=T.createContext(new Map);xT.displayName="Fetchers";var kT=T.createContext(null);kT.displayName="Await";var un=T.createContext(null);un.displayName="Navigation";var fo=T.createContext(null);fo.displayName="Location";var Pn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Ch=T.createContext(null);Ch.displayName="RouteError";function IT(r,{relative:e}={}){De(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=T.useContext(un),{hash:o,pathname:a,search:c}=mo(r,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:xn([t,a])),s.createHref({pathname:h,search:c,hash:o})}function po(){return T.useContext(fo)!=null}function fr(){return De(po(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(fo).location}var Cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sy(r){T.useContext(un).static||T.useLayoutEffect(r)}function Sh(){let{isDataRoute:r}=T.useContext(Pn);return r?UT():TT()}function TT(){De(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(ji),{basename:e,navigator:t}=T.useContext(un),{matches:s}=T.useContext(Pn),{pathname:o}=fr(),a=JSON.stringify(vy(s)),c=T.useRef(!1);return Sy(()=>{c.current=!0}),T.useCallback((p,m={})=>{if(Yt(c.current,Cy),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=yy(p,JSON.parse(a),o,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xn([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,r])}T.createContext(null);function mo(r,{relative:e}={}){let{matches:t}=T.useContext(Pn),{pathname:s}=fr(),o=JSON.stringify(vy(t));return T.useMemo(()=>yy(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function NT(r,e){return xy(r,e)}function xy(r,e,t,s,o){var $;De(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(un),{matches:c}=T.useContext(Pn),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",y=h&&h.route;{let B=y&&y.path||"";ky(m,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=fr(),R;if(e){let B=typeof e=="string"?zr(e):e;De(v==="/"||(($=B.pathname)==null?void 0:$.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=E;let O=R.pathname||"/",b=O;if(v!=="/"){let B=v.replace(/^\//,"").split("/");b="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=my(r,{pathname:b});Yt(y||A!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Yt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=AT(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:xn([v,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:xn([v,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,t,s,o);return e&&z?T.createElement(fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},z):z}function RT(){let r=FT(),e=CT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,c)}var PT=T.createElement(RT,null),bT=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?T.createElement(Pn.Provider,{value:this.props.routeContext},T.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OT({routeContext:r,match:e,children:t}){let s=T.useContext(ji);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Pn.Provider,{value:r},t)}function AT(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,c=t==null?void 0:t.errors;if(c!=null){let m=a.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);De(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,p=-1;if(t)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:y,errors:E}=t,R=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||R){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((m,v,y)=>{let E,R=!1,O=null,b=null;t&&(E=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||PT,h&&(p<0&&y===0?(ky("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,b=null):p===y&&(R=!0,b=v.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,y+1)),z=()=>{let $;return E?$=O:R?$=b:v.route.Component?$=T.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=m,T.createElement(OT,{match:v,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:$})};return t&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?T.createElement(bT,{location:t.location,revalidation:t.revalidation,component:O,error:E,children:z(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:s}):z()},null)}function xh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(r){let e=T.useContext(ji);return De(e,xh(r)),e}function DT(r){let e=T.useContext(Na);return De(e,xh(r)),e}function MT(r){let e=T.useContext(Pn);return De(e,xh(r)),e}function kh(r){let e=MT(r),t=e.matches[e.matches.length-1];return De(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function jT(){return kh("useRouteId")}function FT(){var s;let r=T.useContext(Ch),e=DT("useRouteError"),t=kh("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function UT(){let{router:r}=LT("useNavigate"),e=kh("useNavigate"),t=T.useRef(!1);return Sy(()=>{t.current=!0}),T.useCallback(async(o,a={})=>{Yt(t.current,Cy),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...a}))},[r,e])}var Kg={};function ky(r,e,t){!e&&!Kg[r]&&(Kg[r]=!0,Yt(!1,t))}T.memo(zT);function zT({routes:r,future:e,state:t,unstable_onError:s}){return xy(r,void 0,t,s,e)}function yd(r){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BT({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:a=!1}){De(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=zr(t));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:E="default"}=t,R=T.useMemo(()=>{let O=Nn(p,c);return O==null?null:{location:{pathname:O,search:m,hash:v,state:y,key:E},navigationType:s}},[c,p,m,v,y,E,s]);return Yt(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:T.createElement(un.Provider,{value:h},T.createElement(fo.Provider,{children:e,value:R}))}function WT({children:r,location:e}){return NT(wd(r),e)}function wd(r,e=[]){let t=[];return T.Children.forEach(r,(s,o)=>{if(!T.isValidElement(s))return;let a=[...e,o];if(s.type===T.Fragment){t.push.apply(t,wd(s.props.children,a));return}De(s.type===yd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=wd(s.props.children,a)),t.push(c)}),t}var Fl="get",Ul="application/x-www-form-urlencoded";function Ra(r){return r!=null&&typeof r.tagName=="string"}function HT(r){return Ra(r)&&r.tagName.toLowerCase()==="button"}function VT(r){return Ra(r)&&r.tagName.toLowerCase()==="form"}function $T(r){return Ra(r)&&r.tagName.toLowerCase()==="input"}function GT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function KT(r,e){return r.button===0&&(!e||e==="_self")&&!GT(r)}var bl=null;function qT(){if(bl===null)try{new FormData(document.createElement("form"),0),bl=!1}catch{bl=!0}return bl}var YT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kc(r){return r!=null&&!YT.has(r)?(Yt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ul}"`),null):r}function QT(r,e){let t,s,o,a,c;if(VT(r)){let h=r.getAttribute("action");s=h?Nn(h,e):null,t=r.getAttribute("method")||Fl,o=Kc(r.getAttribute("enctype"))||Ul,a=new FormData(r)}else if(HT(r)||$T(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(s=p?Nn(p,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Fl,o=Kc(r.getAttribute("formenctype"))||Kc(h.getAttribute("enctype"))||Ul,a=new FormData(h,r),!qT()){let{name:m,type:v,value:y}=r;if(v==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,y)}}else{if(Ra(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fl,s=null,o=Ul,c=r}return a&&o==="text/plain"&&(c=a,a=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ih(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function JT(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Nn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function XT(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eN(r,e,t){let s=await Promise.all(r.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await XT(a,t);return c.links?c.links():[]}return[]}));return iN(s.flat(1).filter(ZT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qg(r,e,t,s,o,a){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,h=(p,m)=>{var v;return t[m].pathname!==p.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):a==="data"?e.filter((p,m)=>{var y;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function tN(r,e,{includeHydrateFallback:t}={}){return nN(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function nN(r){return[...new Set(r)]}function rN(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function iN(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let a=JSON.stringify(rN(o));return t.has(a)||(t.add(a),s.push({key:a,link:o})),s},[])}function Iy(){let r=T.useContext(ji);return Ih(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function sN(){let r=T.useContext(Na);return Ih(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Th=T.createContext(void 0);Th.displayName="FrameworkContext";function Ty(){let r=T.useContext(Th);return Ih(r,"You must render this element inside a <HydratedRouter> element"),r}function oN(r,e){let t=T.useContext(Th),[s,o]=T.useState(!1),[a,c]=T.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,E=T.useRef(null);T.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let b=z=>{z.forEach($=>{c($.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[r]),T.useEffect(()=>{if(s){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[s]);let R=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?r!=="intent"?[a,E,{}]:[a,E,{onFocus:Rs(h,R),onBlur:Rs(p,O),onMouseEnter:Rs(m,R),onMouseLeave:Rs(v,O),onTouchStart:Rs(y,R)}]:[!1,E,{}]}function Rs(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function lN({page:r,...e}){let{router:t}=Iy(),s=T.useMemo(()=>my(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?T.createElement(uN,{page:r,matches:s,...e}):null}function aN(r){let{manifest:e,routeModules:t}=Ty(),[s,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return eN(r,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[r,e,t]),s}function uN({page:r,matches:e,...t}){let s=fr(),{manifest:o,routeModules:a}=Ty(),{basename:c}=Iy(),{loaderData:h,matches:p}=sN(),m=T.useMemo(()=>qg(r,e,p,o,s,"data"),[r,e,p,o,s]),v=T.useMemo(()=>qg(r,e,p,o,s,"assets"),[r,e,p,o,s]),y=T.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,b=!1;if(e.forEach(z=>{var B;let $=o.routes[z.route.id];!$||!$.hasLoader||(!m.some(ie=>ie.route.id===z.route.id)&&z.route.id in h&&((B=a[z.route.id])!=null&&B.shouldRevalidate)||$.hasClientLoader?b=!0:O.add(z.route.id))}),O.size===0)return[];let A=JT(r,c,"data");return b&&O.size>0&&A.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[A.pathname+A.search]},[c,h,s,o,m,e,r,a]),E=T.useMemo(()=>tN(v,o),[v,o]),R=aN(v);return T.createElement(T.Fragment,null,y.map(O=>T.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),E.map(O=>T.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),R.map(({key:O,link:b})=>T.createElement("link",{key:O,nonce:t.nonce,...b})))}function cN(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ny&&(window.__reactRouterVersion="7.9.1")}catch{}function dN({basename:r,children:e,window:t}){let s=T.useRef();s.current==null&&(s.current=ZI({window:t,v5Compat:!0}));let o=s.current,[a,c]=T.useState({action:o.action,location:o.location}),h=T.useCallback(p=>{T.startTransition(()=>c(p))},[c]);return T.useLayoutEffect(()=>o.listen(h),[o,h]),T.createElement(BT,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:o})}var Ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nh=T.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:m,preventScrollReset:v,viewTransition:y,...E},R){let{basename:O}=T.useContext(un),b=typeof m=="string"&&Ry.test(m),A,z=!1;if(typeof m=="string"&&b&&(A=m,Ny))try{let X=new URL(window.location.href),pe=m.startsWith("//")?new URL(X.protocol+m):new URL(m),Qt=Nn(pe.pathname,O);pe.origin===X.origin&&Qt!=null?m=Qt+pe.search+pe.hash:z=!0}catch{Yt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=IT(m,{relative:o}),[B,ie,he]=oN(s,E),P=mN(m,{replace:c,state:h,target:p,preventScrollReset:v,relative:o,viewTransition:y});function J(X){e&&e(X),X.defaultPrevented||P(X)}let H=T.createElement("a",{...E,...he,href:A||$,onClick:z||a?e:J,ref:cN(R,ie),target:p,"data-discover":!b&&t==="render"?"true":void 0});return B&&!b?T.createElement(T.Fragment,null,H,T.createElement(lN,{page:$})):H});Nh.displayName="Link";var hN=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...m},v){let y=mo(c,{relative:m.relative}),E=fr(),R=T.useContext(Na),{navigator:O,basename:b}=T.useContext(un),A=R!=null&&wN(y)&&h===!0,z=O.encodeLocation?O.encodeLocation(y).pathname:y.pathname,$=E.pathname,B=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||($=$.toLowerCase(),B=B?B.toLowerCase():null,z=z.toLowerCase()),B&&b&&(B=Nn(B,b)||B);const ie=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let he=$===z||!o&&$.startsWith(z)&&$.charAt(ie)==="/",P=B!=null&&(B===z||!o&&B.startsWith(z)&&B.charAt(z.length)==="/"),J={isActive:he,isPending:P,isTransitioning:A},H=he?e:void 0,X;typeof s=="function"?X=s(J):X=[s,he?"active":null,P?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let pe=typeof a=="function"?a(J):a;return T.createElement(Nh,{...m,"aria-current":H,className:X,ref:v,style:pe,to:c,viewTransition:h},typeof p=="function"?p(J):p)});hN.displayName="NavLink";var fN=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:a,method:c=Fl,action:h,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:y,...E},R)=>{let O=vN(),b=yN(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&Ry.test(h),$=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let ie=B.nativeEvent.submitter,he=(ie==null?void 0:ie.getAttribute("formmethod"))||c;O(ie||B.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:y})};return T.createElement("form",{ref:R,method:A,action:b,onSubmit:s?p:$,...E,"data-discover":!z&&r==="render"?"true":void 0})});fN.displayName="Form";function pN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Py(r){let e=T.useContext(ji);return De(e,pN(r)),e}function mN(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=Sh(),p=fr(),m=mo(r,{relative:a});return T.useCallback(v=>{if(KT(v,e)){v.preventDefault();let y=t!==void 0?t:Zs(p)===Zs(m);h(r,{replace:y,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,m,t,s,e,r,o,a,c])}var gN=0,_N=()=>`__${String(++gN)}__`;function vN(){let{router:r}=Py("useSubmit"),{basename:e}=T.useContext(un),t=jT();return T.useCallback(async(s,o={})=>{let{action:a,method:c,encType:h,formData:p,body:m}=QT(s,e);if(o.navigate===!1){let v=o.fetcherKey||_N();await r.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await r.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function yN(r,{relative:e}={}){let{basename:t}=T.useContext(un),s=T.useContext(Pn);De(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...mo(r||".",{relative:e})},c=fr();if(r==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();a.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:xn([t,a.pathname])),Zs(a)}function wN(r,{relative:e}={}){let t=T.useContext(Ey);De(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Py("useViewTransitionState"),o=mo(r,{relative:e});if(!t.isTransitioning)return!1;let a=Nn(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Nn(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ua(o.pathname,c)!=null||ua(o.pathname,a)!=null}const EN=()=>{const{pathname:r}=fr();return T.useEffect(()=>{window.scrollTo(0,0)},[r]),null},CN="rgba(204, 204, 204, 1)",SN="rgba(150, 150, 150, 1)",xN="rgba(40, 40, 40, 0.6)",kN="rgba(20, 20, 20, 0.8)",IN="rgba(0, 128, 128, 1)",TN="#181818",ye={primary:CN,secondary:SN,bg:xN,surface:kN,highlight:IN,bbg:TN};function NN(r){return _.jsx(XI,{children:_.jsxs("div",{className:"flex flex-col",style:{backgroundColor:ye.bbg,color:ye.primary},children:[_.jsx(EN,{}),r.children]})})}const Rr="/riifucord-ref-lib-v2/assets/pfp-Di9dVKuR.png",RN="/riifucord-ref-lib-v2/assets/logo-DpFluXD3.gif";var by={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yg=Ce.createContext&&Ce.createContext(by),PN=["attr","size","title"];function bN(r,e){if(r==null)return{};var t=ON(r,e),s,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)s=a[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function ON(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function ca(){return ca=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},ca.apply(this,arguments)}function Qg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function da(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(t),!0).forEach(function(s){AN(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Qg(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function AN(r,e,t){return e=LN(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LN(r){var e=DN(r,"string");return typeof e=="symbol"?e:e+""}function DN(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Oy(r){return r&&r.map((e,t)=>Ce.createElement(e.tag,da({key:t},e.attr),Oy(e.child)))}function Br(r){return e=>Ce.createElement(MN,ca({attr:da({},r.attr)},e),Oy(r.child))}function MN(r){var e=t=>{var{attr:s,size:o,title:a}=r,c=bN(r,PN),h=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Ce.createElement("svg",ca({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:p,style:da(da({color:r.color||t.color},t.style),r.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ce.createElement("title",null,a),r.children)};return Yg!==void 0?Ce.createElement(Yg.Consumer,null,t=>e(t)):e(by)}function jN(r){return Br({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 0 1 520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 0 1 270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 0 1 0 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"},child:[]}]})(r)}function FN(r){return Br({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"},child:[]}]})(r)}const Ay=({bg:r=ye.bg,surface:e=ye.surface,primary:t=ye.primary,secondary:s=ye.secondary,highlight:o=ye.highlight})=>{const{currentUser:a,login:c,logout:h}=Eh(),p=Sh(),[m,v]=T.useState(!1),[y,E]=T.useState(""),[R,O]=T.useState(""),[b,A]=T.useState(""),[z,$]=T.useState(Rr);T.useEffect(()=>{if(!ut||!a){$(Rr);return}const P=Nt(ut,`profiles/${a.uid}`),J=wh(P,H=>{if(H.exists()){const X=H.val();X&&X.pfp?$(X.pfp):$(Rr)}else $(Rr)});return()=>J()},[ut,a,Rr]);const B=async()=>{try{await h()}catch(P){console.error("Failed to logout:",P)}},ie=()=>{v(!m),E(""),O("")},he=async P=>{P.preventDefault();try{await c(y.trim()+"@riifuRefLib.com",R),v(!1)}catch{A("Wrong username and/or password")}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed top-0 left-0 w-full z-50 shadow-md px-8 h-16",style:{backgroundColor:e,color:t},children:_.jsxs("div",{className:"container mx-auto flex justify-between items-center py-2",children:[_.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>p("//"),children:[_.jsx("img",{src:RN,alt:"Logo",className:"w-8 h-8 md:w-10 md:h-10 mr-4 rounded-full cursor-pointer"}),_.jsx("h1",{className:"text-xs sm:text-sm md:text-xl",children:"Riifucord Reference Library v2"})]}),_.jsx("div",{className:"flex items-center ml-8",children:a?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:z,className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover shrink-0"}),_.jsx("button",{className:"py-2 px-4",onClick:B,children:_.jsx(FN,{className:"text-lg",size:32})})]}):_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"py-2 pl-4",onClick:ie,children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("p",{children:"Login"}),_.jsx(jN,{className:"text-lg",size:32})]})}),m&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute w-screen h-screen left-0 top-0 bg-black/50",onClick:ie}),_.jsx("div",{className:"absolute right-4 ml-4 top-20 p-4 shadow-md border",style:{backgroundColor:e},children:_.jsxs("form",{onSubmit:he,children:[b&&_.jsx("p",{className:"mb-2",style:{color:o},children:b}),_.jsx("input",{type:"ID",placeholder:"ID",className:"border p-2 mb-2 w-full",style:{borderColor:s,color:t},value:y,onChange:P=>E(P.target.value)}),_.jsx("input",{type:"password",placeholder:"Password",className:"border p-2 mb-4 w-full",style:{borderColor:s,color:t},value:R,onChange:P=>O(P.target.value)}),_.jsx("button",{className:"text-white font-bold py-2 px-4",style:{backgroundColor:t,color:e},children:"Log In"})]})})]})]})})]})}),_.jsx("div",{className:"h-16"})]})},UN="/riifucord-ref-lib-v2/assets/kevin-CswPASe0.png",Ly=({surface:r=ye.surface,secondary:e=ye.secondary})=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"p-4 flex items-center justify-center w-screen absolute bottom-0",style:{backgroundColor:r,color:e},children:[_.jsx("img",{src:UN,alt:"Profile",className:"w-12 h-12 rounded-full my-4 mr-4 gap-1"}),_.jsx("div",{children:_.jsxs("p",{className:"text-xs",children:["This website was made by kevin.",_.jsx("br",{}),"Contact me if you want an account to edit your page or create your own page."]})})]}),_.jsx("div",{className:"h-28"})]}),zN="/riifucord-ref-lib-v2/assets/spin-BK7rPb4x.gif",BN="/riifucord-ref-lib-v2/assets/ded-J5B6XX_H.png",WN="/riifucord-ref-lib-v2/assets/ohufgh-DYk9oZxY.mp3",HN=()=>{const[r,e]=T.useState([]),[t,s]=T.useState(""),[o,a]=T.useState(r),[c,h]=T.useState(!1),p=T.useRef(new Audio(WN)),{currentUser:m}=Eh();return T.useEffect(()=>{const v=Nt(ut,"profiles"),y=wh(v,E=>{const R=E.val();if(R){const O=Object.entries(R).map(([b,A])=>({id:b,name:A.name,pfp:A.pfp||Rr}));e(O)}else e([])});return p.current.preload="auto",()=>y()},[]),T.useEffect(()=>{(()=>{if(!t){a(r);return}const y=t.toLowerCase(),E=r.filter(R=>`${R.name} `.toLowerCase().includes(y));a(E)})()},[t,r]),_.jsxs("div",{className:"relative h-min-full",style:{color:ye.primary},children:[_.jsx("div",{className:"fixed w-[100vw] h-[1000px] z-0",style:{backgroundImage:"url('https://raw.githubusercontent.com/Pyxidata/riifucord-ref-lib-v2/refs/heads/main/src/assets/menuBg.jpg')",backgroundColor:ye.bbg,backgroundSize:"cover",backgroundPosition:"top",backgroundAttachment:"fixed"}}),_.jsx(Ay,{bg:void 0,surface:void 0,primary:void 0,secondary:void 0,highlight:void 0}),_.jsx("div",{className:"relative container mx-auto flex justify-center items-center w-full h-full my-16 z-[10]",children:_.jsxs("div",{className:"shadow-md p-4 max-w-screen-md w-full",style:{backgroundColor:ye.bg},children:[_.jsx("div",{className:"px-4 py-4 gap-4 text-center",style:{backgroundColor:ye.surface},children:_.jsxs("div",{className:"mb-8 space-y-4 my-8 flex flex-col items-center",children:[_.jsx("img",{src:c?BN:zN,className:"w-48 h-48",onClick:()=>{h(!0),c||p.current.play()}}),_.jsx("h1",{className:"text-2xl md:text-4xl",children:"Riifucord Reference Library v2"}),_.jsx("p",{className:"text-sm md:text-lg",style:{color:ye.secondary},children:"Editable OC reference sheets, descriptions, and galleries for cafe art sheeps!"}),!m&&_.jsx("p",{className:"text-xs md:text-md",style:{color:ye.highlight},children:"Ask kevin if you want your own account to create and edit your OC page!"})]})}),_.jsx("div",{className:"mt-4 px-4 py-4",style:{backgroundColor:ye.surface},children:_.jsxs("div",{className:"overflow-y-auto",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Art Sheep List"}),_.jsx("div",{className:"mb-4",children:_.jsx("input",{type:"text",placeholder:"Filter by name...",className:"w-full border pl-3 py-2 focus:outline-none bg-transparent",style:{borderColor:ye.primary},value:t,onChange:v=>s(v.target.value)})}),_.jsx("hr",{style:{borderColor:ye.secondary}}),_.jsx("div",{className:"h-[400px] md:h-[900px] overflow-y-auto mx-4 mt-4",children:_.jsx("ul",{className:"space-y-4",children:o.sort((v,y)=>v.name.localeCompare(y.name)).map(v=>_.jsx("li",{children:_.jsx(Nh,{to:{pathname:"/ref",search:`?uid=${v.id}`},children:_.jsxs("div",{className:"flex items-center space-x-4 overflow-hidden",children:[_.jsx("img",{src:v.pfp,className:"w-12 h-12 rounded-full object-cover",alt:v.name}),_.jsx("p",{className:"line-clamp-1",children:v.name})]})})},v.id))})})]})})]})}),_.jsx(Ly,{secondary:void 0,surface:void 0})]})},VN="/riifucord-ref-lib-v2/assets/imageTipA-CvNXC_FJ.png",$N="/riifucord-ref-lib-v2/assets/imageTipB-BYMFN84o.png",GN="/riifucord-ref-lib-v2/assets/iamgeTipC-CuhQZ2NI.png";function KN(r){return Br({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"},child:[]}]})(r)}function qN(r){return Br({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(r)}function YN(r){return Br({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM5 5V19H19V5H5ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"},child:[]}]})(r)}function Ol(r){return Br({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(r)}function Jg(r){return Br({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"},child:[]}]})(r)}function Xg(r){const e=r.split(`
`);return _.jsx("p",{children:e.map((t,s)=>_.jsxs(Ce.Fragment,{children:[t,_.jsx("br",{})]},s))})}const QN=10,JN=100,XN=20,pi={max_links:QN,max_gallery:JN,max_oc:XN};function Pa(){return(Pa=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r}).apply(this,arguments)}function Dy(r,e){if(r==null)return{};var t,s,o={},a=Object.keys(r);for(s=0;s<a.length;s++)e.indexOf(t=a[s])>=0||(o[t]=r[t]);return o}function Ed(r){var e=T.useRef(r),t=T.useRef(function(s){e.current&&e.current(s)});return e.current=r,t.current}var Ri=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r<e?e:r},Us=function(r){return"touches"in r},Cd=function(r){return r&&r.ownerDocument.defaultView||self},Zg=function(r,e,t){var s=r.getBoundingClientRect(),o=Us(e)?(function(a,c){for(var h=0;h<a.length;h++)if(a[h].identifier===c)return a[h];return a[0]})(e.touches,t):e;return{left:Ri((o.pageX-(s.left+Cd(r).pageXOffset))/s.width),top:Ri((o.pageY-(s.top+Cd(r).pageYOffset))/s.height)}},e_=function(r){!Us(r)&&r.preventDefault()},Rh=Ce.memo(function(r){var e=r.onMove,t=r.onKey,s=Dy(r,["onMove","onKey"]),o=T.useRef(null),a=Ed(e),c=Ed(t),h=T.useRef(null),p=T.useRef(!1),m=T.useMemo(function(){var R=function(A){e_(A),(Us(A)?A.touches.length>0:A.buttons>0)&&o.current?a(Zg(o.current,A,h.current)):b(!1)},O=function(){return b(!1)};function b(A){var z=p.current,$=Cd(o.current),B=A?$.addEventListener:$.removeEventListener;B(z?"touchmove":"mousemove",R),B(z?"touchend":"mouseup",O)}return[function(A){var z=A.nativeEvent,$=o.current;if($&&(e_(z),!(function(ie,he){return he&&!Us(ie)})(z,p.current)&&$)){if(Us(z)){p.current=!0;var B=z.changedTouches||[];B.length&&(h.current=B[0].identifier)}$.focus(),a(Zg($,z,h.current)),b(!0)}},function(A){var z=A.which||A.keyCode;z<37||z>40||(A.preventDefault(),c({left:z===39?.05:z===37?-.05:0,top:z===40?.05:z===38?-.05:0}))},b]},[c,a]),v=m[0],y=m[1],E=m[2];return T.useEffect(function(){return E},[E]),Ce.createElement("div",Pa({},s,{onTouchStart:v,onMouseDown:v,className:"react-colorful__interactive",ref:o,onKeyDown:y,tabIndex:0,role:"slider"}))}),ba=function(r){return r.filter(Boolean).join(" ")},Ph=function(r){var e=r.color,t=r.left,s=r.top,o=s===void 0?.5:s,a=ba(["react-colorful__pointer",r.className]);return Ce.createElement("div",{className:a,style:{top:100*o+"%",left:100*t+"%"}},Ce.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},dt=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t},My=function(r){var e=r.s,t=r.v,s=r.a,o=(200-e)*t/100;return{h:dt(r.h),s:dt(o>0&&o<200?e*t/100/(o<=100?o:200-o)*100:0),l:dt(o/2),a:dt(s,2)}},Sd=function(r){var e=My(r);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},qc=function(r){var e=My(r);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},ZN=function(r){var e=r.h,t=r.s,s=r.v,o=r.a;e=e/360*6,t/=100,s/=100;var a=Math.floor(e),c=s*(1-t),h=s*(1-(e-a)*t),p=s*(1-(1-e+a)*t),m=a%6;return{r:dt(255*[s,h,c,c,p,s][m]),g:dt(255*[p,s,s,h,c,c][m]),b:dt(255*[c,c,p,s,s,h][m]),a:dt(o,2)}},eR=function(r){var e=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(r);return e?tR({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}},tR=function(r){var e=r.r,t=r.g,s=r.b,o=r.a,a=Math.max(e,t,s),c=a-Math.min(e,t,s),h=c?a===e?(t-s)/c:a===t?2+(s-e)/c:4+(e-t)/c:0;return{h:dt(60*(h<0?h+6:h)),s:dt(a?c/a*100:0),v:dt(a/255*100),a:o}},nR=Ce.memo(function(r){var e=r.hue,t=r.onChange,s=ba(["react-colorful__hue",r.className]);return Ce.createElement("div",{className:s},Ce.createElement(Rh,{onMove:function(o){t({h:360*o.left})},onKey:function(o){t({h:Ri(e+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":dt(e),"aria-valuemax":"360","aria-valuemin":"0"},Ce.createElement(Ph,{className:"react-colorful__hue-pointer",left:e/360,color:Sd({h:e,s:100,v:100,a:1})})))}),rR=Ce.memo(function(r){var e=r.hsva,t=r.onChange,s={backgroundColor:Sd({h:e.h,s:100,v:100,a:1})};return Ce.createElement("div",{className:"react-colorful__saturation",style:s},Ce.createElement(Rh,{onMove:function(o){t({s:100*o.left,v:100-100*o.top})},onKey:function(o){t({s:Ri(e.s+100*o.left,0,100),v:Ri(e.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+dt(e.s)+"%, Brightness "+dt(e.v)+"%"},Ce.createElement(Ph,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Sd(e)})))}),iR=function(r,e){if(r===e)return!0;for(var t in r)if(r[t]!==e[t])return!1;return!0},sR=function(r,e){return r.replace(/\s/g,"")===e.replace(/\s/g,"")};function oR(r,e,t){var s=Ed(t),o=T.useState(function(){return r.toHsva(e)}),a=o[0],c=o[1],h=T.useRef({color:e,hsva:a});T.useEffect(function(){if(!r.equal(e,h.current.color)){var m=r.toHsva(e);h.current={hsva:m,color:e},c(m)}},[e,r]),T.useEffect(function(){var m;iR(a,h.current.hsva)||r.equal(m=r.fromHsva(a),h.current.color)||(h.current={hsva:a,color:m},s(m))},[a,r,s]);var p=T.useCallback(function(m){c(function(v){return Object.assign({},v,m)})},[]);return[a,p]}var lR=typeof window<"u"?T.useLayoutEffect:T.useEffect,aR=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},t_=new Map,uR=function(r){lR(function(){var e=r.current?r.current.ownerDocument:document;if(e!==void 0&&!t_.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,t_.set(e,t);var s=aR();s&&t.setAttribute("nonce",s),e.head.appendChild(t)}},[])},cR=function(r){var e=r.className,t=r.hsva,s=r.onChange,o={backgroundImage:"linear-gradient(90deg, "+qc(Object.assign({},t,{a:0}))+", "+qc(Object.assign({},t,{a:1}))+")"},a=ba(["react-colorful__alpha",e]),c=dt(100*t.a);return Ce.createElement("div",{className:a},Ce.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),Ce.createElement(Rh,{onMove:function(h){s({a:h.left})},onKey:function(h){s({a:Ri(t.a+h.left)})},"aria-label":"Alpha","aria-valuetext":c+"%","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},Ce.createElement(Ph,{className:"react-colorful__alpha-pointer",left:t.a,color:qc(t)})))},dR=function(r){var e=r.className,t=r.colorModel,s=r.color,o=s===void 0?t.defaultColor:s,a=r.onChange,c=Dy(r,["className","colorModel","color","onChange"]),h=T.useRef(null);uR(h);var p=oR(t,o,a),m=p[0],v=p[1],y=ba(["react-colorful",e]);return Ce.createElement("div",Pa({},c,{ref:h,className:y}),Ce.createElement(rR,{hsva:m,onChange:v}),Ce.createElement(nR,{hue:m.h,onChange:v}),Ce.createElement(cR,{hsva:m,onChange:v,className:"react-colorful__last-control"}))},hR={defaultColor:"rgba(0, 0, 0, 1)",toHsva:eR,fromHsva:function(r){var e=ZN(r);return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},equal:sR},Ps=function(r){return Ce.createElement(dR,Pa({},r,{colorModel:hR}))};const n_=({isOpen:r,onClose:e,title:t,children:s,surface:o,primary:a,secondary:c})=>{const h=T.useRef(null);return r?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",onClick:e,children:_.jsx("div",{className:"bg-gray-500",children:_.jsxs("div",{ref:h,className:"p-6 rounded-md shadow-lg focus:outline-none max-h-[90vh] overflow-y-auto",style:{backgroundColor:o,color:a,opacity:1},role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title",tabIndex:-1,onClick:p=>p.stopPropagation(),children:[t&&_.jsx("h2",{id:"dialog-title",className:"text-lg font-semibold mb-6",children:t}),_.jsx("hr",{style:{borderColor:c}}),_.jsx("div",{className:"mb-6"}),s,_.jsx("div",{className:"flex justify-end mt-4",children:_.jsx("button",{onClick:e,className:"font-bold py-2 px-4 underline",children:"Close"})})]})})}):null};async function fR(r,e,t){try{const s=Nt(r,`profiles/${e}`),o=await UI(s);if(o.exists()){const a=o.val(),c=Nt(r,`profiles/${t}`);await hy(c,a),console.log(`Successfully cloned artist data from ${e} to ${t}`)}else throw console.error(`Source artist with UID ${e} does not exist.`),new Error(`Source artist with UID ${e} does not exist.`)}catch(s){throw console.error("Error cloning artist data:",s),s}}function pR({destinationUid:r}){const[e,t]=T.useState(""),[s,o]=T.useState(!1),[a,c]=T.useState("");T.useEffect(()=>{const p=m=>{c(v=>{const y=v+m.key;return y.toLowerCase().includes("/revealcloner")?(o(!0),""):y.slice(-13)})};return window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}},[]);const h=async()=>{if(r)try{await fR(ut,e,r),alert("Artist data cloned successfully!")}catch(p){console.error("Clone failed:",p),alert("Failed to clone artist data.")}};return s?_.jsxs("div",{className:"flex items-center pt-3 w-full gap-4",children:[_.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Artist UID",className:"pl-1 focus:outline-none border border-teal-500 w-full"}),_.jsx("button",{onClick:h,className:"text-black bg-teal-500 font-bold px-2",children:"Clone"})]}):null}const mR=()=>{const r=new URLSearchParams(location.hash.split("?")[1]).get("uid"),[e,t]=T.useState(null),s=Sh(),[o,a]=T.useState(!1),[c,h]=T.useState(e),{currentUser:p}=Eh(),[m,v]=T.useState(!1),[y,E]=T.useState(0),[R,O]=T.useState(!1);T.useEffect(()=>{if(!r)return;const P=Nt(ut,`profiles/${r}`),J=wh(P,H=>{const X=H.val();X?(t(X),h(X),X.theme||B()):t(null)});return()=>J()},[r,ut]),T.useEffect(()=>{p||a(!1)},[p]);const b=()=>{Ns(Nt(ut,`profiles/${r}`),{name:(c==null?void 0:c.name)||null,desc:(c==null?void 0:c.desc)||null,longDesc:(c==null?void 0:c.longDesc)||null,bg:(c==null?void 0:c.bg)||null,pfp:(c==null?void 0:c.pfp)||null,theme:(c==null?void 0:c.theme)||null,oc:(c==null?void 0:c.oc)||null})},A=()=>{if((o&&e&&e.oc?Object.keys(e.oc).length:0)<pi.max_oc){const P=Vc(Nt(ut,`profiles/${r}/oc`));if(P.key){const H={sortingTag:`-${1e15-Date.now()}`,name:"New OC",ref:""};Ns(P,H)}}},z=P=>{if((o&&e&&e.oc&&e.oc[P].links?Object.keys(e.oc[P].links).length:0)<pi.max_links){const J=Vc(Nt(ut,`profiles/${r}/oc/${P}/links`));if(J.key){const X={label:"Link",url:"https://example.com/",sortingTag:`-${1e15-Date.now()}`};Ns(J,X)}}},$=P=>{if((o&&e&&e.oc&&e.oc[P].gallery?Object.keys(e.oc[P].gallery).length:0)<pi.max_gallery){const J=Vc(Nt(ut,`profiles/${r}/oc/${P}/gallery`));if(J.key){const X={desc:"",credit:"",img:"https://picsum.photos/200/300",sortingTag:`-${1e15-Date.now()}`};Ns(J,X)}}},B=()=>{Ns(Nt(ut,`profiles/${r}`),{theme:{primary:ye.primary,secondary:ye.secondary,bg:ye.bg,surface:ye.surface,highlight:ye.highlight,width:(e==null?void 0:e.theme.width)||"max-w-screen-md",font:(e==null?void 0:e.theme.font)||"sans-serif"}})},ie=P=>_.jsxs("div",{className:"flex gap-2 items-center text-xs text-teal-500 mb-1",children:[P.text,_.jsx("button",{onClick:()=>E(1),children:_.jsx(Jg,{})})]}),he=P=>_.jsxs("div",{className:"flex gap-2 items-center text-xs text-teal-500 mb-1",children:[P.text,_.jsx("button",{onClick:()=>E(2),children:_.jsx(Jg,{})})]});return _.jsxs("div",{className:"relative h-min-full",style:{color:(e==null?void 0:e.theme.primary)||ye.primary,fontFamily:(e==null?void 0:e.theme.font)||"sans-serif"},children:[_.jsx("div",{className:"fixed w-[100vw] h-[100vh] z-0",style:{backgroundImage:`url(${e==null?void 0:e.bg})`,backgroundColor:ye.bbg,backgroundSize:"cover",backgroundPosition:"top",backgroundAttachment:"fixed"}}),_.jsx(Ay,{bg:ye.bg,surface:e==null?void 0:e.theme.surface,primary:e==null?void 0:e.theme.primary,secondary:e==null?void 0:e.theme.secondary,highlight:e==null?void 0:e.theme.highlight}),_.jsx("div",{className:"relative container mx-auto flex justify-center items-center h-full z-10",children:_.jsxs("div",{className:`shadow-md p-4 w-full my-16 ${e==null?void 0:e.theme.width} flex flex-col gap-4`,style:{backgroundColor:e==null?void 0:e.theme.bg},children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("button",{onClick:()=>s(-1),children:_.jsx(KN,{size:24})}),p&&p.uid==r&&_.jsx("button",{onClick:()=>{o&&b(),O(!1),a(!o)},children:_.jsxs("div",{className:"flex gap-2 underline",children:[o?"Stop Editing":"Start Editing",o?_.jsx(YN,{size:24}):_.jsx(qN,{size:24})]})})]}),_.jsx(pR,{destinationUid:r}),!e&&_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("h1",{children:[_.jsx("br",{}),_.jsx("br",{}),_.jsx("br",{}),"Page not found!",_.jsx("br",{}),"or could just be loading...",_.jsx("br",{}),_.jsx("br",{}),_.jsx("br",{})]})}),e&&((e==null?void 0:e.pfp)||(e==null?void 0:e.name)||(e==null?void 0:e.desc)||(e==null?void 0:e.longDesc)||o)&&_.jsxs("div",{className:"mt-4 p-4",style:{backgroundColor:e==null?void 0:e.theme.surface},children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx("img",{src:e.pfp||Rr,className:"w-20 h-20 rounded-full object-cover mr-8 ml-4 my-4 shrink-0"}),_.jsxs("div",{className:"w-full truncate",children:[o&&_.jsx("p",{className:"text-xs text-teal-500 mb-1 w-full",children:"Artist name"}),_.jsx("h1",{className:"text-lg font-bold w-full",children:o?_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full mb-4",onBlur:()=>b(),value:(c==null?void 0:c.name)||"",onChange:P=>{h({...e,name:P.target.value})}}):_.jsxs("div",{className:"w-full flex items-end gap-1",children:[e.name,_.jsx("p",{className:"text-xs mb-1",style:{color:e==null?void 0:e.theme.highlight},children:"(artist)"})]})}),o&&_.jsx("p",{className:"text-xs text-teal-500 mb-1 w-full",children:"Brief description"}),_.jsx("div",{className:"text-sm w-full",style:{color:e==null?void 0:e.theme.secondary},children:o?_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full mb-4",onBlur:()=>b(),value:(c==null?void 0:c.desc)||"",onChange:P=>{h({...e,desc:P.target.value})}}):e.desc})]})]}),o&&_.jsxs("div",{className:"my-4",children:[_.jsx(ie,{text:"Profile picture URL"}),_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full mb-4",onBlur:()=>b(),value:(c==null?void 0:c.pfp)||"",onChange:P=>{h({...e,pfp:P.target.value})}}),_.jsx(ie,{text:"Background image URL"}),_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full",onBlur:()=>b(),value:(c==null?void 0:c.bg)||"",onChange:P=>{h({...e,bg:P.target.value})}})]}),(e.longDesc||o)&&_.jsxs("div",{className:"mt-4 w-full overflow-hidden text-ellipsis",children:[o&&_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Detailed description text"}),o?_.jsx("textarea",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full h-48",onBlur:()=>b(),value:(c==null?void 0:c.longDesc)||"",onChange:P=>{h({...e,longDesc:P.target.value})}}):Xg(e.longDesc||"")]}),o&&_.jsxs(_.Fragment,{children:[_.jsx("h4",{className:"text-lg text-teal-500 font-semibold mt-4",children:"Theme Settings"}),_.jsx("p",{className:"text-xs text-teal-500 mb-4",children:"*Theme changes are also local - you are setting a unique theme just for your page."}),_.jsxs("div",{className:"w-full flex",children:[_.jsxs("div",{className:"w-full mr-4",children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Width"}),_.jsxs("select",{className:"border border-teal-500 mb-4 w-full",value:e==null?void 0:e.theme.width,style:{backgroundColor:e==null?void 0:e.theme.surface},onChange:P=>{h({...e,theme:{...e.theme,width:P.target.value}})},onClick:()=>b(),children:[_.jsx("option",{value:"max-w-screen-sm",children:"Small"}),_.jsx("option",{value:"max-w-screen-md",children:"Medium"}),_.jsx("option",{value:"max-w-screen-lg",children:"Large"}),_.jsx("option",{value:"max-w-screen-xl",children:"Extra Large"})]})]}),_.jsxs("div",{className:"w-full",children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Font"}),_.jsxs("select",{className:"border border-teal-500 mb-4 w-full",value:e==null?void 0:e.theme.font,style:{backgroundColor:e==null?void 0:e.theme.surface},onChange:P=>{h({...e,theme:{...e.theme,font:P.target.value}})},onClick:()=>b(),children:[_.jsx("option",{value:"sans-serif",style:{fontFamily:"sans-serif"},children:"Sans Serif - DEFAULT"}),_.jsx("option",{value:"Arial, sans-serif",style:{fontFamily:"Arial, sans-serif"},children:"Arial"}),_.jsx("option",{value:"Verdana, sans-serif",style:{fontFamily:"Verdana, sans-serif"},children:"Verdana"}),_.jsx("option",{value:"Tahoma, sans-serif",style:{fontFamily:"Tahoma, sans-serif"},children:"Tahoma"}),_.jsx("option",{value:"Trebuchet MS, sans-serif",style:{fontFamily:"Trebuchet MS, sans-serif"},children:"Trebuchet MS"}),_.jsx("option",{value:"Times New Roman, serif",style:{fontFamily:"Times New Roman, serif"},children:"Times New Roman"}),_.jsx("option",{value:"Georgia, serif",style:{fontFamily:"Georgia, serif"},children:"Georgia"}),_.jsx("option",{value:"Garamond, serif",style:{fontFamily:"Garamond, serif"},children:"Garamond"}),_.jsx("option",{value:"Vidaloka, serif",style:{fontFamily:"Vidaloka, serif"},children:"Vidaloka"}),_.jsx("option",{value:"monospace",style:{fontFamily:"monospace"},children:"Monospace"}),_.jsx("option",{value:"Courier New, monospace",style:{fontFamily:"Courier New, monospace"},children:"Courier New"}),_.jsx("option",{value:"Lucida Console, monospace",style:{fontFamily:"Lucida Console, monospace"},children:"Lucida Console"}),_.jsx("option",{value:"Monaco, monospace",style:{fontFamily:"Monaco, monospace"},children:"Monaco"}),_.jsx("option",{value:"Consolas, monospace",style:{fontFamily:"Consolas, monospace"},children:"Consolas"}),_.jsx("option",{value:"Brush Script MT, cursive",style:{fontFamily:"Brush Script MT, cursive"},children:"Brush Script MT"}),_.jsx("option",{value:"Lucida Handwriting, cursive",style:{fontFamily:"Lucida Handwriting, cursive"},children:"Lucida Handwriting"}),_.jsx("option",{value:"Comic Sans MS, cursive",style:{fontFamily:"Comic Sans MS, sans-serif"},children:"Comic Sans MS"}),_.jsx("option",{value:"Edwardian Script ITC, cursive",style:{fontFamily:"Edwardian Script ITC, cursive"},children:"Edwardian Script ITC"}),_.jsx("option",{value:"Mistral, cursive",style:{fontFamily:"Mistral, cursive"},children:"Mistral"}),_.jsx("option",{value:"Copperplate, fantasy",style:{fontFamily:"Copperplate, fantasy"},children:"Copperplate"}),_.jsx("option",{value:"Papyrus, fantasy",style:{fontFamily:"Papyrus, fantasy"},children:"Papyrus"}),_.jsx("option",{value:"Harrington, fantasy",style:{fontFamily:"Harrington, fantasy"},children:"Harrington"}),_.jsx("option",{value:"Old English Text MT, fantasy",style:{fontFamily:"Old English Text MT, fantasy"},children:"Old English Text MT"})]})]})]}),_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"UI colors"}),_.jsxs("div",{className:"text-white font-bold flex pb-4",children:[_.jsx("button",{className:"px-2",onClick:()=>v(!m),style:{backgroundColor:ye.primary,color:ye.surface},children:m?"Close ":"Open Color Editor "}),m&&_.jsx("button",{className:"px-2 ml-4",onClick:()=>b(),style:{backgroundColor:e==null?void 0:e.theme.primary,color:e==null?void 0:e.theme.surface},children:"Apply "}),m&&_.jsx("button",{className:"px-2 ml-4",onClick:()=>B(),style:{backgroundColor:ye.primary,color:ye.surface},children:"Reset "})]}),m&&_.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-4 justify-center mb-8 pb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Primary - texts & buttons"}),_.jsx(Ps,{color:e==null?void 0:e.theme.primary,onChange:P=>{h({...e,theme:{...e.theme,primary:P}})}})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Secondary - minor texts"}),_.jsx(Ps,{color:e==null?void 0:e.theme.secondary,onChange:P=>{h({...e,theme:{...e.theme,secondary:P}})}})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Background - borders"}),_.jsx(Ps,{color:e==null?void 0:e.theme.bg,onChange:P=>{h({...e,theme:{...e.theme,bg:P}})}})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Surface - containers & bars"}),_.jsx(Ps,{color:e==null?void 0:e.theme.surface,onChange:P=>{h({...e,theme:{...e.theme,surface:P}})}})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Highlight - links & warnings"}),_.jsx(Ps,{color:e==null?void 0:e.theme.highlight,onChange:P=>{h({...e,theme:{...e.theme,highlight:P}})}})]})]})]}),o&&_.jsxs(_.Fragment,{children:[_.jsxs("p",{className:"text-xs text-teal-500 mb-1 mt-4",children:["OC - max. ",pi.max_oc]}),_.jsx("button",{className:"text-white font-bold px-2 w-full",onClick:()=>A(),style:{backgroundColor:e==null?void 0:e.theme.primary,color:e==null?void 0:e.theme.surface},children:"Create New OC Page +"})]})]}),e&&(e.oc||o)&&_.jsx("div",{className:"flex flex-col gap-4",children:e.oc&&Object.entries(e.oc).sort((P,J)=>P[1].sortingTag.localeCompare(J[1].sortingTag)).map(([P,J])=>_.jsxs("div",{className:"shadow-md px-4",style:{backgroundColor:e==null?void 0:e.theme.surface},children:[o&&_.jsxs("div",{className:"flex items-top justify-between mt-4",children:[_.jsxs("div",{className:"flex flex-col w-32",children:[_.jsx(he,{text:"Tag"}),_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 mb-4",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].sortingTag)||"",onChange:H=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],sortingTag:H.target.value}}})}})]}),_.jsxs("div",{className:"flex gap-4",children:[R&&_.jsx("button",{className:"text-white font-bold px-2 h-6 mb-4",onClick:()=>{O(!1),$c(Nt(ut,`profiles/${r}/oc/${P}`))},style:{backgroundColor:e==null?void 0:e.theme.primary,color:e==null?void 0:e.theme.surface},children:"Delete"}),_.jsx("button",{className:"text-white font-bold px-2 h-6 mb-4",onClick:()=>{O(!R)},style:{backgroundColor:e==null?void 0:e.theme.primary,color:e==null?void 0:e.theme.surface},children:R?"Cancel":"Delete"})]})]}),_.jsx("div",{className:"my-4 w-full",children:_.jsx("div",{className:"flex items-center gap-8 mb-4 w-full",children:_.jsxs("div",{className:"w-full",children:[o&&_.jsx("p",{className:"text-xs text-teal-500 mb-1 w-full",children:"Character name"}),_.jsx("h3",{className:"text-2xl font-bold mb-2 w-full truncate flex items-center",children:o?_.jsxs("div",{className:"flex flex-col w-full",children:[_.jsx("input",{className:"bg-transparent pl-1 border border-teal-500 w-full mb-2 focus:outline-none",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].name)||"",onChange:H=>h({...e,oc:{...e.oc,[P]:{...e.oc[P],name:H.target.value}}})}),_.jsxs("label",{className:"flex items-center text-xs mb-2 w-16",children:[_.jsx("input",{type:"checkbox",className:"h-4 w-4 text-teal-500",onBlur:()=>b(),checked:(c==null?void 0:c.oc[P].isSona)||!1,onChange:H=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],isSona:H.target.checked}}})}}),_.jsx("p",{className:"text-ms ml-1 text-teal-500",children:"Sona"})]})]}):_.jsxs("div",{className:"flex items-end",children:[J.name,J.isSona&&_.jsx("p",{className:"ml-1 text-sm mb-1",style:{color:e==null?void 0:e.theme.highlight},children:"(Sona)"})]})}),o&&_.jsx("p",{className:"text-xs text-teal-500 mb-1 w-full",children:"Brief description"}),_.jsx("div",{style:{color:e==null?void 0:e.theme.secondary},className:"truncate",children:o?_.jsx("input",{className:"bg-transparent pl-1 border border-teal-500 w-full focus:outline-none",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].desc)||"",onChange:H=>h({...e,oc:{...e.oc,[P]:{...e.oc[P],desc:H.target.value}}})}):J.desc})]})})}),(J.longDesc||o)&&_.jsxs("div",{className:"mb-4 truncate",children:[o&&_.jsx("p",{className:"text-xs text-teal-500 mb-1",children:"Detailed description text"}),o?_.jsx("textarea",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full h-48",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].longDesc)||"",onChange:H=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],longDesc:H.target.value}}})}}):_.jsx("p",{className:"mb-4",children:Xg(J.longDesc||"")})]}),o&&_.jsxs("div",{className:"w-full",children:[_.jsxs("p",{className:"text-xs text-teal-500 mb-1",children:["Hyperlink URLs - max. ",pi.max_links]}),_.jsx("button",{className:"text-white font-bold px-2 mb-4",onClick:()=>z(P),style:{backgroundColor:e==null?void 0:e.theme.primary,color:e==null?void 0:e.theme.surface},children:"Create New Link +"}),J.links&&_.jsxs("div",{className:"flex items-center gap-2 w-full mr-4 pr-4 text-xs text-teal-500",children:[_.jsx("div",{className:"w-2/6",children:_.jsx(he,{text:"OC Tag"})}),_.jsx("div",{className:"w-2/6 mb-1",children:_.jsx("p",{children:"Label"})}),_.jsx("div",{className:"w-2/6 mb-1",children:_.jsx("p",{children:"URL"})}),_.jsxs("button",{className:"invisible",children:[" ",_.jsx(Ol,{size:16})," "]})]})]}),J.links&&Object.entries(J.links).sort((H,X)=>H[1].sortingTag.localeCompare(X[1].sortingTag)).map(([H,X])=>_.jsx("div",{className:"flex flex-col text-md",children:o?_.jsxs("div",{className:"flex items-center gap-2 w-full mb-2",children:[_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-2/6",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].links[H].sortingTag)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],links:{...e.oc[P].links,[H]:{...e.oc[P].links[H],sortingTag:pe.target.value}}}}})}}),_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-2/6",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].links[H].label)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],links:{...e.oc[P].links,[H]:{...e.oc[P].links[H],label:pe.target.value}}}}})}}),_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-2/6",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].links[H].url)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],links:{...e.oc[P].links,[H]:{...e.oc[P].links[H],url:pe.target.value}}}}})}}),_.jsx("button",{onClick:()=>$c(Nt(ut,`profiles/${r}/oc/${P}/links/${H}`)),children:_.jsx(Ol,{size:16})})]}):_.jsxs("a",{href:X.url,target:"_blank",rel:"noopener noreferrer",style:{color:e==null?void 0:e.theme.highlight},className:"underline truncate",children:[X.label," "]})},H)),(J.ref||o)&&_.jsxs("div",{className:"mb-4 mt-4",children:[_.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Reference Sheet"}),o?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:J.ref,className:"w-full object-contain"}),_.jsx("p",{className:"text-xs text-teal-500 mt-2 mb-1",children:"Reference sheet"}),_.jsx("input",{className:"bg-transparent pl-1 focus:outline-none border border-teal-500 w-full mb-4",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].ref)||"",onChange:H=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],ref:H.target.value}}})}})]}):_.jsx("a",{href:J.ref,target:"_blank",rel:"noopener noreferrer",children:_.jsx("img",{src:J.ref,className:"w-full object-contain"})})]}),o&&_.jsxs(_.Fragment,{children:[_.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Character Art Gallery"}),_.jsxs("p",{className:"text-xs text-teal-500 mt-2 mb-1",children:["Additional references, fanarts, etc. - max. ",pi.max_gallery]}),_.jsx("button",{className:"text-white font-bold px-2 mb-4",onClick:()=>$(P),style:{backgroundColor:e==null?void 0:e.theme.primary,color:e==null?void 0:e.theme.surface},children:"Create New Gallery Image +"})]}),J.gallery&&_.jsxs("div",{className:"mb-4",children:[!o&&_.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Character Art Gallery"}),_.jsx("div",{className:o?"flex flex-col gap-8":Object.keys(J.gallery).length>3?"flex flex-wrap gap-4 justify-start max-h-[400px] md:max-h-[930px] overflow-y-auto":"flex flex-wrap gap-4 justify-start",children:Object.entries(J.gallery).sort((H,X)=>H[1].sortingTag.localeCompare(X[1].sortingTag)).map(([H,X])=>_.jsx("div",{className:"relative",children:o?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:X.img,className:"w-auto h-[200px] object-cover mb-2"}),_.jsx("div",{className:"mb-1 ",children:_.jsxs("div",{className:"flex gap-2 text-xs text-teal-500",children:[_.jsx("div",{className:"w-1/6",children:_.jsx(he,{text:"Tag"})}),_.jsx("p",{className:"w-2/6",children:"Description"}),_.jsx("p",{className:"w-1/6",children:"Credit"}),_.jsx("div",{className:"w-2/6",children:_.jsx(ie,{text:"URL"})}),_.jsx("button",{className:"invisible",children:_.jsx(Ol,{size:16})})]})}),_.jsxs("div",{className:"flex items-center gap-2 w-full",children:[_.jsx("input",{className:"w-1/6 bg-transparent pl-1 focus:outline-none border border-teal-500",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].gallery[H].sortingTag)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],gallery:{...e.oc[P].gallery,[H]:{...e.oc[P].gallery[H],sortingTag:pe.target.value}}}}})}}),_.jsx("input",{className:"w-2/6 bg-transparent pl-1 focus:outline-none border border-teal-500",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].gallery[H].desc)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],gallery:{...e.oc[P].gallery,[H]:{...e.oc[P].gallery[H],desc:pe.target.value}}}}})}}),_.jsx("input",{className:"w-1/6 bg-transparent pl-1 focus:outline-none border border-teal-500",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].gallery[H].credit)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],gallery:{...e.oc[P].gallery,[H]:{...e.oc[P].gallery[H],credit:pe.target.value}}}}})}}),_.jsx("input",{className:"w-2/6 bg-transparent pl-1 focus:outline-none border border-teal-500",onBlur:()=>b(),value:(c==null?void 0:c.oc[P].gallery[H].img)||"",onChange:pe=>{h({...e,oc:{...e.oc,[P]:{...e.oc[P],gallery:{...e.oc[P].gallery,[H]:{...e.oc[P].gallery[H],img:pe.target.value}}}}})}}),_.jsx("button",{onClick:()=>$c(Nt(ut,`profiles/${r}/oc/${P}/gallery/${H}`)),children:_.jsx(Ol,{size:16})})]})]}):_.jsxs("a",{href:X.img,target:"_blank",rel:"noopener noreferrer",children:[_.jsx("img",{src:X.img,className:"w-auto h-[125px] md:h-[300px] object-cover "}),_.jsxs("span",{className:"absolute bottom-0 left-0 bg-gray-800 text-white text-xs px-2 py-1 bg-opacity-75 w-full",children:[X.desc&&_.jsx("p",{className:"truncate",children:X.desc}),_.jsxs("p",{className:"truncate",children:["By ",X.credit?X.credit:"unknown"]})]})]})},H))})]})]},P))})]})}),_.jsx(Ly,{surface:e==null?void 0:e.theme.surface,secondary:e==null?void 0:e.theme.secondary}),_.jsxs(n_,{isOpen:y===1,onClose:()=>E(0),title:"How to Insert Images",surface:e==null?void 0:e.theme.surface,primary:e==null?void 0:e.theme.primary,secondary:e==null?void 0:e.theme.secondary,children:["You can insert images by uploading image URLs!",_.jsx("br",{}),_.jsx("br",{}),_.jsx("p",{className:"font-bold",children:"Step 1 - Upload image to Imgur"}),"Visit ",_.jsx("a",{href:"https://imgur.com/upload",target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:e==null?void 0:e.theme.highlight},children:"imgur.com"})," and drag in any image into any part of the website screen.",_.jsx("br",{}),"Login is not required, but it is recommended since Imgur might one day delete all images not linked to an account.",_.jsx("img",{src:VN,className:"my-2"}),_.jsx("br",{}),_.jsx("br",{}),_.jsx("p",{className:"font-bold",children:"Stpe 2 - Open image in new tab"}),_.jsx("img",{src:$N,className:"my-2"}),'Right click the uploaded image and select "Open image in new tab" ',"(simply copying the link won't work).",_.jsx("br",{}),_.jsx("br",{}),_.jsx("p",{className:"font-bold",children:"Step 3 - Copy URL"}),_.jsx("img",{src:GN,className:"my-2"}),"Copy the URL of the image opened in a new tab. Paste this URL into this reference library."]}),_.jsxs(n_,{isOpen:y===2,onClose:()=>E(0),title:"How to Use Sorting Tags",surface:e==null?void 0:e.theme.surface,primary:e==null?void 0:e.theme.primary,secondary:e==null?void 0:e.theme.secondary,children:["Sort your images, links, and OCs with sorting tags!",_.jsx("br",{}),_.jsx("br",{}),"Sorting tags can be any alphanumerical texts.",_.jsx("br",{}),"These tags will not be displayed - it is for sorting purposes only.",_.jsx("br",{}),_.jsx("br",{}),'For example, if there are two images with sorting tags "Alpha" and "Bravo", "Alpha" will appear first.',_.jsx("br",{}),_.jsx("br",{}),"Pay kevin $50 to add a drag-and-drop reordering UI functionality."]})]})};Ww.createRoot(document.getElementById("root")).render(_.jsx(dN,{children:_.jsx(NN,{children:_.jsxs(WT,{children:[_.jsx(yd,{index:!0,element:_.jsx(HN,{})}),_.jsx(yd,{path:"ref",element:_.jsx(mR,{})})]})})}));
